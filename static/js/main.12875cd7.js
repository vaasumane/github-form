/*! For license information please see main.12875cd7.js.LICENSE.txt */
(()=>{var e={532:(e,t,n)=>{"use strict";var r=n(552);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},840:(e,t,n)=>{e.exports=n(532)()},552:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},144:(e,t,n)=>{"use strict";var r=n(60),i=n(724);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),I=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function z(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var c="\n"+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=o);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function j(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case I:return"Portal";case T:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){J(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function se(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,ke=null,Ee=null;function Te(e){if(e=bi(e)){if("function"!==typeof Ie)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ie(e.stateNode,e.type,t))}}function Se(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return xe(e,t,n)}finally{Ae=!1,(null!==ke||null!==Ee)&&(Ne(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Le(e,t,n,r,i,s,a,o,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Me=!1,Fe=null,Ue=!1,Ve=null,ze={onError:function(e){Me=!0,Fe=e}};function je(e,t,n,r,i,s,a,o,c){Me=!1,Fe=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Be(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/ct|0)|0},ot=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,It,kt,Et,Tt,St=!1,Ct=[],xt=null,Nt=null,At=null,Rt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&It(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&It(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function zt(){St=!1,null!==xt&&Ut(xt)&&(xt=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),Rt.forEach(Vt),Pt.forEach(Vt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return jt(t,e)}if(0<Ct.length){jt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&jt(xt,e),null!==Nt&&jt(Nt,e),null!==At&&jt(At,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,Gt=!0;function Kt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Ht(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Wt(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Mt(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&Gr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(ln),hn=F({},ln,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,on=e.screenY-cn.screenY):on=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(F({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return En}var Sn=F({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(Sn),xn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Rn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Vn=!1;function zn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Se(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){Ur(e,0)}function Yn(e){if(W(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Kn(t,Wn,e,_e(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function sr(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Er={};function Tr(e){if(kr[e])return kr[e];if(!Ir[e])return e;var t,n=Ir[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);var Sr=Tr("animationend"),Cr=Tr("animationiteration"),xr=Tr("animationstart"),Nr=Tr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),c(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(xr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,c,l){if(je.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=Fe;Me=!1,Fe=null,Ue||(Ue=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,l=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;Fr(i,o,l),s=c}else for(a=0;a<r.length;a++){if(c=(o=r[a]).instance,l=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;Fr(i,o,l),s=c}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Vr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[jr]){e[jr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(c=a.tag)||6===c){r=s=a;continue e}o=o.parentNode}}r=r.return}Re((function(){var r=s,i=_e(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Cn;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nn;break;case Sr:case Cr:case xr:c=vn;break;case Nr:c=An;break;case"scroll":c=dn;break;case"wheel":c=Pn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pe(p,d))&&u.push(Kr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new c(o,l,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(h=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?o:wi(c),f=null==l?o:wi(l),(o=new u(m,p+"leave",c,n,i)).target=h,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",l,n,i)).target=f,u.relatedTarget=h,m=u),h=m,c&&l)e:{for(d=l,p=0,f=u=c;f;f=Wr(f))p++;for(f=0,m=d;m;m=Wr(m))f++;for(;0<p-f;)u=Wr(u),p--;for(;0<f-p;)d=Wr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Wr(u),d=Wr(d)}u=null}else u=null;null!==c&&Qr(a,o,c,u,!1),null!==l&&null!==h&&Qr(a,h,l,u,!0)}if("select"===(c=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var g=Xn;else if(Gn(o))if(Jn)g=ar;else{g=ir;var v=rr}else(c=o.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(v=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=jn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=$t=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Ur(a,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,c=o.alternate,l=o.stateNode;if(null!==c&&c===r)break;5===o.tag&&null!==l&&(o=l,i?null!=(c=Pe(n,s))&&a.unshift(Kr(n,c,o)):i||null!=(c=Pe(n,s))&&a.push(Kr(n,c,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ii=[],ki=-1;function Ei(e){return{current:e}}function Ti(e){0>ki||(e.current=Ii[ki],Ii[ki]=null,ki--)}function Si(e,t){ki++,Ii[ki]=e.current,e.current=t}var Ci={},xi=Ei(Ci),Ni=Ei(!1),Ai=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ti(Ni),Ti(xi)}function Di(e,t,n){if(xi.current!==Ci)throw Error(s(168));Si(xi,t),Si(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=xi.current,Si(xi,e),Si(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(xi),Si(xi,e)):Ti(Ni),Si(Ni,n)}var Ui=null,Vi=!1,zi=!1;function ji(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!zi&&null!==Ui){zi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),We(Ze,Bi),i}finally{bt=t,zi=!1}}return null}var qi=[],Gi=0,Ki=null,Hi=0,Wi=[],Qi=0,Yi=null,Xi=1,Ji="";function $i(e,t){qi[Gi++]=Hi,qi[Gi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Wi[Qi++]=Xi,Wi[Qi++]=Ji,Wi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Ji=s+e}else Xi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Ki;)Ki=qi[--Gi],qi[Gi]=null,Hi=qi[--Gi],qi[Gi]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,Ji=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(cs(e))throw Error(s(418));t=li(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(cs(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=li(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?li(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=li(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Ei(null),ys=null,bs=null,ws=null;function _s(){ws=bs=ys=null}function Is(e){var t=vs.current;Ti(vs),e._currentValue=t}function ks(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){ys=e,ws=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===ys)throw Error(s(308));bs=e,ys.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var Ss=null;function Cs(e){null===Ss?Ss=[e]:Ss.push(e)}function xs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Cs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,Cs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var c=o,l=c.next;c.next=null,null===a?s=l:a.next=l,a=c;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=l:o.next=l,u.lastBaseUpdate=c))}if(null!==s){var h=i.baseState;for(a=0,u=l=c=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:As=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(l=u=f,c=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fc|=a,e.lanes=a,e.memoizedState=h}}function Us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Vs=(new r.Component).refs;function zs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var js={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Os(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rl(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Os(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rl(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Os(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ds(e,i,r))&&(rl(t,e,r,n),Ls(t,e,r))}};function Bs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,s))}function qs(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(i=Pi(t)?Ai:xi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=js,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Gs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&js.enqueueReplaceState(t,t.state,null)}function Ks(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vs,Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ts(s):(s=Pi(t)?Ai:xi.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(zs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&js.enqueueReplaceState(i,i.state,null),Fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Hs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Vs&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ws(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Hs(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Hs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Hs(e,null,t),n.return=e,n;case I:return(t=Vl(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Ws(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case I:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Ws(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Ws(t,r)}return null}function m(i,s,o,c){for(var l=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],c);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,m),null===u?l=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(i,h),is&&$i(i,m),l;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],c))&&(s=a(h,s,m),null===u?l=h:u.sibling=h,u=h);return is&&$i(i,m),l}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?l=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&$i(i,m),l}function g(i,o,c,l){var u=L(c);if("function"!==typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),is&&$i(i,g),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=d(i,y.value,l))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return is&&$i(i,g),u}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&$i(i,g),u}return function e(r,s,a,c){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var l=a.key,u=s;null!==u;){if(u.key===l){if((l=a.type)===k){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&Qs(l)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Hs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((s=Ml(a.props.children,r.mode,c,a.key)).return=r,r=s):((c=Ll(a.type,a.key,a.props,null,r.mode,c)).ref=Hs(r,s,a),c.return=r,r=c)}return o(r);case I:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Vl(a,r.mode,c)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),c)}if(te(a))return m(r,s,a,c);if(L(a))return g(r,s,a,c);Ws(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Ul(a,r.mode,c)).return=r,r=s),o(r)):n(r,s)}}var Xs=Ys(!0),Js=Ys(!1),$s={},Zs=Ei($s),ea=Ei($s),ta=Ei($s);function na(e){if(e===$s)throw Error(s(174));return e}function ra(e,t){switch(Si(ta,t),Si(ea,e),Si(Zs,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Zs),Si(Zs,t)}function ia(){Ti(Zs),Ti(ea),Ti(ta)}function sa(e){na(ta.current);var t=na(Zs.current),n=ce(t,e.type);t!==n&&(Si(ea,e),Si(Zs,n))}function aa(e){ea.current===e&&(Ti(Zs),Ti(ea))}var oa=Ei(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function ua(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var ha=w.ReactCurrentDispatcher,da=w.ReactCurrentBatchConfig,fa=0,pa=null,ma=null,ga=null,va=!1,ya=!1,ba=0,wa=0;function _a(){throw Error(s(321))}function Ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(fa=a,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ao:oo,e=n(r,i),ya){a=0;do{if(ya=!1,ba=0,25<=a)throw Error(s(301));a+=1,ga=ma=null,t.updateQueue=null,ha.current=co,e=n(r,i)}while(ya)}if(ha.current=so,t=null!==ma&&null!==ma.next,fa=0,ga=ma=pa=null,va=!1,t)throw Error(s(300));return e}function Ea(){var e=0!==ba;return ba=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?pa.memoizedState=ga=e:ga=ga.next=e,ga}function Sa(){if(null===ma){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?pa.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?pa.memoizedState=ga=e:ga=ga.next=e}return ga}function Ca(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=Sa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=o=null,l=null,u=a;do{var h=u.lane;if((fa&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=d,o=r):l=l.next=d,pa.lanes|=h,Fc|=h}u=u.next}while(null!==u&&u!==a);null===l?o=r:l.next=c,or(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,pa.lanes|=a,Fc|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=Sa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(wo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Ra(e,t){var n=pa,r=Sa(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,wo=!0),r=r.queue,qa(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Ua(9,Oa.bind(null,n,r,i,t),void 0,null),null===Ac)throw Error(s(349));0!==(30&fa)||Pa(n,t,i)}return i}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Ma(e)}function Da(e,t,n){return n((function(){La(t)&&Ma(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ma(e){var t=Ns(e,1);null!==t&&rl(t,e,1,-1)}function Fa(e){var t=Ta();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,pa,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Va(){return Sa().memoizedState}function za(e,t,n,r){var i=Ta();pa.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function ja(e,t,n,r){var i=Sa();r=void 0===r?null:r;var s=void 0;if(null!==ma){var a=ma.memoizedState;if(s=a.destroy,null!==r&&Ia(r,a.deps))return void(i.memoizedState=Ua(t,n,s,r))}pa.flags|=e,i.memoizedState=Ua(1|t,n,s,r)}function Ba(e,t){return za(8390656,8,e,t)}function qa(e,t){return ja(2048,8,e,t)}function Ga(e,t){return ja(4,2,e,t)}function Ka(e,t){return ja(4,4,e,t)}function Ha(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4,4,Ha.bind(null,t,e),n)}function Qa(){}function Ya(e,t){var n=Sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),pa.lanes|=n,Fc|=n,e.baseState=!0),t)}function $a(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function Za(){return Sa().memoizedState}function eo(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=xs(e,t,n,r))){rl(n,e,r,tl()),io(n,t,r)}}function to(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var c=t.interleaved;return null===c?(i.next=i,Cs(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=xs(e,t,i,r))&&(rl(n,e,r,i=tl()),io(n,t,r))}}function no(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function ro(e,t){ya=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var so={readContext:Ts,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},ao={readContext:Ts,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:Ba,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4194308,4,Ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:Fa,useDebugValue:Qa,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=$a.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=Ta();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ac)throw Error(s(349));0!==(30&fa)||Pa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ba(Da.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Ac.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Ts,useCallback:Ya,useContext:Ts,useEffect:qa,useImperativeHandle:Wa,useInsertionEffect:Ga,useLayoutEffect:Ka,useMemo:Xa,useReducer:xa,useRef:Va,useState:function(){return xa(Ca)},useDebugValue:Qa,useDeferredValue:function(e){return Ja(Sa(),ma.memoizedState,e)},useTransition:function(){return[xa(Ca)[0],Sa().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:Za,unstable_isNewReconciler:!1},co={readContext:Ts,useCallback:Ya,useContext:Ts,useEffect:qa,useImperativeHandle:Wa,useInsertionEffect:Ga,useLayoutEffect:Ka,useMemo:Xa,useReducer:Na,useRef:Va,useState:function(){return Na(Ca)},useDebugValue:Qa,useDeferredValue:function(e){var t=Sa();return null===ma?t.memoizedState=e:Ja(t,ma.memoizedState,e)},useTransition:function(){return[Na(Ca)[0],Sa().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:Za,unstable_isNewReconciler:!1};function lo(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Os(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kc||(Kc=!0,Hc=r),ho(0,t)},n}function mo(e,t,n){(n=Os(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Wc?Wc=new Set([this]):Wc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Os(-1,1)).tag=2,Ds(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bo=w.ReactCurrentOwner,wo=!1;function _o(e,t,n,r){t.child=null===e?Js(t,null,n,r):Xs(t,e.child,n,r)}function Io(e,t,n,r,i){n=n.render;var s=t.ref;return Es(t,i),r=ka(e,t,n,r,s,i),n=Ea(),null===e||wo?(is&&n&&es(t),t.flags|=1,_o(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ko(e,t,i))}function ko(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ol(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Eo(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Ko(e,t,i)}return t.flags|=1,(e=Dl(s,r)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ko(e,t,i);0!==(131072&e.flags)&&(wo=!0)}}return Co(e,t,n,r,i)}function To(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Dc,Oc),Oc|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Dc,Oc),Oc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Si(Dc,Oc),Oc|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Si(Dc,Oc),Oc|=r;return _o(e,t,i,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var s=Pi(n)?Ai:xi.current;return s=Ri(t,s),Es(t,i),n=ka(e,t,n,r,s,i),r=Ea(),null===e||wo?(is&&r&&es(t),t.flags|=1,_o(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ko(e,t,i))}function xo(e,t,n,r,i){if(Pi(n)){var s=!0;Mi(t)}else s=!1;if(Es(t,i),null===t.stateNode)Go(e,t),qs(t,n,r),Ks(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ts(l):l=Ri(t,l=Pi(n)?Ai:xi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||c!==l)&&Gs(t,a,r,l),As=!1;var d=t.memoizedState;a.state=d,Fs(t,r,a,i),c=t.memoizedState,o!==r||d!==c||Ni.current||As?("function"===typeof u&&(zs(t,n,u,r),c=t.memoizedState),(o=As||Bs(t,n,o,r,d,c,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ps(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:gs(t.type,o),a.props=l,h=t.pendingProps,d=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ts(c):c=Ri(t,c=Pi(n)?Ai:xi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==c)&&Gs(t,a,r,c),As=!1,d=t.memoizedState,a.state=d,Fs(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ni.current||As?("function"===typeof f&&(zs(t,n,f,r),p=t.memoizedState),(l=As||Bs(t,n,l,r,d,p,c)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,s,i)}function No(e,t,n,r,i,s){So(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Ko(e,t,s);r=t.stateNode,bo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xs(t,e.child,null,s),t.child=Xs(t,null,o,s)):_o(e,t,o,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ra(e,t.containerInfo)}function Ro(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_o(e,t,n,r),t.child}var Po,Oo,Do,Lo,Mo={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Si(oa,1&a),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,o?(i=t.mode,o=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=c):o=Fl(c,i,0,null),e=Ml(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(n),t.memoizedState=Mo,e):Vo(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(a=Ml(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xs(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Mo,a);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,zo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(c=0!==(o&e.childLanes),wo||c){if(null!==(r=Ac)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ns(e,i),rl(r,e,i,-1))}return gl(),zo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=li(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Wi[Qi++]=Xi,Wi[Qi++]=Ji,Wi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Vo(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,a,n);if(o){o=i.fallback,c=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Dl(r,o):(o=Ml(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,c=null===(c=e.child.memoizedState)?Fo(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=e.childLanes&~n,t.memoizedState=Mo,i}return e=(o=e.child).sibling,i=Dl(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vo(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&ps(r),Xs(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function jo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ks(e.return,t,n)}function Bo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_o(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&jo(e,n,t);else if(19===e.tag)jo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bo(t,!0,n,null,s);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ko(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Wo(t),null;case 3:return r=t.stateNode,ia(),Ti(Ni),Ti(xi),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ol(ss),ss=null))),Oo(e,t),Wo(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=na(Zs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":ie(r,a),Vr("invalid",r)}for(var c in ye(n,a),i=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",""+l]):o.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Vr("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[di]=t,e[fi]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(a in ye(n,i),l=i)if(l.hasOwnProperty(a)){var u=l[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Vr("scroll",e):null!=u&&b(e,a,u,c))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Wo(t),null;case 13:if(Ti(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),a=!1}else null!==ss&&(ol(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Lc&&(Lc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return ia(),Oo(e,t),null===e&&Br(t.stateNode.containerInfo),Wo(t),null;case 10:return Is(t.type._context),Wo(t),null;case 19:if(Ti(oa),null===(a=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(c=a.rendering))if(r)Ho(a,!1);else{if(0!==Lc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ca(e))){for(t.flags|=128,Ho(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>qc&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!is)return Wo(t),null}else 2*Je()-a.renderingStartTime>qc&&1073741824!==n&&(t.flags|=128,r=!0,Ho(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=oa.current,Si(oa,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Oc)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),Ti(Ni),Ti(xi),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(Ti(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(oa),null;case 4:return ia(),null;case 10:return Is(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oo=function(){},Do=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na(Zs.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Vr("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xo=!1,Jo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Zo=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tl(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){Tl(e,t,r)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tc(t,n,s)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ac(e){var t=e.alternate;null!==t&&(e.alternate=null,ac(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oc(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||oc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var hc=null,dc=!1;function fc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Jo||ec(n,t);case 6:var r=hc,i=dc;hc=null,fc(e,t,n),dc=i,null!==(hc=r)&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hc.removeChild(n.stateNode));break;case 18:null!==hc&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Bt(e)):ci(hc,n.stateNode));break;case 4:r=hc,i=dc,hc=n.stateNode.containerInfo,dc=!0,fc(e,t,n),hc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tc(n,t,a),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Jo&&(ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Tl(n,t,o)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Jo=(r=Jo)||null!==n.memoizedState,fc(e,t,n),Jo=r):fc(e,t,n);break;default:fc(e,t,n)}}function mc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,c=o;e:for(;null!==c;){switch(c.tag){case 5:hc=c.stateNode,dc=!1;break e;case 3:case 4:hc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===hc)throw Error(s(160));pc(a,o,i),hc=null,dc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){Tl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vc(t,e),t=t.sibling}function vc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),yc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(g){Tl(e,e.return,g)}try{rc(5,e,e.return)}catch(g){Tl(e,e.return,g)}}break;case 1:gc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(gc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Tl(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===a.type&&null!=a.name&&J(i,a),be(c,o);var u=be(c,a);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(c){case"input":$(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Tl(e,e.return,g)}}break;case 6:if(gc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Tl(e,e.return,g)}}break;case 3:if(gc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Tl(e,e.return,g)}break;case 4:default:gc(t,e),yc(e);break;case 13:gc(t,e),yc(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bc=Je())),4&r&&mc(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(u=Jo)||h,gc(t,e),Jo=u):gc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(d=Zo=h;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:ec(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tl(r,n,g)}}break;case 5:ec(f,f.return);break;case 22:if(null!==f.memoizedState){Ic(d);continue}}null!==p?(p.return=f,Zo=p):Ic(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=d.stateNode,o=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",o))}catch(g){Tl(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Tl(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gc(t,e),yc(e),4&r&&mc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(oc(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),uc(e,cc(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;lc(e,cc(e),a);break;default:throw Error(s(161))}}catch(o){Tl(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,n){Zo=e,wc(e,t,n)}function wc(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xo;if(!a){var o=i.alternate,c=null!==o&&null!==o.memoizedState||Jo;o=Xo;var l=Jo;if(Xo=a,(Jo=c)&&!l)for(Zo=i;null!==Zo;)c=(a=Zo).child,22===a.tag&&null!==a.memoizedState?kc(i):null!==c?(c.return=a,Zo=c):kc(i);for(;null!==s;)Zo=s,wc(s,t,n),s=s.sibling;Zo=i,Xo=o,Jo=l}_c(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):_c(e)}}function _c(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Jo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Us(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Us(t,o,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}Jo||512&t.flags&&sc(t)}catch(f){Tl(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function Ic(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function kc(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(c){Tl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Tl(t,i,c)}}var s=t.return;try{sc(t)}catch(c){Tl(t,s,c)}break;case 5:var a=t.return;try{sc(t)}catch(c){Tl(t,a,c)}}}catch(c){Tl(t,t.return,c)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Ec,Tc=Math.ceil,Sc=w.ReactCurrentDispatcher,Cc=w.ReactCurrentOwner,xc=w.ReactCurrentBatchConfig,Nc=0,Ac=null,Rc=null,Pc=0,Oc=0,Dc=Ei(0),Lc=0,Mc=null,Fc=0,Uc=0,Vc=0,zc=null,jc=null,Bc=0,qc=1/0,Gc=null,Kc=!1,Hc=null,Wc=null,Qc=!1,Yc=null,Xc=0,Jc=0,$c=null,Zc=-1,el=0;function tl(){return 0!==(6&Nc)?Je():-1!==Zc?Zc:Zc=Je()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Nc)&&0!==Pc?Pc&-Pc:null!==ms.transition?(0===el&&(el=mt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rl(e,t,n,r){if(50<Jc)throw Jc=0,$c=null,Error(s(185));vt(e,n,r),0!==(2&Nc)&&e===Ac||(e===Ac&&(0===(2&Nc)&&(Uc|=n),4===Lc&&cl(e,Pc)),il(e,r),1===n&&0===Nc&&0===(1&t.mode)&&(qc=Je()+500,Vi&&Bi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,c=i[a];-1===c?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):c<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Ac?Pc:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,ji(e)}(ll.bind(null,e)):ji(ll.bind(null,e)),ai((function(){0===(6&Nc)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Al(n,sl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sl(e,t){if(Zc=-1,el=0,0!==(6&Nc))throw Error(s(327));var n=e.callbackNode;if(kl()&&e.callbackNode!==n)return null;var r=dt(e,e===Ac?Pc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Nc;Nc|=2;var a=ml();for(Ac===e&&Pc===t||(Gc=null,qc=Je()+500,fl(e,t));;)try{bl();break}catch(c){pl(e,c)}_s(),Sc.current=a,Nc=i,null!==Rc?t=0:(Ac=null,Pc=0,t=Lc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Mc,fl(e,0),cl(e,r),il(e,Je()),n;if(6===t)cl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(a=pt(e))&&(r=a,t=al(e,a))),1===t))throw n=Mc,fl(e,0),cl(e,r),il(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Il(e,jc,Gc);break;case 3:if(cl(e,r),(130023424&r)===r&&10<(t=Bc+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Il.bind(null,e,jc,Gc),t);break}Il(e,jc,Gc);break;case 4:if(cl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tc(r/1960))-r)){e.timeoutHandle=ri(Il.bind(null,e,jc,Gc),r);break}Il(e,jc,Gc);break;default:throw Error(s(329))}}}return il(e,Je()),e.callbackNode===n?sl.bind(null,e):null}function al(e,t){var n=zc;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=jc,jc=n,null!==t&&ol(t)),e}function ol(e){null===jc?jc=e:jc.push.apply(jc,e)}function cl(e,t){for(t&=~Vc,t&=~Uc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Nc))throw Error(s(327));kl();var t=dt(e,0);if(0===(1&t))return il(e,Je()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Mc,fl(e,0),cl(e,t),il(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Il(e,jc,Gc),il(e,Je()),null}function ul(e,t){var n=Nc;Nc|=1;try{return e(t)}finally{0===(Nc=n)&&(qc=Je()+500,Vi&&Bi())}}function hl(e){null!==Yc&&0===Yc.tag&&0===(6&Nc)&&kl();var t=Nc;Nc|=1;var n=xc.transition,r=bt;try{if(xc.transition=null,bt=1,e)return e()}finally{bt=r,xc.transition=n,0===(6&(Nc=t))&&Bi()}}function dl(){Oc=Dc.current,Ti(Dc)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rc)for(n=Rc.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:ia(),Ti(Ni),Ti(xi),ua();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:Ti(oa);break;case 10:Is(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Ac=e,Rc=e=Dl(e.current,null),Pc=Oc=t,Lc=0,Mc=null,Vc=Uc=Fc=0,jc=zc=null,null!==Ss){for(t=0;t<Ss.length;t++)if(null!==(r=(n=Ss[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ss=null}return e}function pl(e,t){for(;;){var n=Rc;try{if(_s(),ha.current=so,va){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(fa=0,ga=ma=pa=null,ya=!1,ba=0,Cc.current=null,null===n||null===n.return){Lc=1,Mc=t,Rc=null;break}e:{var a=e,o=n.return,c=n,l=t;if(t=Pc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,h=c,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,yo(p,o,c,0,t),1&p.mode&&go(a,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){go(a,u,t),gl();break e}l=Error(s(426))}else if(is&&1&c.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),yo(v,o,c,0,t),ps(lo(l,c));break e}}a=l=lo(l,c),4!==Lc&&(Lc=2),null===zc?zc=[a]:zc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ms(a,po(0,l,t));break e;case 1:c=l;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wc||!Wc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ms(a,mo(a,c,t));break e}}a=a.return}while(null!==a)}_l(n)}catch(w){t=w,Rc===n&&null!==n&&(Rc=n=n.return);continue}break}}function ml(){var e=Sc.current;return Sc.current=so,null===e?so:e}function gl(){0!==Lc&&3!==Lc&&2!==Lc||(Lc=4),null===Ac||0===(268435455&Fc)&&0===(268435455&Uc)||cl(Ac,Pc)}function vl(e,t){var n=Nc;Nc|=2;var r=ml();for(Ac===e&&Pc===t||(Gc=null,fl(e,t));;)try{yl();break}catch(i){pl(e,i)}if(_s(),Nc=n,Sc.current=r,null!==Rc)throw Error(s(261));return Ac=null,Pc=0,Lc}function yl(){for(;null!==Rc;)wl(Rc)}function bl(){for(;null!==Rc&&!Ye();)wl(Rc)}function wl(e){var t=Ec(e.alternate,e,Oc);e.memoizedProps=e.pendingProps,null===t?_l(e):Rc=t,Cc.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Oc)))return void(Rc=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Rc=n);if(null===e)return Lc=6,void(Rc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rc=t);Rc=t=e}while(null!==t);0===Lc&&(Lc=5)}function Il(e,t,n){var r=bt,i=xc.transition;try{xc.transition=null,bt=1,function(e,t,n,r){do{kl()}while(null!==Yc);if(0!==(6&Nc))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Ac&&(Rc=Ac=null,Pc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qc||(Qc=!0,Al(tt,(function(){return kl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=xc.transition,xc.transition=null;var o=bt;bt=1;var c=Nc;Nc|=4,Cc.current=null,function(e,t){if(ei=Gt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var o=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=o+i),d!==a||0!==r&&3!==d.nodeType||(l=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(c=o),f===a&&++h===r&&(l=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(_){Tl(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=nc,nc=!1}(e,n),vc(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,bc(n,e,i),Xe(),Nc=c,bt=o,xc.transition=a}else e.current=n;if(Qc&&(Qc=!1,Yc=e,Xc=i),a=e.pendingLanes,0===a&&(Wc=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kc)throw Kc=!1,e=Hc,Hc=null,e;0!==(1&Xc)&&0!==e.tag&&kl(),a=e.pendingLanes,0!==(1&a)?e===$c?Jc++:(Jc=0,$c=e):Jc=0,Bi()}(e,t,n,r)}finally{xc.transition=i,bt=r}return null}function kl(){if(null!==Yc){var e=wt(Xc),t=xc.transition,n=bt;try{if(xc.transition=null,bt=16>e?16:e,null===Yc)var r=!1;else{if(e=Yc,Yc=null,Xc=0,0!==(6&Nc))throw Error(s(331));var i=Nc;for(Nc|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var c=a.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Zo=u;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:rc(8,h,a)}var d=h.child;if(null!==d)d.return=h,Zo=d;else for(;null!==Zo;){var f=(h=Zo).sibling,p=h.return;if(ac(h),h===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:rc(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zo=y;break e}Zo=a.return}}var b=e.current;for(Zo=b;null!==Zo;){var w=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Zo=w;else e:for(o=b;null!==Zo;){if(0!==(2048&(c=Zo).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(I){Tl(c,c.return,I)}if(c===o){Zo=null;break e}var _=c.sibling;if(null!==_){_.return=c.return,Zo=_;break e}Zo=c.return}}if(Nc=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(I){}r=!0}return r}finally{bt=n,xc.transition=t}}return!1}function El(e,t,n){e=Ds(e,t=po(0,t=lo(n,t),1),1),t=tl(),null!==e&&(vt(e,1,t),il(e,t))}function Tl(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wc||!Wc.has(r))){t=Ds(t,e=mo(t,e=lo(n,e),1),1),e=tl(),null!==t&&(vt(t,1,e),il(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Ac===e&&(Pc&n)===n&&(4===Lc||3===Lc&&(130023424&Pc)===Pc&&500>Je()-Bc?fl(e,0):Vc|=n),il(e,t)}function Cl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tl();null!==(e=Ns(e,t))&&(vt(e,t,n),il(e,n))}function xl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cl(e,n)}function Nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cl(e,n)}function Al(e,t){return We(e,t)}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Rl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Ol(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Ml(n.children,i,a,t);case E:o=8,i|=8;break;case T:return(e=Pl(12,n,t,2|i)).elementType=T,e.lanes=a,e;case N:return(e=Pl(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Pl(19,n,t,i)).elementType=A,e.lanes=a,e;case O:return Fl(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case C:o=9;break e;case x:o=11;break e;case R:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pl(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ml(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function Vl(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jl(e,t,n,r,i,s,a,o,c){return e=new zl(e,t,n,o,c),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pl(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Bl(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function ql(e,t,n,r,i,s,a,o,c){return(e=jl(n,r,!0,e,0,s,0,o,c)).context=Bl(null),n=e.current,(s=Os(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Ds(n,s,i),e.current.lanes=i,vt(e,i,r),il(e,r),e}function Gl(e,t,n,r){var i=t.current,s=tl(),a=nl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Os(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ds(i,t,a))&&(rl(e,i,a,s),Ls(e,i,a)),a}function Kl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wl(e,t){Hl(e,t),(e=e.alternate)&&Hl(e,t)}Ec=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),fs();break;case 5:sa(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(Si(oa,1&oa.current),null!==(e=Ko(e,t,n))?e.sibling:null);Si(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,To(e,t,n)}return Ko(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Go(e,t),e=t.pendingProps;var i=Ri(t,xi.current);Es(t,n),i=ka(null,t,r,e,i,n);var a=Ea();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Rs(t),i.updater=js,t.stateNode=i,i._reactInternals=t,Ks(t,r,e,n),t=No(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),_o(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===R)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=xo(null,t,r,e,n);break e;case 11:t=Io(null,t,r,e,n);break e;case 14:t=ko(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Ao(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ps(e,t),Fs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ro(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Ro(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=li(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ko(e,t,n);break e}_o(e,t,r,n)}t=t.child}return t;case 5:return sa(t),null===e&&ls(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),So(e,t),_o(e,t,o,n),t.child;case 6:return null===e&&ls(t),null;case 13:return Uo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xs(t,null,r,n):_o(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Si(vs,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ni.current){t=Ko(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){o=a.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Os(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ks(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),ks(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}_o(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Es(t,n),r=r(i=Ts(i)),t.flags|=1,_o(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),ko(e,t,r,i=gs(r.type,i),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Go(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Es(t,n),qs(t,r,i),Ks(t,r,i,n),No(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return To(e,t,n)}throw Error(s(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function Xl(e){this._internalRoot=e}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Kl(a);o.call(e)}}Gl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Kl(a);s.call(e)}}var a=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),hl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Kl(c);o.call(e)}}var c=jl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[pi]=c.current,Br(8===e.nodeType?e.parentNode:e),hl((function(){Gl(t,c,n,r)})),c}(n,t,e,i,r);return Kl(a)}Xl.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Gl(e,t,null,null)},Xl.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hl((function(){Gl(null,e,null,null)})),t[pi]=null}},Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,Je()),0===(6&Nc)&&(qc=Je()+500,Bi()))}break;case 13:hl((function(){var t=Ns(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Wl(e,1)}},It=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)rl(t,e,134217728,tl());Wl(e,134217728)}},kt=function(e){if(13===e.tag){var t=nl(e),n=Ns(e,t);if(null!==n)rl(n,e,t,tl());Wl(e,t)}},Et=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ie=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));W(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=ul,Ne=hl;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,Se,Ce,ul]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jl(e))throw Error(s(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return hl(e)},t.hydrate=function(e,t,n){if(!$l(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jl(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xl(t)},t.render=function(e,t,n){if(!$l(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$l(e))throw Error(s(40));return!!e._reactRootContainer&&(hl((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$l(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},180:(e,t,n)=>{"use strict";var r=n(292);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},292:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(144)},36:(e,t,n)=>{"use strict";var r=n(60),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},564:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,I=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)I.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===s[i]&&(s[i]=c[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:k.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var c=!1;if(null===e)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===s?"."+x(c,0):s,_(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(c=0,s=""===s?".":s+":",_(e))for(var l=0;l<e.length;l++){var u=s+x(o=e[l],l);c+=N(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(o=e.next()).done;)c+=N(o=o.value,t,i,u=s+x(o,l++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)I.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},60:(e,t,n)=>{"use strict";e.exports=n(564)},496:(e,t,n)=>{"use strict";e.exports=n(36)},692:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,c=e[o],l=o+1,u=e[l];if(0>s(c,n))l<i&&0>s(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[o]=n,r=o);else{if(!(l<i&&0>s(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(l))m=!0,O(I);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function I(e,n){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var s=f;try{for(w(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!N());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(l)&&i(l),w(n)}else i(l);d=r(l)}if(null!==d)var c=!0;else{var h=r(u);null!==h&&D(_,h.startTime-n),c=!1}return c}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,T=null,S=-1,C=5,x=-1;function N(){return!(t.unstable_now()-x<C)}function A(){if(null!==T){var e=t.unstable_now();x=e;var n=!0;try{n=T(!0,e)}finally{n?k():(E=!1,T=null)}}else E=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,k=function(){P.postMessage(null)}}else k=function(){v(A,0)};function O(e){T=e,E||(E=!0,k())}function D(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(I))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(l)&&e===r(u)&&(g?(y(S),S=-1):g=!0,D(_,s-a))):(e.sortIndex=o,n(l,e),m||p||(m=!0,O(I))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},724:(e,t,n)=>{"use strict";e.exports=n(692)},264:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".6c94c832.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="github-auth:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){o=h;break}}o||(c=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),c&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/github-signup/",(()=>{var e={590:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],c=r[2],l=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(c)c(n)}for(t&&t(r);l<a.length;l++)s=a[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkgithub_auth=self.webpackChunkgithub_auth||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>zr,SDK_VERSION:()=>qi,_DEFAULT_ENTRY_NAME:()=>Ri,_addComponent:()=>Li,_addOrOverwriteComponent:()=>Mi,_apps:()=>Oi,_clearComponents:()=>zi,_components:()=>Di,_getProvider:()=>Ui,_registerComponent:()=>Fi,_removeServiceInstance:()=>Vi,deleteApp:()=>Wi,getApp:()=>Ki,getApps:()=>Hi,initializeApp:()=>Gi,onLog:()=>Yi,registerVersion:()=>Qi,setLogLevel:()=>Xi});var t=n(60),r=n(180);const i=n.p+"static/media/logo.6ce24c58023cc2f8fd88fe9d219db6c6.svg";var s=n(496);function a(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"bottom-0 d-flex justify-content-center position-absolute l-45",children:(0,s.jsxs)("p",{children:["Vaasu | \xa9",(new Date).getFullYear()]})})})}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,s=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);a=!0);}catch(c){o=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(o)throw i}}return s}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(){},v={},y={},b=null,w={mark:g,measure:g};try{"undefined"!==typeof window&&(v=window),"undefined"!==typeof document&&(y=document),"undefined"!==typeof MutationObserver&&(b=MutationObserver),"undefined"!==typeof performance&&(w=performance)}catch(TN){}var _,I,k,E,T,S=(v.navigator||{}).userAgent,C=void 0===S?"":S,x=v,N=y,A=b,R=w,P=(x.document,!!N.documentElement&&!!N.head&&"function"===typeof N.addEventListener&&"function"===typeof N.createElement),O=~C.indexOf("MSIE")||~C.indexOf("Trident/"),D="___FONT_AWESOME___",L=16,M="fa",F="svg-inline--fa",U="data-fa-i2svg",V="data-fa-pseudo-element",z="data-fa-pseudo-element-pending",j="data-prefix",B="data-icon",q="fontawesome-i2svg",G="async",K=["HTML","HEAD","STYLE","SCRIPT"],H=function(){try{return!0}catch(TN){return!1}}(),W="classic",Q="sharp",Y=[W,Q];function X(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[W]}})}var J=X((h(_={},W,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),h(_,Q,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),_)),$=X((h(I={},W,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),h(I,Q,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),I)),Z=X((h(k={},W,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),h(k,Q,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),k)),ee=X((h(E={},W,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),h(E,Q,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),E)),te=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,ne="fa-layers-text",re=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,ie=X((h(T={},W,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),h(T,Q,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),T)),se=[1,2,3,4,5,6,7,8,9,10],ae=se.concat([11,12,13,14,15,16,17,18,19,20]),oe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ce={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},le=new Set;Object.keys($[W]).map(le.add.bind(le)),Object.keys($[Q]).map(le.add.bind(le));var ue=[].concat(Y,f(le),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ce.GROUP,ce.SWAP_OPACITY,ce.PRIMARY,ce.SECONDARY]).concat(se.map((function(e){return"".concat(e,"x")}))).concat(ae.map((function(e){return"w-".concat(e)}))),he=x.FontAwesomeConfig||{};if(N&&"function"===typeof N.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=d(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=N.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(he[r]=i)}))}var de={styleDefault:"solid",familyDefault:"classic",cssPrefix:M,replacementClass:F,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};he.familyPrefix&&(he.cssPrefix=he.familyPrefix);var fe=c(c({},de),he);fe.autoReplaceSvg||(fe.observeMutations=!1);var pe={};Object.keys(de).forEach((function(e){Object.defineProperty(pe,e,{enumerable:!0,set:function(t){fe[e]=t,me.forEach((function(e){return e(pe)}))},get:function(){return fe[e]}})})),Object.defineProperty(pe,"familyPrefix",{enumerable:!0,set:function(e){fe.cssPrefix=e,me.forEach((function(e){return e(pe)}))},get:function(){return fe.cssPrefix}}),x.FontAwesomeConfig=pe;var me=[];var ge=L,ve={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var ye="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function be(){for(var e=12,t="";e-- >0;)t+=ye[62*Math.random()|0];return t}function we(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function _e(e){return e.classList?we(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function Ie(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ke(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function Ee(e){return e.size!==ve.size||e.x!==ve.x||e.y!==ve.y||e.rotate!==ve.rotate||e.flipX||e.flipY}var Te=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function Se(){var e=M,t=F,n=pe.cssPrefix,r=pe.replacementClass,i=Te;if(n!==e||r!==t){var s=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");i=i.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(o,".".concat(r))}return i}var Ce=!1;function xe(){pe.autoAddCss&&!Ce&&(!function(e){if(e&&P){var t=N.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=N.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=s)}N.head.insertBefore(t,r)}}(Se()),Ce=!0)}var Ne={mixout:function(){return{dom:{css:Se,insertCss:xe}}},hooks:function(){return{beforeDOMElementCreation:function(){xe()},beforeI2svg:function(){xe()}}}},Ae=x||{};Ae[D]||(Ae[D]={}),Ae[D].styles||(Ae[D].styles={}),Ae[D].hooks||(Ae[D].hooks={}),Ae[D].shims||(Ae[D].shims=[]);var Re=Ae[D],Pe=[],Oe=!1;function De(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,s=void 0===i?[]:i;return"string"===typeof e?Ie(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(Ie(e[n]),'" ')}),"").trim()}(r),">").concat(s.map(De).join(""),"</").concat(t,">")}function Le(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}P&&((Oe=(N.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(N.readyState))||N.addEventListener("DOMContentLoaded",(function e(){N.removeEventListener("DOMContentLoaded",e),Oe=1,Pe.map((function(e){return e()}))})));var Me=function(e,t,n,r){var i,s,a,o=Object.keys(e),c=o.length,l=void 0!==r?function(e,t){return function(n,r,i,s){return e.call(t,n,r,i,s)}}(t,r):t;for(void 0===n?(i=1,a=e[o[0]]):(i=0,a=n);i<c;i++)a=l(a,e[s=o[i]],s,e);return a};function Fe(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=e.charCodeAt(n++);56320==(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function Ue(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Ve(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=Ue(t);"function"!==typeof Re.hooks.addPack||r?Re.styles[e]=c(c({},Re.styles[e]||{}),i):Re.hooks.addPack(e,Ue(t)),"fas"===e&&Ve("fa",t)}var ze,je,Be,qe=Re.styles,Ge=Re.shims,Ke=(h(ze={},W,Object.values(Z[W])),h(ze,Q,Object.values(Z[Q])),ze),He=null,We={},Qe={},Ye={},Xe={},Je={},$e=(h(je={},W,Object.keys(J[W])),h(je,Q,Object.keys(J[Q])),je);function Ze(e,t){var n,r=t.split("-"),i=r[0],s=r.slice(1).join("-");return i!==e||""===s||(n=s,~ue.indexOf(n))?null:s}var et=function(){var e=function(e){return Me(qe,(function(t,n,r){return t[r]=Me(n,e,{}),t}),{})};We=e((function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter((function(e){return"number"===typeof e})).forEach((function(t){e[t.toString(16)]=n}));return e})),Qe=e((function(e,t,n){(e[n]=n,t[2])&&t[2].filter((function(e){return"string"===typeof e})).forEach((function(t){e[t]=n}));return e})),Je=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in qe||pe.autoFetchSvg,n=Me(Ge,(function(e,n){var r=n[0],i=n[1],s=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:s}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:s}),e}),{names:{},unicodes:{}});Ye=n.names,Xe=n.unicodes,He=at(pe.styleDefault,{family:pe.familyDefault})};function tt(e,t){return(We[e]||{})[t]}function nt(e,t){return(Je[e]||{})[t]}function rt(e){return Ye[e]||{prefix:null,iconName:null}}function it(){return He}!function(e){me.push(e)}((function(e){He=at(e.styleDefault,{family:pe.familyDefault})})),et();var st=function(){return{prefix:null,iconName:null,rest:[]}};function at(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?W:t,r=J[n][e],i=$[n][e]||$[n][r],s=e in Re.styles?e:null;return i||s||null}var ot=(h(Be={},W,Object.keys(Z[W])),h(Be,Q,Object.keys(Z[Q])),Be);function ct(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==n&&n,i=(h(t={},W,"".concat(pe.cssPrefix,"-").concat(W)),h(t,Q,"".concat(pe.cssPrefix,"-").concat(Q)),t),s=null,a=W;(e.includes(i[W])||e.some((function(e){return ot[W].includes(e)})))&&(a=W),(e.includes(i[Q])||e.some((function(e){return ot[Q].includes(e)})))&&(a=Q);var o=e.reduce((function(e,t){var n=Ze(pe.cssPrefix,t);if(qe[t]?(t=Ke[a].includes(t)?ee[a][t]:t,s=t,e.prefix=t):$e[a].indexOf(t)>-1?(s=t,e.prefix=at(t,{family:a})):n?e.iconName=n:t!==pe.replacementClass&&t!==i[W]&&t!==i[Q]&&e.rest.push(t),!r&&e.prefix&&e.iconName){var o="fa"===s?rt(e.iconName):{},c=nt(e.prefix,e.iconName);o.prefix&&(s=null),e.iconName=o.iconName||c||e.iconName,e.prefix=o.prefix||e.prefix,"far"!==e.prefix||qe.far||!qe.fas||pe.autoFetchSvg||(e.prefix="fas")}return e}),st());return(e.includes("fa-brands")||e.includes("fab"))&&(o.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(o.prefix="fad"),o.prefix||a!==Q||!qe.fass&&!pe.autoFetchSvg||(o.prefix="fass",o.iconName=nt(o.prefix,o.iconName)||o.iconName),"fa"!==o.prefix&&"fa"!==s||(o.prefix=it()||"fas"),o}var lt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=c(c({},e.definitions[t]||{}),i[t]),Ve(t,i[t]);var n=Z[W][t];n&&Ve(n,i[t]),et()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,s=r.iconName,a=r.icon,o=a[2];e[i]||(e[i]={}),o.length>0&&o.forEach((function(t){"string"===typeof t&&(e[i][t]=a)})),e[i][s]=a})),e}}],n&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ut=[],ht={},dt={},ft=Object.keys(dt);function pt(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(ht[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function mt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(ht[e]||[]).forEach((function(e){e.apply(null,n)}))}function gt(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return dt[e]?dt[e].apply(null,t):void 0}function vt(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||it();if(t)return t=nt(n,t)||t,Le(yt.definitions,n,t)||Le(Re.styles,n,t)}var yt=new lt,bt={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return P?(mt("beforeI2svg",e),gt("pseudoElements2svg",e),gt("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===pe.autoReplaceSvg&&(pe.autoReplaceSvg=!0),pe.observeMutations=!0,e=function(){It({autoReplaceSvgRoot:n}),mt("watch",t)},P&&(Oe?setTimeout(e,0):Pe.push(e))}},wt={icon:function(e){if(null===e)return null;if("object"===l(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:nt(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=at(e[0]);return{prefix:n,iconName:nt(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(pe.cssPrefix,"-"))>-1||e.match(te))){var r=ct(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||it(),iconName:nt(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=it();return{prefix:i,iconName:nt(i,e)||e}}}},_t={noAuto:function(){pe.autoReplaceSvg=!1,pe.observeMutations=!1,mt("noAuto")},config:pe,dom:bt,parse:wt,library:yt,findIconDefinition:vt,toHtml:De},It=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?N:e;(Object.keys(Re.styles).length>0||pe.autoFetchSvg)&&P&&pe.autoReplaceSvg&&_t.dom.i2svg({node:t})};function kt(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return De(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(P){var t=N.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Et(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,s=e.iconName,a=e.transform,o=e.symbol,l=e.title,u=e.maskId,h=e.titleId,d=e.extra,f=e.watchable,p=void 0!==f&&f,m=r.found?r:n,g=m.width,v=m.height,y="fak"===i,b=[pe.replacementClass,s?"".concat(pe.cssPrefix,"-").concat(s):""].filter((function(e){return-1===d.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(d.classes).join(" "),w={children:[],attributes:c(c({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:b,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(v)})},_=y&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/v*16*.0625,"em")}:{};p&&(w.attributes[U]=""),l&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(h||be())},children:[l]}),delete w.attributes.title);var I=c(c({},w),{},{prefix:i,iconName:s,main:n,mask:r,maskId:u,transform:a,symbol:o,styles:c(c({},_),d.styles)}),k=r.found&&n.found?gt("generateAbstractMask",I)||{children:[],attributes:{}}:gt("generateAbstractIcon",I)||{children:[],attributes:{}},E=k.children,T=k.attributes;return I.children=E,I.attributes=T,o?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,s=e.symbol,a=!0===s?"".concat(t,"-").concat(pe.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:c(c({},i),{},{id:a}),children:r}]}]}(I):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,s=e.styles,a=e.transform;if(Ee(a)&&n.found&&!r.found){var o={x:n.width/n.height/2,y:.5};i.style=ke(c(c({},s),{},{"transform-origin":"".concat(o.x+a.x/16,"em ").concat(o.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(I)}function Tt(e){var t=e.content,n=e.width,r=e.height,i=e.transform,s=e.title,a=e.extra,o=e.watchable,l=void 0!==o&&o,u=c(c(c({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});l&&(u[U]="");var h=c({},a.styles);Ee(i)&&(h.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?L:n,i=e.height,s=void 0===i?L:i,a=e.startCentered,o=void 0!==a&&a,c="";return c+=o&&O?"translate(".concat(t.x/ge-r/2,"em, ").concat(t.y/ge-s/2,"em) "):o?"translate(calc(-50% + ".concat(t.x/ge,"em), calc(-50% + ").concat(t.y/ge,"em)) "):"translate(".concat(t.x/ge,"em, ").concat(t.y/ge,"em) "),c+="scale(".concat(t.size/ge*(t.flipX?-1:1),", ").concat(t.size/ge*(t.flipY?-1:1),") "),c+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),h["-webkit-transform"]=h.transform);var d=ke(h);d.length>0&&(u.style=d);var f=[];return f.push({tag:"span",attributes:u,children:[t]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}var St=Re.styles;function Ct(e){var t=e[0],n=e[1],r=d(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(pe.cssPrefix,"-").concat(ce.GROUP)},children:[{tag:"path",attributes:{class:"".concat(pe.cssPrefix,"-").concat(ce.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(pe.cssPrefix,"-").concat(ce.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var xt={found:!1,width:512,height:512};function Nt(e,t){var n=t;return"fa"===t&&null!==pe.styleDefault&&(t=it()),new Promise((function(r,i){gt("missingIconAbstract");if("fa"===n){var s=rt(e)||{};e=s.iconName||e,t=s.prefix||t}if(e&&t&&St[t]&&St[t][e])return r(Ct(St[t][e]));!function(e,t){H||pe.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(c(c({},xt),{},{icon:pe.showMissingIcons&&e&&gt("missingIconAbstract")||{}}))}))}var At=function(){},Rt=pe.measurePerformance&&R&&R.mark&&R.measure?R:{mark:At,measure:At},Pt='FA "6.5.1"',Ot=function(e){Rt.mark("".concat(Pt," ").concat(e," ends")),Rt.measure("".concat(Pt," ").concat(e),"".concat(Pt," ").concat(e," begins"),"".concat(Pt," ").concat(e," ends"))},Dt={begin:function(e){return Rt.mark("".concat(Pt," ").concat(e," begins")),function(){return Ot(e)}},end:Ot},Lt=function(){};function Mt(e){return"string"===typeof(e.getAttribute?e.getAttribute(U):null)}function Ft(e){return N.createElementNS("http://www.w3.org/2000/svg",e)}function Ut(e){return N.createElement(e)}function Vt(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?Ft:Ut:t;if("string"===typeof e)return N.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(Vt(e,{ceFn:n}))})),r}var zt={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(Vt(e),t)})),null===t.getAttribute(U)&&pe.keepOriginalSource){var n=N.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~_e(t).indexOf(pe.replacementClass))return zt.replace(e);var r=new RegExp("".concat(pe.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===pe.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var s=n.map((function(e){return De(e)})).join("\n");t.setAttribute(U,""),t.innerHTML=s}};function jt(e){e()}function Bt(e,t){var n="function"===typeof t?t:Lt;if(0===e.length)n();else{var r=jt;pe.mutateApproach===G&&(r=x.requestAnimationFrame||jt),r((function(){var t=!0===pe.autoReplaceSvg?zt.replace:zt[pe.autoReplaceSvg]||zt.replace,r=Dt.begin("mutate");e.map(t),r(),n()}))}}var qt=!1;function Gt(){qt=!0}function Kt(){qt=!1}var Ht=null;function Wt(e){if(A&&pe.observeMutations){var t=e.treeCallback,n=void 0===t?Lt:t,r=e.nodeCallback,i=void 0===r?Lt:r,s=e.pseudoElementsCallback,a=void 0===s?Lt:s,o=e.observeMutationsRoot,c=void 0===o?N:o;Ht=new A((function(e){if(!qt){var t=it();we(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Mt(e.addedNodes[0])&&(pe.searchPseudoElements&&a(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&pe.searchPseudoElements&&a(e.target.parentNode),"attributes"===e.type&&Mt(e.target)&&~oe.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(j):null,n=e.getAttribute?e.getAttribute(B):null;return t&&n}(e.target)){var r=ct(_e(e.target)),s=r.prefix,o=r.iconName;e.target.setAttribute(j,s||t),o&&e.target.setAttribute(B,o)}else(c=e.target)&&c.classList&&c.classList.contains&&c.classList.contains(pe.replacementClass)&&i(e.target);var c}))}})),P&&Ht.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Qt(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=ct(_e(e));return i.prefix||(i.prefix=it()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(Qe[e]||{})[t]}(i.prefix,e.innerText)||tt(i.prefix,Fe(e.innerText))),!i.iconName&&pe.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function Yt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=Qt(e),r=n.iconName,i=n.prefix,s=n.rest,a=function(e){var t=we(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return pe.autoA11y&&(n?t["aria-labelledby"]="".concat(pe.replacementClass,"-title-").concat(r||be()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),o=pt("parseNodeAttributes",{},e),l=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return c({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:ve,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:a}},o)}var Xt=Re.styles;function Jt(e){var t="nest"===pe.autoReplaceSvg?Yt(e,{styleParser:!1}):Yt(e);return~t.extra.classes.indexOf(ne)?gt("generateLayersText",e,t):gt("generateSvgReplacementMutation",e,t)}var $t=new Set;function Zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!P)return Promise.resolve();var n=N.documentElement.classList,r=function(e){return n.add("".concat(q,"-").concat(e))},i=function(e){return n.remove("".concat(q,"-").concat(e))},s=pe.autoFetchSvg?$t:Y.map((function(e){return"fa-".concat(e)})).concat(Object.keys(Xt));s.includes("fa")||s.push("fa");var a=[".".concat(ne,":not([").concat(U,"])")].concat(s.map((function(e){return".".concat(e,":not([").concat(U,"])")}))).join(", ");if(0===a.length)return Promise.resolve();var o=[];try{o=we(e.querySelectorAll(a))}catch(TN){}if(!(o.length>0))return Promise.resolve();r("pending"),i("complete");var c=Dt.begin("onTree"),l=o.reduce((function(e,t){try{var n=Jt(t);n&&e.push(n)}catch(TN){H||"MissingIcon"===TN.name&&console.error(TN)}return e}),[]);return new Promise((function(e,n){Promise.all(l).then((function(n){Bt(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),c(),e()}))})).catch((function(e){c(),n(e)}))}))}function en(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Jt(e).then((function(e){e&&Bt([e],t)}))}Y.map((function(e){$t.add("fa-".concat(e))})),Object.keys(J[W]).map($t.add.bind($t)),Object.keys(J[Q]).map($t.add.bind($t)),$t=f($t);var tn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?ve:n,i=t.symbol,s=void 0!==i&&i,a=t.mask,o=void 0===a?null:a,l=t.maskId,u=void 0===l?null:l,h=t.title,d=void 0===h?null:h,f=t.titleId,p=void 0===f?null:f,m=t.classes,g=void 0===m?[]:m,v=t.attributes,y=void 0===v?{}:v,b=t.styles,w=void 0===b?{}:b;if(e){var _=e.prefix,I=e.iconName,k=e.icon;return kt(c({type:"icon"},e),(function(){return mt("beforeDOMElementCreation",{iconDefinition:e,params:t}),pe.autoA11y&&(d?y["aria-labelledby"]="".concat(pe.replacementClass,"-title-").concat(p||be()):(y["aria-hidden"]="true",y.focusable="false")),Et({icons:{main:Ct(k),mask:o?Ct(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:I,transform:c(c({},ve),r),symbol:s,title:d,maskId:u,titleId:p,extra:{attributes:y,styles:w,classes:g}})}))}},nn={mixout:function(){return{icon:(e=tn,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:vt(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:vt(i||{})),e(r,c(c({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Zt,e.nodeCallback=en,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?N:t,r=e.callback;return Zt(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,s=t.prefix,a=t.transform,o=t.symbol,c=t.mask,l=t.maskId,u=t.extra;return new Promise((function(t,h){Promise.all([Nt(n,s),c.iconName?Nt(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(c){var h=d(c,2),f=h[0],p=h[1];t([e,Et({icons:{main:f,mask:p},prefix:s,iconName:n,transform:a,symbol:o,maskId:l,title:r,titleId:i,extra:u,watchable:!0})])})).catch(h)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,s=e.transform,a=ke(e.styles);return a.length>0&&(r.style=a),Ee(s)&&(t=gt("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},rn={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return kt({type:"layer"},(function(){mt("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(pe.cssPrefix,"-layers")].concat(f(r)).join(" ")},children:n}]}))}}}},sn={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,s=void 0===i?[]:i,a=t.attributes,o=void 0===a?{}:a,l=t.styles,u=void 0===l?{}:l;return kt({type:"counter",content:e},(function(){return mt("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,r=e.extra,i=c(c(c({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=ke(r.styles);s.length>0&&(i.style=s);var a=[];return a.push({tag:"span",attributes:i,children:[t]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:e.toString(),title:r,extra:{attributes:o,styles:u,classes:["".concat(pe.cssPrefix,"-layers-counter")].concat(f(s))}})}))}}}},an={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?ve:n,i=t.title,s=void 0===i?null:i,a=t.classes,o=void 0===a?[]:a,l=t.attributes,u=void 0===l?{}:l,h=t.styles,d=void 0===h?{}:h;return kt({type:"text",content:e},(function(){return mt("beforeDOMElementCreation",{content:e,params:t}),Tt({content:e,transform:c(c({},ve),r),title:s,extra:{attributes:u,styles:d,classes:["".concat(pe.cssPrefix,"-layers-text")].concat(f(o))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,s=null,a=null;if(O){var o=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();s=c.width/o,a=c.height/o}return pe.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,Tt({content:e.innerHTML,width:s,height:a,transform:r,title:n,extra:i,watchable:!0})])}}},on=new RegExp('"',"ug"),cn=[1105920,1112319];function ln(e,t){var n="".concat(z).concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var s=we(e.children).filter((function(e){return e.getAttribute(V)===t}))[0],a=x.getComputedStyle(e,t),o=a.getPropertyValue("font-family").match(re),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(s&&!o)return e.removeChild(s),r();if(o&&"none"!==u&&""!==u){var h=a.getPropertyValue("content"),d=~["Sharp"].indexOf(o[2])?Q:W,f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(o[2])?$[d][o[2].toLowerCase()]:ie[d][l],p=function(e){var t=e.replace(on,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=cn[0]&&n<=cn[1],i=2===t.length&&t[0]===t[1];return{value:Fe(i?t[0]:t),isSecondary:r||i}}(h),m=p.value,g=p.isSecondary,v=o[0].startsWith("FontAwesome"),y=tt(f,m),b=y;if(v){var w=function(e){var t=Xe[e],n=tt("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(m);w.iconName&&w.prefix&&(y=w.iconName,f=w.prefix)}if(!y||g||s&&s.getAttribute(j)===f&&s.getAttribute(B)===b)r();else{e.setAttribute(n,b),s&&e.removeChild(s);var _={iconName:null,title:null,titleId:null,prefix:null,transform:ve,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},I=_.extra;I.attributes[V]=t,Nt(y,f).then((function(i){var s=Et(c(c({},_),{},{icons:{main:i,mask:st()},prefix:f,iconName:b,extra:I,watchable:!0})),a=N.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(a,e.firstChild):e.appendChild(a),a.outerHTML=s.map((function(e){return De(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function un(e){return Promise.all([ln(e,"::before"),ln(e,"::after")])}function hn(e){return e.parentNode!==document.head&&!~K.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(V)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function dn(e){if(P)return new Promise((function(t,n){var r=we(e.querySelectorAll("*")).filter(hn).map(un),i=Dt.begin("searchPseudoElements");Gt(),Promise.all(r).then((function(){i(),Kt(),t()})).catch((function(){i(),Kt(),n()}))}))}var fn=!1,pn=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},mn={mixout:function(){return{parse:{transform:function(e){return pn(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=pn(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,s={transform:"translate(".concat(r/2," 256)")},a="translate(".concat(32*n.x,", ").concat(32*n.y,") "),o="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),u={outer:s,inner:{transform:"".concat(a," ").concat(o," ").concat(l)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:c({},u.outer),children:[{tag:"g",attributes:c({},u.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:c(c({},t.icon.attributes),u.path)}]}]}}}},gn={x:0,y:0,width:"100%",height:"100%"};function vn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var yn={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?ct(n.split(" ").map((function(e){return e.trim()}))):st();return r.prefix||(r.prefix=it()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,s=e.mask,a=e.maskId,o=e.transform,l=i.width,u=i.icon,h=s.width,d=s.icon,f=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(a," ").concat(o)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:o,containerWidth:h,iconWidth:l}),p={tag:"rect",attributes:c(c({},gn),{},{fill:"white"})},m=u.children?{children:u.children.map(vn)}:{},g={tag:"g",attributes:c({},f.inner),children:[vn(c({tag:u.tag,attributes:c(c({},u.attributes),f.path)},m))]},v={tag:"g",attributes:c({},f.outer),children:[g]},y="mask-".concat(a||be()),b="clip-".concat(a||be()),w={tag:"mask",attributes:c(c({},gn),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,v]},_={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:(t=d,"g"===t.tag?t.children:[t])},w]};return n.push(_,{tag:"rect",attributes:c({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(y,")")},gn)}),{children:n,attributes:r}}}},bn={provides:function(e){var t=!1;x.matchMedia&&(t=x.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:c(c({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=c(c({},r),{},{attributeName:"opacity"}),s={tag:"circle",attributes:c(c({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||s.children.push({tag:"animate",attributes:c(c({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:c(c({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(s),e.push({tag:"path",attributes:c(c({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:c(c({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:c(c({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:c(c({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;ut=e,ht={},Object.keys(dt).forEach((function(e){-1===ft.indexOf(e)&&delete dt[e]})),ut.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===l(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){ht[e]||(ht[e]=[]),ht[e].push(r[e])}))}e.provides&&e.provides(dt)}))}([Ne,nn,rn,sn,an,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=dn,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?N:t;pe.searchPseudoElements&&dn(n)}}},{mixout:function(){return{dom:{unwatch:function(){Gt(),fn=!0}}}},hooks:function(){return{bootstrap:function(){Wt(pt("mutationObserverCallbacks",{}))},noAuto:function(){Ht&&Ht.disconnect()},watch:function(e){var t=e.observeMutationsRoot;fn?Kt():Wt(pt("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},mn,yn,bn,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:_t});var wn=_t.parse,_n=_t.icon,In=n(840),kn=n.n(In);function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){Cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sn(e){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(e)}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nn(e){return function(e){if(Array.isArray(e))return An(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return An(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return An(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rn(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var Pn=["style"];var On=!1;try{On=!0}catch(TN){}function Dn(e){return e&&"object"===Sn(e)&&e.prefix&&e.iconName&&e.icon?e:wn.icon?wn.icon(e):null===e?null:e&&"object"===Sn(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function Ln(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Cn({},e,t):{}}var Mn=t.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,s=e.className,a=e.title,o=e.titleId,c=e.maskId,l=Dn(n),u=Ln("classes",[].concat(Nn(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,s=e.bounce,a=e.shake,o=e.flash,c=e.spin,l=e.spinPulse,u=e.spinReverse,h=e.pulse,d=e.fixedWidth,f=e.inverse,p=e.border,m=e.listItem,g=e.flip,v=e.size,y=e.rotation,b=e.pull,w=(Cn(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":a,"fa-flash":o,"fa-spin":c,"fa-spin-reverse":u,"fa-spin-pulse":l,"fa-pulse":h,"fa-fw":d,"fa-inverse":f,"fa-border":p,"fa-li":m,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(v),"undefined"!==typeof v&&null!==v),Cn(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),Cn(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),Cn(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(e)),Nn(s.split(" ")))),h=Ln("transform","string"===typeof e.transform?wn.transform(e.transform):e.transform),d=Ln("mask",Dn(r)),f=_n(l,Tn(Tn(Tn(Tn({},u),h),d),{},{symbol:i,title:a,titleId:o,maskId:c}));if(!f)return function(){var e;!On&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var p=f.abstract,m={ref:t};return Object.keys(e).forEach((function(t){Mn.defaultProps.hasOwnProperty(t)||(m[t]=e[t])})),Fn(p[0],m)}));Mn.displayName="FontAwesomeIcon",Mn.propTypes={beat:kn().bool,border:kn().bool,beatFade:kn().bool,bounce:kn().bool,className:kn().string,fade:kn().bool,flash:kn().bool,mask:kn().oneOfType([kn().object,kn().array,kn().string]),maskId:kn().string,fixedWidth:kn().bool,inverse:kn().bool,flip:kn().oneOf([!0,!1,"horizontal","vertical","both"]),icon:kn().oneOfType([kn().object,kn().array,kn().string]),listItem:kn().bool,pull:kn().oneOf(["right","left"]),pulse:kn().bool,rotation:kn().oneOf([0,90,180,270]),shake:kn().bool,size:kn().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:kn().bool,spinPulse:kn().bool,spinReverse:kn().bool,symbol:kn().oneOfType([kn().bool,kn().string]),title:kn().string,titleId:kn().string,transform:kn().oneOfType([kn().string,kn().object]),swapOpacity:kn().bool},Mn.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var Fn=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),s=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=Rn(t.slice(0,r)),s=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=s:e[i]=s,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[Rn(t)]=r}return e}),{attrs:{}}),a=r.style,o=void 0===a?{}:a,c=xn(r,Pn);return s.attrs.style=Tn(Tn({},s.attrs.style),o),t.apply(void 0,[n.tag,Tn(Tn({},s.attrs),c)].concat(Nn(i)))}.bind(null,t.createElement),Un={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},Vn={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},zn={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},jn={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]};function Bn(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("nav",{className:"navbar bg-transperent container",children:(0,s.jsxs)("div",{className:"container-fluid",children:[(0,s.jsx)("a",{href:"https://github.com/","aria-label":"Homepage",children:(0,s.jsx)("img",{src:i,height:"32"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-light-mktg",children:"Already have an account? "}),(0,s.jsxs)("a",{href:"#",className:"text-white text-decoration-none",children:["Sign In  ",(0,s.jsx)(Mn,{icon:Vn,size:"1x"})]})]})]})})})}var qn=n(264),Gn=n.n(qn);const Kn=["xxl","xl","lg","md","sm","xs"],Hn="xs",Wn=t.createContext({prefixes:{},breakpoints:Kn,minBreakpoint:Hn}),{Consumer:Qn,Provider:Yn}=Wn;function Xn(e,n){const{prefixes:r}=(0,t.useContext)(Wn);return e||r[n]||n}const Jn=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=Xn(r,"card-body"),(0,s.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));Jn.displayName="CardBody";const $n=Jn,Zn=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=Xn(r,"card-footer"),(0,s.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));Zn.displayName="CardFooter";const er=Zn,tr=t.createContext(null);tr.displayName="CardHeaderContext";const nr=tr,rr=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,as:a="div",...o}=e;const c=Xn(r,"card-header"),l=(0,t.useMemo)((()=>({cardHeaderBsPrefix:c})),[c]);return(0,s.jsx)(nr.Provider,{value:l,children:(0,s.jsx)(a,{ref:n,...o,className:Gn()(i,c)})})}));rr.displayName="CardHeader";const ir=rr,sr=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:i,as:a="img",...o}=e;const c=Xn(n,"card-img");return(0,s.jsx)(a,{ref:t,className:Gn()(i?"".concat(c,"-").concat(i):c,r),...o})}));sr.displayName="CardImg";const ar=sr,or=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=Xn(r,"card-img-overlay"),(0,s.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));or.displayName="CardImgOverlay";const cr=or,lr=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="a",...a}=e;return r=Xn(r,"card-link"),(0,s.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));lr.displayName="CardLink";const ur=lr,hr=e=>t.forwardRef(((t,n)=>(0,s.jsx)("div",{...t,ref:n,className:Gn()(t.className,e)}))),dr=hr("h6"),fr=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=dr,...a}=e;return r=Xn(r,"card-subtitle"),(0,s.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));fr.displayName="CardSubtitle";const pr=fr,mr=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="p",...a}=e;return r=Xn(r,"card-text"),(0,s.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));mr.displayName="CardText";const gr=mr,vr=hr("h5"),yr=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=vr,...a}=e;return r=Xn(r,"card-title"),(0,s.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));yr.displayName="CardTitle";const br=yr,wr=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:i,text:a,border:o,body:c=!1,children:l,as:u="div",...h}=e;const d=Xn(n,"card");return(0,s.jsx)(u,{ref:t,...h,className:Gn()(r,d,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:c?(0,s.jsx)($n,{children:l}):l})}));wr.displayName="Card";const _r=Object.assign(wr,{Img:ar,Title:br,Subtitle:pr,Body:$n,Link:ur,Text:gr,Header:ir,Footer:er,ImgOverlay:cr}),Ir=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},kr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,c=o?e[i+2]:0,l=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|c>>6,d=63&c;o||(d=64,s||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ir(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Er;const c=t<<2|s>>4;if(r.push(c),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Er extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tr=function(e){return function(e){const t=Ir(e);return kr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Sr=function(e){try{return kr.decodeString(e,!0)}catch(TN){console.error("base64Decode failed: ",TN)}return null};function Cr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Cr(e[n],t[n]));return e}const xr=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Nr=()=>{try{return xr()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/github-signup",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(TN){return}const t=e&&Sr(e[1]);return t&&JSON.parse(t)})()}catch(TN){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(TN))}},Ar=()=>{var e;return null===(e=Nr())||void 0===e?void 0:e.config};class Rr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Pr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Tr(JSON.stringify({alg:"none",type:"JWT"})),Tr(JSON.stringify(s)),""].join(".")}function Or(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Dr(){var e;const t=null===(e=Nr())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(TN){return!1}}function Lr(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Mr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Fr(){const e=Or();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ur(){return!Dr()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vr(){try{return"object"===typeof indexedDB}catch(TN){return!1}}class zr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jr.prototype.create)}}class jr{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Br,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new zr(n,s,t)}}const Br=/\{\$([^}]+)}/g;function qr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gr(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Kr(n)&&Kr(s)){if(!Gr(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Kr(e){return null!==e&&"object"===typeof e}function Hr(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Wr(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Qr(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Yr(e,t){const n=new Xr(e,t);return n.subscribe.bind(n)}class Xr{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Jr),void 0===r.error&&(r.error=Jr),void 0===r.complete&&(r.complete=Jr);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(TN){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(TN){"undefined"!==typeof console&&console.error&&console.error(TN)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Jr(){}function $r(e){return e&&e._delegate?e._delegate:e}class Zr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ei="[DEFAULT]";class ti{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Rr;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(TN){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(TN){if(r)return null;throw TN}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ei})}catch(TN){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(TN){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ei?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei;return this.component?this.component.multipleInstances?e:ei:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ni{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ti(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ri=[];var ii;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ii||(ii={}));const si={debug:ii.DEBUG,verbose:ii.VERBOSE,info:ii.INFO,warn:ii.WARN,error:ii.ERROR,silent:ii.SILENT},ai=ii.INFO,oi={[ii.DEBUG]:"log",[ii.VERBOSE]:"log",[ii.INFO]:"info",[ii.WARN]:"warn",[ii.ERROR]:"error"},ci=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=oi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class li{constructor(e){this.name=e,this._logLevel=ai,this._logHandler=ci,this._userLogHandler=null,ri.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ii))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?si[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ii.DEBUG,...t),this._logHandler(this,ii.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ii.VERBOSE,...t),this._logHandler(this,ii.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ii.INFO,...t),this._logHandler(this,ii.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ii.WARN,...t),this._logHandler(this,ii.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ii.ERROR,...t),this._logHandler(this,ii.ERROR,...t)}}const ui=(e,t)=>t.some((t=>e instanceof t));let hi,di;const fi=new WeakMap,pi=new WeakMap,mi=new WeakMap,gi=new WeakMap,vi=new WeakMap;let yi={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||mi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function bi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(di||(di=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ii(this),n),_i(fi.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _i(e.apply(Ii(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ii(this),t,...r);return mi.set(s,t.sort?t.sort():[t]),_i(s)}}function wi(e){return"function"===typeof e?bi(e):(e instanceof IDBTransaction&&function(e){if(pi.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));pi.set(e,t)}(e),ui(e,hi||(hi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,yi):e)}function _i(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(_i(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&fi.set(t,e)})).catch((()=>{})),vi.set(t,e),t}(e);if(gi.has(e))return gi.get(e);const t=wi(e);return t!==e&&(gi.set(e,t),vi.set(t,e)),t}const Ii=e=>vi.get(e);const ki=["get","getKey","getAll","getAllKeys","count"],Ei=["put","add","delete","clear"],Ti=new Map;function Si(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ti.get(t))return Ti.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ei.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ki.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Ti.set(t,s),s}yi=(e=>({...e,get:(t,n,r)=>Si(t,n)||e.get(t,n,r),has:(t,n)=>!!Si(t,n)||e.has(t,n)}))(yi);class Ci{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const xi="@firebase/app",Ni="0.9.27",Ai=new li("@firebase/app"),Ri="[DEFAULT]",Pi={[xi]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Oi=new Map,Di=new Map;function Li(e,t){try{e.container.addComponent(t)}catch(TN){Ai.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),TN)}}function Mi(e,t){e.container.addOrOverwriteComponent(t)}function Fi(e){const t=e.name;if(Di.has(t))return Ai.debug("There were multiple attempts to register component ".concat(t,".")),!1;Di.set(t,e);for(const n of Oi.values())Li(n,e);return!0}function Ui(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Vi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ri;Ui(e,t).clearInstance(n)}function zi(){Di.clear()}const ji=new jr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Bi{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Zr("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}const qi="10.8.0";function Gi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ri,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ji.create("bad-app-name",{appName:String(i)});if(n||(n=Ar()),!n)throw ji.create("no-options");const s=Oi.get(i);if(s){if(Gr(n,s.options)&&Gr(r,s.config))return s;throw ji.create("duplicate-app",{appName:i})}const a=new ni(i);for(const c of Di.values())a.addComponent(c);const o=new Bi(n,r,a);return Oi.set(i,o),o}function Ki(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri;const t=Oi.get(e);if(!t&&e===Ri&&Ar())return Gi();if(!t)throw ji.create("no-app",{appName:e});return t}function Hi(){return Array.from(Oi.values())}async function Wi(e){const t=e.name;Oi.has(t)&&(Oi.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Qi(e,t,n){var r;let i=null!==(r=Pi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ai.warn(e.join(" "))}Fi(new Zr("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Yi(e,t){if(null!==e&&"function"!==typeof e)throw ji.create("invalid-log-argument");!function(e,t){for(const n of ri){let r=null;t&&t.level&&(r=si[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];const o=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:ii[n].toLowerCase(),message:o,args:s,type:t.name})}}}(e,t)}function Xi(e){var t;t=e,ri.forEach((e=>{e.setLogLevel(t)}))}const Ji="firebase-heartbeat-database",$i=1,Zi="firebase-heartbeat-store";let es=null;function ts(){return es||(es=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=_i(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(_i(a.result),e.oldVersion,e.newVersion,_i(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(Ji,$i,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Zi)}catch(TN){console.warn(TN)}}}).catch((e=>{throw ji.create("idb-open",{originalErrorMessage:e.message})}))),es}async function ns(e,t){try{const n=(await ts()).transaction(Zi,"readwrite"),r=n.objectStore(Zi);await r.put(t,rs(e)),await n.done}catch(TN){if(TN instanceof zr)Ai.warn(TN.message);else{const t=ji.create("idb-set",{originalErrorMessage:null===TN||void 0===TN?void 0:TN.message});Ai.warn(t.message)}}}function rs(e){return"".concat(e.name,"!").concat(e.options.appId)}class is{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new as(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ss();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ss(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),os(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),os(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Tr(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ss(){return(new Date).toISOString().substring(0,10)}class as{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Vr()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ts()).transaction(Zi),n=await t.objectStore(Zi).get(rs(e));return await t.done,n}catch(TN){if(TN instanceof zr)Ai.warn(TN.message);else{const t=ji.create("idb-get",{originalErrorMessage:null===TN||void 0===TN?void 0:TN.message});Ai.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ns(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ns(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function os(e){return Tr(JSON.stringify({version:2,heartbeats:e})).length}var cs;cs="",Fi(new Zr("platform-logger",(e=>new Ci(e)),"PRIVATE")),Fi(new Zr("heartbeat",(e=>new is(e)),"PRIVATE")),Qi(xi,Ni,cs),Qi(xi,Ni,"esm2017"),Qi("fire-js","");class ls{constructor(e,t){this._delegate=e,this.firebase=t,Li(e,new Zr("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Wi(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ri;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ri;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Li(this._delegate,e)}_addOrOverwriteComponent(e){Mi(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const us=new jr("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const hs=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Gi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(qr(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:Qi,setLogLevel:Xi,onLog:Yi,apps:null,SDK_VERSION:qi,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(Fi(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw us.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Cr(a,e.serviceProps),r[s]=a,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!qr(n,e=e||Ri))throw us.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(ls);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Cr(n,e)},createSubscribe:Yr,ErrorFactory:jr,deepExtend:Cr}),n}(),ds=new li("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ds.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&ds.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const fs=hs;!function(e){Qi("@firebase/app-compat","0.2.27",e)}();fs.registerVersion("firebase","10.8.0","app-compat");function ps(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const ms={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},gs="EMAIL_SIGNIN",vs="PASSWORD_RESET",ys="RECOVER_EMAIL",bs="REVERT_SECOND_FACTOR_ADDITION",ws="VERIFY_AND_CHANGE_EMAIL",_s="VERIFY_EMAIL";function Is(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ks=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Es=Is,Ts=new jr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ss=new li("@firebase/auth");function Cs(e){if(Ss.logLevel<=ii.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ss.error("Auth (".concat(qi,"): ").concat(e),...n)}}function xs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ps(e,...n)}function Ns(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ps(e,...n)}function As(e,t,n){const r=Object.assign(Object.assign({},Es()),{[t]:n});return new jr("auth","Firebase",r).create(t,{appName:e.name})}function Rs(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&xs(e,"argument-error"),As(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ps(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ts.create(e,...n)}function Os(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ps(t,...r)}}function Ds(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Cs(t),new Error(t)}function Ls(e,t){e||Ds(t)}function Ms(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fs(){return"http:"===Us()||"https:"===Us()}function Us(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Vs{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ls(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Or())||Mr()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fs()||Lr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function zs(e,t){Ls(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class js{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bs={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qs=new Vs(3e4,6e4);function Gs(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ks(e,t,n,r){return Hs(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Hr(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),js.fetch()(Qs(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function Hs(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Bs),t);try{const t=new Xs(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Js(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Js(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Js(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Js(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw As(e,o,a);xs(e,o)}}catch(TN){if(TN instanceof zr)throw TN;xs(e,"network-request-failed",{message:String(TN)})}}async function Ws(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Ks(e,t,n,r,i);return"mfaPendingCredential"in s&&xs(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Qs(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?zs(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Ys(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xs{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ns(this.auth,"network-request-failed"))),qs.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Js(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ns(e,t,r);return i.customData._tokenResponse=n,i}function $s(e){return void 0!==e&&void 0!==e.getResponse}function Zs(e){return void 0!==e&&void 0!==e.enterprise}class ea{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ys(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function ta(e,t){return Ks(e,"GET","/v2/recaptchaConfig",Gs(e,t))}function na(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(TN){}}function ra(e){return 1e3*Number(e)}function ia(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Cs("JWT malformed, contained fewer than 3 sections"),null;try{const e=Sr(n);return e?JSON.parse(e):(Cs("Failed to decode base64 JWT payload"),null)}catch(TN){return Cs("Caught error parsing JWT payload as JSON",null===TN||void 0===TN?void 0:TN.toString()),null}}async function sa(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(TN){throw TN instanceof zr&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(TN)&&e.auth.currentUser===e&&await e.auth.signOut(),TN}}class aa{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(TN){return void((null===TN||void 0===TN?void 0:TN.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class oa{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=na(this.lastLoginAt),this.creationTime=na(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ca(e){var t;const n=e.auth,r=await e.getIdToken(),i=await sa(e,async function(e,t){return Ks(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Os(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?function(e){return e.map((e=>{var{providerId:t}=e,n=ps(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}(s.providerUserInfo):[],o=(c=e.providerData,l=a,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new oa(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class la{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Os(e.idToken,"internal-error"),Os("undefined"!==typeof e.idToken,"internal-error"),Os("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=ia(e);return Os(t,"internal-error"),Os("undefined"!==typeof t.exp,"internal-error"),Os("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Os(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Hs(e,{},(async()=>{const n=Hr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Qs(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",js.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new la;return n&&(Os("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Os("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Os("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new la,this.toJSON())}_performRefresh(){return Ds("not implemented")}}function ua(e,t){Os("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ha{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ps(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new oa(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await sa(this,this.stsTokenManager.getToken(this.auth,e));return Os(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=$r(e),r=await n.getIdToken(t),i=ia(r);Os(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:na(ra(i.auth_time)),issuedAtTime:na(ra(i.iat)),expirationTime:na(ra(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=$r(e);await ca(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Os(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ha(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Os(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ca(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await sa(this,async function(e,t){return Ks(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:I}=t;Os(y&&I,e,"internal-error");const k=la.fromJSON(this.name,I);Os("string"===typeof y,e,"internal-error"),ua(u,e.name),ua(h,e.name),Os("boolean"===typeof b,e,"internal-error"),Os("boolean"===typeof w,e,"internal-error"),ua(d,e.name),ua(f,e.name),ua(p,e.name),ua(m,e.name),ua(g,e.name),ua(v,e.name);const E=new ha({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(E.providerData=_.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new la;r.updateFromServerResponse(t);const i=new ha({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ca(i),i}}const da=new Map;function fa(e){Ls(e instanceof Function,"Expected a class definition");let t=da.get(e);return t?(Ls(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,da.set(e,t),t)}class pa{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pa.type="NONE";const ma=pa;function ga(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class va{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ga(this.userKey,r.apiKey,i),this.fullPersistenceKey=ga("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ha._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new va(fa(ma),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||fa(ma);const s=ga(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(s);if(t){const n=ha._fromJSON(e,t);l!==i&&(a=n),i=l;break}}catch(c){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(c){}}))),new va(i,e,n)):new va(i,e,n)}}function ya(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ia(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ba(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ea(t))return"Blackberry";if(Ta(t))return"Webos";if(wa(t))return"Safari";if((t.includes("chrome/")||_a(t))&&!t.includes("edge/"))return"Chrome";if(ka(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ba(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or();return/firefox\//i.test(e)}function wa(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or();return/crios\//i.test(e)}function Ia(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or();return/iemobile/i.test(e)}function ka(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or();return/android/i.test(e)}function Ea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or();return/blackberry/i.test(e)}function Ta(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or();return/webos/i.test(e)}function Sa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ca(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or();return Sa(e)||ka(e)||Ta(e)||Ea(e)||/windows phone/i.test(e)||Ia(e)}function xa(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ya(Or());break;case"Worker":t="".concat(ya(Or()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(qi,"/").concat(r)}class Na{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(TN){r(TN)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(TN){t.reverse();for(const n of t)try{n()}catch(rN){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===TN||void 0===TN?void 0:TN.message})}}}class Aa{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ra{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oa(this),this.idTokenSubscription=new Oa(this),this.beforeStateQueue=new Na(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ts,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fa(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await va.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(TN){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(TN){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(TN)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Os(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(TN){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ca(e)}catch(TN){if((null===TN||void 0===TN?void 0:TN.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?$r(e):null;return t&&Os(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Os(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(fa(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ks(e,"GET","/v2/passwordPolicy",Gs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Aa(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jr("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ks(e,"POST","/v2/accounts:revokeToken",Gs(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fa(e)||this._popupRedirectResolver;Os(t,this,"argument-error"),this.redirectPersistenceManager=await va.create(this,[fa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Os(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Os(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ss.logLevel<=ii.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ss.warn("Auth (".concat(qi,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Pa(e){return $r(e)}class Oa{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yr((e=>this.observer=e))}get next(){return Os(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Da={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function La(e){return Da.loadJS(e)}function Ma(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Fa{constructor(e){this.type="recaptcha-enterprise",this.auth=Pa(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Zs(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ta(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new ea(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Zs(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Da.recaptchaEnterpriseScript;0!==t.length&&(t+=i),La(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ua(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Fa(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Va(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ua(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ua(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function za(e,t,n){const r=Pa(e);Os(r._canInitEmulator,r,"emulator-config-failed"),Os(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ja(t),{host:a,port:o}=function(e){const t=ja(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ba(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ba(t)}}}(t),c=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ja(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ba(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class qa{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ds("not implemented")}_getIdTokenResponse(e){return Ds("not implemented")}_linkToIdToken(e,t){return Ds("not implemented")}_getReauthenticationResolver(e){return Ds("not implemented")}}async function Ga(e,t){return Ks(e,"POST","/v1/accounts:resetPassword",Gs(e,t))}async function Ka(e,t){return Ks(e,"POST","/v1/accounts:signUp",t)}async function Ha(e,t){return Ws(e,"POST","/v1/accounts:signInWithPassword",Gs(e,t))}async function Wa(e,t){return Ks(e,"POST","/v1/accounts:sendOobCode",Gs(e,t))}async function Qa(e,t){return Wa(e,t)}async function Ya(e,t){return Wa(e,t)}class Xa extends qa{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Xa(e,t,"password")}static _fromEmailAndCode(e,t){return new Xa(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Va(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ha);case"emailLink":return async function(e,t){return Ws(e,"POST","/v1/accounts:signInWithEmailLink",Gs(e,t))}(e,{email:this._email,oobCode:this._password});default:xs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Va(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ka);case"emailLink":return async function(e,t){return Ws(e,"POST","/v1/accounts:signInWithEmailLink",Gs(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:xs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ja(e,t){return Ws(e,"POST","/v1/accounts:signInWithIdp",Gs(e,t))}class $a extends qa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ps(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new $a(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ja(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ja(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ja(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hr(t)}return e}}const Za={USER_NOT_FOUND:"user-not-found"};class eo extends qa{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new eo({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new eo({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ws(e,"POST","/v1/accounts:signInWithPhoneNumber",Gs(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ws(e,"POST","/v1/accounts:signInWithPhoneNumber",Gs(e,t));if(n.temporaryProof)throw Js(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ws(e,"POST","/v1/accounts:signInWithPhoneNumber",Gs(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Za)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new eo({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class to{constructor(e){var t,n,r,i,s,a;const o=Wr(Qr(e)),c=null!==(t=o.apiKey)&&void 0!==t?t:null,l=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Os(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Wr(Qr(e)).link,n=t?Wr(Qr(t)).deep_link_id:null,r=Wr(Qr(e)).deep_link_id;return(r?Wr(Qr(r)).link:null)||r||n||t||e}(e);try{return new to(t)}catch(n){return null}}}class no{constructor(){this.providerId=no.PROVIDER_ID}static credential(e,t){return Xa._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=to.parseLink(t);return Os(n,"argument-error"),Xa._fromEmailAndCode(e,n.code,n.tenantId)}}no.PROVIDER_ID="password",no.EMAIL_PASSWORD_SIGN_IN_METHOD="password",no.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ro{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class io extends ro{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class so extends io{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Os("providerId"in t&&"signInMethod"in t,"argument-error"),$a._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Os(e.idToken||e.accessToken,"argument-error"),$a._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return so.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return so.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=t;if(!r&&!i&&!n&&!s)return null;if(!o)return null;try{return new so(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch(TN){return null}}}class ao extends io{constructor(){super("facebook.com")}static credential(e){return $a._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ao.credential(t.oauthAccessToken)}catch(n){return null}}}ao.FACEBOOK_SIGN_IN_METHOD="facebook.com",ao.PROVIDER_ID="facebook.com";class oo extends io{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $a._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return oo.credential(n,r)}catch(i){return null}}}oo.GOOGLE_SIGN_IN_METHOD="google.com",oo.PROVIDER_ID="google.com";class co extends io{constructor(){super("github.com")}static credential(e){return $a._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return co.credential(t.oauthAccessToken)}catch(n){return null}}}co.GITHUB_SIGN_IN_METHOD="github.com",co.PROVIDER_ID="github.com";class lo extends qa{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ja(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ja(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ja(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new lo(n,i):null}static _create(e,t){return new lo(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class uo extends ro{constructor(e){Os(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return uo.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return uo.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=lo.fromJSON(e);return Os(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return lo._create(r,n)}catch(TN){return null}}}class ho extends io{constructor(){super("twitter.com")}static credential(e,t){return $a._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ho.credential(n,r)}catch(i){return null}}}async function fo(e,t){return Ws(e,"POST","/v1/accounts:signUp",Gs(e,t))}ho.TWITTER_SIGN_IN_METHOD="twitter.com",ho.PROVIDER_ID="twitter.com";class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ha._fromIdTokenResponse(e,n,r),s=mo(n);return new po({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=mo(n);return new po({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function mo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class go extends zr{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,go.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new go(e,t,n,r)}}function vo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw go._fromErrorAndOperation(e,n,t,r);throw n}))}function yo(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function bo(e,t){const n=$r(e);await _o(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Ks(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=yo(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function wo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await sa(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return po._forOperation(e,"link",r)}async function _o(e,t,n){await ca(t);const r=!1===e?"provider-already-linked":"no-such-provider";Os(yo(t.providerData).has(n)===e,t.auth,r)}async function Io(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await sa(e,vo(r,i,t,e),n);Os(s.idToken,r,"internal-error");const a=ia(s.idToken);Os(a,r,"internal-error");const{sub:o}=a;return Os(e.uid===o,r,"user-mismatch"),po._forOperation(e,i,s)}catch(TN){throw(null===TN||void 0===TN?void 0:TN.code)==="auth/".concat("user-not-found")&&xs(r,"user-mismatch"),TN}}async function ko(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await vo(e,r,t),s=await po._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Eo(e,t){return ko(Pa(e),t)}async function To(e,t){const n=$r(e);return await _o(!1,n,t.providerId),wo(n,t)}async function So(e,t){return Io($r(e),t)}async function Co(e,t){const n=Pa(e),r=await async function(e,t){return Ws(e,"POST","/v1/accounts:signInWithCustomToken",Gs(e,t))}(n,{token:t,returnSecureToken:!0}),i=await po._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class xo{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?No._fromServerResponse(e,t):"totpInfo"in t?Ao._fromServerResponse(e,t):xs(e,"internal-error")}}class No extends xo{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new No(t)}}class Ao extends xo{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Ao(t)}}function Ro(e,t,n){var r;Os((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Os("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Os(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Os(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Po(e){const t=Pa(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Oo(e,t){await async function(e,t){return Ks(e,"POST","/v1/accounts:update",Gs(e,t))}($r(e),{oobCode:t})}async function Do(e,t){const n=$r(e),r=await Ga(n,{oobCode:t}),i=r.requestType;switch(Os(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Os(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Os(r.mfaInfo,n,"internal-error");default:Os(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=xo._fromServerResponse(Pa(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Lo(e,t){const n={identifier:t,continueUri:Fs()?Ms():"http://localhost"},{signinMethods:r}=await async function(e,t){return Ks(e,"POST","/v1/accounts:createAuthUri",Gs(e,t))}($r(e),n);return r||[]}async function Mo(e,t){const n=$r(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Ro(n.auth,r,t);const{email:i}=await async function(e,t){return Wa(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Fo(e,t,n){const r=$r(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Ro(r.auth,i,n);const{email:s}=await async function(e,t){return Wa(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function Uo(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=$r(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await sa(i,async function(e,t){return Ks(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function Vo(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await sa(e,async function(e,t){return Ks(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class zo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class jo extends zo{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Bo extends zo{constructor(e,t){super(e,"facebook.com",t)}}class qo extends jo{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Go extends zo{constructor(e,t){super(e,"google.com",t)}}class Ko extends jo{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Ho(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=ia(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new zo(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Bo(s,i);case"github.com":return new qo(s,i);case"google.com":return new Go(s,i);case"twitter.com":return new Ko(s,i,e.screenName||null);case"custom":case"anonymous":return new zo(s,null);default:return new zo(s,r,i)}}(n)}class Wo{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Wo("enroll",e,t)}static _fromMfaPendingCredential(e){return new Wo("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Wo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Wo._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Qo{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Pa(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>xo._fromServerResponse(n,e)));Os(r.mfaPendingCredential,n,"internal-error");const s=Wo._fromMfaPendingCredential(r.mfaPendingCredential);return new Qo(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await po._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Os(t.user,n,"internal-error"),po._forOperation(t.user,t.operationType,a);default:xs(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Yo{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>xo._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Yo(e)}async getSession(){return Wo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await sa(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await sa(this.user,function(e,t){return Ks(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Gs(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(TN){throw TN}}}const Xo=new WeakMap;const Jo="__sak";class $o{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jo,"1"),this.storage.removeItem(Jo),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Zo extends $o{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Or();return wa(e)||Sa(e)}()&&function(){try{return!(!window||window===window.top)}catch(TN){return!1}}(),this.fallbackToPolling=Ca(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Fr()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zo.type="LOCAL";const ec=Zo;class tc extends $o{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tc.type="SESSION";const nc=tc;class rc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new rc(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ic(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}rc.receivers=[];class sc{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const c=ic("",20);r.port1.start();const l=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(l),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function ac(){return window}function oc(){return"undefined"!==typeof ac().WorkerGlobalScope&&"function"===typeof ac().importScripts}const cc="firebaseLocalStorageDb",lc="firebaseLocalStorage",uc="fbase_key";class hc{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function dc(e,t){return e.transaction([lc],t?"readwrite":"readonly").objectStore(lc)}function fc(){const e=indexedDB.open(cc,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(lc,{keyPath:uc})}catch(TN){n(TN)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(lc)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(cc);return new hc(e).toPromise()}(),t(await fc()))}))}))}async function pc(e,t,n){const r=dc(e,!0).put({[uc]:t,value:n});return new hc(r).toPromise()}function mc(e,t){const n=dc(e,!0).delete(t);return new hc(n).toPromise()}class gc{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await fc()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(TN){if(t++>3)throw TN;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rc._getInstance(oc()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new sc(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fc();return await pc(e,Jo,"1"),await mc(e,Jo),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>pc(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=dc(e,!1).get(t),r=await new hc(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>mc(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=dc(e,!1).getAll();return new hc(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}gc.type="LOCAL";const vc=gc;const yc=1e12;class bc{constructor(e){this.auth=e,this.counter=yc,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new wc(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||yc;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||yc;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||yc;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class wc{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Os(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(TN){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(TN){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _c=Ma("rcb"),Ic=new Vs(3e4,6e4);class kc{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=ac().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Os(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&$s(ac().grecaptcha)?Promise.resolve(ac().grecaptcha):new Promise(((n,r)=>{const i=ac().setTimeout((()=>{r(Ns(e,"network-request-failed"))}),Ic.get());ac()[_c]=()=>{ac().clearTimeout(i),delete ac()[_c];const s=ac().grecaptcha;if(!s||!$s(s))return void r(Ns(e,"internal-error"));const a=s.render;s.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};La("".concat(Da.recaptchaV2Script,"?").concat(Hr({onload:_c,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Ns(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=ac().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ec{async load(e){return new bc(e)}clearedOneInstance(){}}const Tc="recaptcha",Sc={theme:"light",type:"image"};class Cc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Sc);this.parameters=n,this.type=Tc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pa(e),this.isInvisible="invisible"===this.parameters.size,Os("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Os(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ec:new kc,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(TN){return Promise.reject(TN)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Os(!this.parameters.sitekey,this.auth,"argument-error"),Os(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Os("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=ac()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Os(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Os(Fs()&&!oc(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Ks(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Os(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Os(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xc{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=eo._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Nc(e,t,n){var r;const i=await n.verify();try{let s;if(Os("string"===typeof i,e,"argument-error"),Os(n.type===Tc,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Os("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ks(e,"POST","/v2/accounts/mfaEnrollment:start",Gs(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Os("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Os(n,e,"missing-multi-factor-info");const a=await function(e,t){return Ks(e,"POST","/v2/accounts/mfaSignIn:start",Gs(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ks(e,"POST","/v1/accounts:sendVerificationCode",Gs(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ac{constructor(e){this.providerId=Ac.PROVIDER_ID,this.auth=Pa(e)}verifyPhoneNumber(e,t){return Nc(this.auth,e,$r(t))}static credential(e,t){return eo._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ac.credentialFromTaggedObject(t)}static credentialFromError(e){return Ac.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?eo._fromTokenResponse(n,r):null}}function Rc(e,t){return t?fa(t):(Os(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ac.PROVIDER_ID="phone",Ac.PHONE_SIGN_IN_METHOD="phone";class Pc extends qa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ja(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Oc(e){return ko(e.auth,new Pc(e),e.bypassAuthState)}function Dc(e){const{auth:t,user:n}=e;return Os(n,t,"internal-error"),Io(n,new Pc(e),e.bypassAuthState)}async function Lc(e){const{auth:t,user:n}=e;return Os(n,t,"internal-error"),wo(n,new Pc(e),e.bypassAuthState)}class Mc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(TN){this.reject(TN)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(TN){this.reject(TN)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Oc;case"linkViaPopup":case"linkViaRedirect":return Lc;case"reauthViaPopup":case"reauthViaRedirect":return Dc;default:xs(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fc=new Vs(2e3,1e4);class Uc extends Mc{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Uc.currentPopupAction&&Uc.currentPopupAction.cancel(),Uc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Os(e,this.auth,"internal-error"),e}async onExecution(){Ls(1===this.filter.length,"Popup operations only handle one event");const e=ic();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ns(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ns(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Fc.get())};e()}}Uc.currentPopupAction=null;const Vc="pendingRedirect",zc=new Map;class jc extends Mc{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=zc.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Kc(t),r=Gc(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(TN){e=()=>Promise.reject(TN)}zc.set(this.auth._key(),e)}return this.bypassAuthState||zc.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Bc(e,t){return Gc(e)._set(Kc(t),"true")}function qc(e,t){zc.set(e._key(),t)}function Gc(e){return fa(e._redirectPersistence)}function Kc(e){return ga(Vc,e.config.apiKey,e.name)}function Hc(e,t,n){return async function(e,t,n){const r=Pa(e);Rs(e,t,ro),await r._initializationPromise;const i=Rc(r,n);return await Bc(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Wc(e,t,n){return async function(e,t,n){const r=$r(e);Rs(r.auth,t,ro),await r.auth._initializationPromise;const i=Rc(r.auth,n);await Bc(i,r.auth);const s=await Xc(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Qc(e,t,n){return async function(e,t,n){const r=$r(e);Rs(r.auth,t,ro),await r.auth._initializationPromise;const i=Rc(r.auth,n);await _o(!1,r,t.providerId),await Bc(i,r.auth);const s=await Xc(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function Yc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Pa(e),i=Rc(r,t),s=new jc(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function Xc(e){const t=ic("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Jc{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Zc(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ns(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($c(e))}saveEventToCache(e){this.cachedEventUids.add($c(e)),this.lastProcessedEventTime=Date.now()}}function $c(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Zc(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function el(e){return Ks(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const tl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nl=/^https?/;function rl(e){const t=Ms(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!nl.test(n))return!1;if(tl.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const il=new Vs(3e4,6e4);function sl(){const e=ac().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function al(e){return new Promise(((t,n)=>{var r,i,s;function a(){sl(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{sl(),n(Ns(e,"network-request-failed"))},timeout:il.get()})}if(null===(i=null===(r=ac().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ac().gapi)||void 0===s?void 0:s.load)){const t=Ma("iframefcb");return ac()[t]=()=>{gapi.load?a():n(Ns(e,"network-request-failed"))},La("".concat(Da.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw ol=null,e}))}let ol=null;const cl=new Vs(5e3,15e3),ll="__/auth/iframe",ul="emulator/auth/iframe",hl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fl(e){const t=e.config;Os(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?zs(t,ul):"https://".concat(e.config.authDomain,"/").concat(ll),r={apiKey:t.apiKey,appName:e.name,v:qi},i=dl.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Hr(r).slice(1))}async function pl(e){const t=await function(e){return ol=ol||al(e),ol}(e),n=ac().gapi;return Os(n,e,"internal-error"),t.open({where:document.body,url:fl(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hl,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ns(e,"network-request-failed"),s=ac().setTimeout((()=>{r(i)}),cl.get());function a(){ac().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const ml={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gl{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(TN){}}}function vl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const c=Object.assign(Object.assign({},ml),{width:r.toString(),height:i.toString(),top:s,left:a}),l=Or().toLowerCase();n&&(o=_a(l)?"_blank":n),ba(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Sa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new gl(null);const h=window.open(t||"",o,u);Os(h,e,"popup-blocked");try{h.focus()}catch(TN){}return new gl(h)}const yl="__/auth/handler",bl="emulator/auth/handler",wl=encodeURIComponent("fac");async function _l(e,t,n,r,i,s){Os(e.config.authDomain,e,"auth-domain-config-required"),Os(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:qi,eventId:i};if(t instanceof ro){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof io){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const c=await e._getAppCheckToken(),l=c?"#".concat(wl,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(yl);return zs(t,bl)}(e),"?").concat(Hr(o).slice(1)).concat(l)}const Il="webStorageSupport";const kl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nc,this._completeRedirectFn=Yc,this._overrideRedirectResult=qc}async _openPopup(e,t,n,r){var i;Ls(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return vl(e,await _l(e,t,n,Ms(),r),ic())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ac().location.href=e}(await _l(e,t,n,Ms(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ls(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await pl(e),n=new Jc(e);return t.register("authEvent",(t=>{Os(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Il,{type:Il},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Il];void 0!==i&&t(!!i),xs(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await el(e);for(const r of t)try{if(rl(r))return}catch(n){}xs(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ca()||wa()||Sa()}};class El{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ds("unexpected MultiFactorSessionType")}}}class Tl extends El{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Tl(e)}_finalizeEnroll(e,t,n){return function(e,t){return Ks(e,"POST","/v2/accounts/mfaEnrollment:finalize",Gs(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Ks(e,"POST","/v2/accounts/mfaSignIn:finalize",Gs(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Sl{constructor(){}static assertion(e){return Tl._fromCredential(e)}}Sl.FACTOR_ID="phone";var Cl="@firebase/auth",xl="1.6.0";class Nl{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Os(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Nr())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var Al;function Rl(){return window}!function(e){Da=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ns("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Al="Browser",Fi(new Zr("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Os(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:o,clientPlatform:Al,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xa(Al)},l=new Ra(r,i,s,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fa);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Fi(new Zr("auth-internal",(e=>(e=>new Nl(e))(Pa(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Qi(Cl,xl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Al)),Qi(Cl,xl,"esm2017");async function Pl(e,t,n){var r;const{BuildInfo:i}=Rl();Ls(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Ls(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return Sa()?a.ibi=i.packageName:ka()?a.apn=i.packageName:xs(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=s,_l(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function Ol(e){const{cordova:t}=Rl();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Dl=20;class Ll extends Jc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Ml(e){const t=await Vl()._get(zl(e));return t&&await Vl()._remove(zl(e)),t}function Fl(e,t){var n,r;const i=function(e){const t=jl(e),n=t.link?decodeURIComponent(t.link):void 0,r=jl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return jl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=jl(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(TN){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],o=a?Ns(a):null;return o?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Ul(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Dl;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Vl(){return fa(ec)}function zl(e){return ga("authEvent",e.config.apiKey,e.name)}function jl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Wr(n.join("?"))}const Bl=class{constructor(){this._redirectPersistence=nc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Yc,this._overrideRedirectResult=qc}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Ll(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){xs(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,a,o,c,l,u;const h=Rl();Os("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Os("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Os("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Os("function"===typeof(null===(c=null===(o=null===(a=null===h||void 0===h?void 0:h.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Os("function"===typeof(null===(u=null===(l=null===h||void 0===h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),zc.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Ul(),postBody:null,tenantId:e.tenantId,error:Ns(e,"no-auth-event")}}(e,n,r);await function(e,t){return Vl()._set(zl(e),t)}(e,s);const a=await Pl(e,s,t);return async function(e,t,n){const{cordova:r}=Rl();let i=()=>{};try{await new Promise(((s,a)=>{let o=null;function c(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){o||(o=window.setTimeout((()=>{a(Ns(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),ka()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}}))}finally{i()}}(e,i,await Ol(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Rl(),n={};Sa()?n.iosBundleId=t.packageName:ka()?n.androidPackageName=t.packageName:xs(e,"operation-not-supported-in-this-environment"),await el(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Rl(),s=setTimeout((async()=>{await Ml(e),t.onEvent(ql())}),500),a=async n=>{clearTimeout(s);const r=await Ml(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Fl(r,n.url)),t.onEvent(i||ql())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const o=r,c="".concat(i.packageName.toLowerCase(),"://");Rl().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"===typeof o)try{o(e)}catch(TN){console.error(TN)}}}};function ql(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ns("no-auth-event")}}function Gl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Kl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or();return!("file:"!==Gl()&&"ionic:"!==Gl()&&"capacitor:"!==Gl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or();return Fr()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or();return/Edge\/\d+/.test(e)}(e)}function Wl(){try{const e=self.localStorage,t=ic();if(e)return e.setItem(t,"1"),e.removeItem(t),!Hl()||Vr()}catch(TN){return Ql()&&Vr()}return!1}function Ql(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Yl(){return("http:"===Gl()||"https:"===Gl()||Lr()||Kl())&&!(Mr()||Dr())&&Wl()&&!Ql()}function Xl(){return Kl()&&"undefined"!==typeof document}const Jl={LOCAL:"local",NONE:"none",SESSION:"session"},$l=Os,Zl="persistence";async function eu(e){await e._initializationPromise;const t=tu(),n=ga(Zl,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function tu(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(TN){return null}}const nu=Os;class ru{constructor(){this.browserResolver=fa(kl),this.cordovaResolver=fa(Bl),this.underlyingResolver=null,this._redirectPersistence=nc,this._completeRedirectFn=Yc,this._overrideRedirectResult=qc}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Xl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return nu(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Xl()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function iu(e){return e.unwrap()}function su(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new lu(e,function(e,t){var n;const r=$r(e),i=t;return Os(t.customData.operationType,r,"argument-error"),Os(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Qo._fromError(r,i)}(e,t))}else if(r){const e=au(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function au(e){const{_tokenResponse:t}=e instanceof zr?e.customData:e;if(!t)return null;if(!(e instanceof zr)&&"temporaryProof"in t&&"phoneNumber"in t)return Ac.credentialFromResult(e);const n=t.providerId;if(!n||n===ms.PASSWORD)return null;let r;switch(n){case ms.GOOGLE:r=oo;break;case ms.FACEBOOK:r=ao;break;case ms.GITHUB:r=co;break;case ms.TWITTER:r=ho;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:a,nonce:o}=t;return i||s||e||a?a?n.startsWith("saml.")?lo._create(n,a):$a._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new so(n).credential({idToken:e,accessToken:i,rawNonce:o}):null}return e instanceof zr?r.credentialFromError(e):r.credentialFromResult(e)}function ou(e,t){return t.catch((t=>{throw t instanceof zr&&su(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,au(r)),additionalUserInfo:Ho(e),user:uu.getOrCreate(n)};var r}))}async function cu(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>ou(e,n.confirm(t))}}class lu{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ou(iu(this.auth),this.resolver.resolveSignIn(e))}}class uu{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=$r(e);return Xo.has(t)||Xo.set(t,Yo._fromUser(t)),Xo.get(t)}(e)}static getOrCreate(e){return uu.USER_MAP.has(e)||uu.USER_MAP.set(e,new uu(e)),uu.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ou(this.auth,To(this._delegate,e))}async linkWithPhoneNumber(e,t){return cu(this.auth,async function(e,t,n){const r=$r(e);await _o(!1,r,"phone");const i=await Nc(r.auth,t,$r(n));return new xc(i,(e=>To(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return ou(this.auth,async function(e,t,n){const r=$r(e);Rs(r.auth,t,ro);const i=Rc(r.auth,n);return new Uc(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ru))}async linkWithRedirect(e){return await eu(Pa(this.auth)),Qc(this._delegate,e,ru)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ou(this.auth,So(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return cu(this.auth,async function(e,t,n){const r=$r(e),i=await Nc(r.auth,t,$r(n));return new xc(i,(e=>So(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return ou(this.auth,async function(e,t,n){const r=$r(e);Rs(r.auth,t,ro);const i=Rc(r.auth,n);return new Uc(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ru))}async reauthenticateWithRedirect(e){return await eu(Pa(this.auth)),Wc(this._delegate,e,ru)}sendEmailVerification(e){return Mo(this._delegate,e)}async unlink(e){return await bo(this._delegate,e),this}updateEmail(e){return function(e,t){return Vo($r(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Vo($r(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await wo($r(e),t)}(this._delegate,e)}updateProfile(e){return Uo(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Fo(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}uu.USER_MAP=new WeakMap;const hu=Os;class du{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;hu(n,"invalid-api-key",{appName:e.name}),hu(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?ru:void 0;this._delegate=t.initialize({options:{persistence:pu(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(ks),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?uu.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){za(this._delegate,e,t)}applyActionCode(e){return Oo(this._delegate,e)}checkActionCode(e){return Do(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Ga($r(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Po(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ou(this._delegate,async function(e,t,n){const r=Pa(e),i=Va(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fo),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Po(e),t})),a=await po._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Lo(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=to.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){hu(Yl(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Pa(e)._initializationPromise,Yc(e,t,!1)}(this._delegate,ru);return e?ou(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Pa(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=fu(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=fu(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Pa(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Os(t.handleCodeInApp,r,"argument-error"),t&&Ro(r,e,t)}(i,n),await Va(r,i,"getOobCode",Ya)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Pa(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Ro(r,i,n),await Va(r,i,"getOobCode",Qa)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){$l(Object.values(Jl).includes(t),e,"invalid-persistence-type"),Mr()?$l(t!==Jl.SESSION,e,"unsupported-persistence-type"):Dr()?$l(t===Jl.NONE,e,"unsupported-persistence-type"):Ql()?$l(t===Jl.NONE||t===Jl.LOCAL&&Vr(),e,"unsupported-persistence-type"):$l(t===Jl.NONE||Wl(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Jl.SESSION:t=nc;break;case Jl.LOCAL:t=await fa(vc)._isAvailable()?vc:ec;break;case Jl.NONE:t=ma;break;default:return xs("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ou(this._delegate,async function(e){var t;const n=Pa(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new po({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await fo(n,{returnSecureToken:!0}),i=await po._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return ou(this._delegate,Eo(this._delegate,e))}signInWithCustomToken(e){return ou(this._delegate,Co(this._delegate,e))}signInWithEmailAndPassword(e,t){return ou(this._delegate,function(e,t,n){return Eo($r(e),no.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Po(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return ou(this._delegate,async function(e,t,n){const r=$r(e),i=no.credentialWithLink(t,n||Ms());return Os(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Eo(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return cu(this._delegate,async function(e,t,n){const r=Pa(e),i=await Nc(r,t,$r(n));return new xc(i,(e=>Eo(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return hu(Yl(),this._delegate,"operation-not-supported-in-this-environment"),ou(this._delegate,async function(e,t,n){const r=Pa(e);Rs(e,t,ro);const i=Rc(r,n);return new Uc(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,ru))}async signInWithRedirect(e){return hu(Yl(),this._delegate,"operation-not-supported-in-this-environment"),await eu(this._delegate),Hc(this._delegate,e,ru)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Do($r(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function fu(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&uu.getOrCreate(e)),error:t,complete:n}}function pu(e,t){const n=function(e,t){const n=tu();if(!n)return[];const r=ga(Zl,e,t);switch(n.getItem(r)){case Jl.NONE:return[ma];case Jl.LOCAL:return[vc,nc];case Jl.SESSION:return[nc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(vc)||n.push(vc),"undefined"!==typeof window)for(const r of[ec,nc])n.includes(r)||n.push(r);return n.includes(ma)||n.push(ma),n}du.Persistence=Jl;class mu{constructor(){this.providerId="phone",this._delegate=new Ac(iu(fs.auth()))}static credential(e,t){return Ac.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}mu.PHONE_SIGN_IN_METHOD=Ac.PHONE_SIGN_IN_METHOD,mu.PROVIDER_ID=Ac.PROVIDER_ID;const gu=Os;class vu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fs.app();var r;gu(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Cc(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var yu;(yu=fs).INTERNAL.registerComponent(new Zr("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new du(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:gs,PASSWORD_RESET:vs,RECOVER_EMAIL:ys,REVERT_SECOND_FACTOR_ADDITION:bs,VERIFY_AND_CHANGE_EMAIL:ws,VERIFY_EMAIL:_s}},EmailAuthProvider:no,FacebookAuthProvider:ao,GithubAuthProvider:co,GoogleAuthProvider:oo,OAuthProvider:so,SAMLAuthProvider:uo,PhoneAuthProvider:mu,PhoneMultiFactorGenerator:Sl,RecaptchaVerifier:vu,TwitterAuthProvider:ho,Auth:du,AuthCredential:qa,Error:zr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),yu.registerVersion("@firebase/auth-compat","0.5.2");var bu,wu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_u={},Iu=Iu||{},ku=wu||self;function Eu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Tu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Su="closure_uid_"+(1e9*Math.random()>>>0),Cu=0;function xu(e,t,n){return e.call.apply(e.bind,arguments)}function Nu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Au(e,t,n){return(Au=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xu:Nu).apply(null,arguments)}function Ru(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Pu(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ou(){this.s=this.s,this.o=this.o}Ou.prototype.s=!1,Ou.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Su)&&e[Su]||(e[Su]=++Cu))},Ou.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Du=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Lu(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Mu(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Eu(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Fu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Fu.prototype.h=function(){this.defaultPrevented=!0};var Uu=function(){if(!ku.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};ku.addEventListener("test",e,t),ku.removeEventListener("test",e,t)}catch(Gx){}return e}();function Vu(e){return/^[\s\xa0]*$/.test(e)}function zu(){var e=ku.navigator;return e&&(e=e.userAgent)?e:""}function ju(e){return-1!=zu().indexOf(e)}function Bu(e){return Bu[" "](e),e}Bu[" "]=function(){};var qu,Gu,Ku=ju("Opera"),Hu=ju("Trident")||ju("MSIE"),Wu=ju("Edge"),Qu=Wu||Hu,Yu=ju("Gecko")&&!(-1!=zu().toLowerCase().indexOf("webkit")&&!ju("Edge"))&&!(ju("Trident")||ju("MSIE"))&&!ju("Edge"),Xu=-1!=zu().toLowerCase().indexOf("webkit")&&!ju("Edge");function Ju(){var e=ku.document;return e?e.documentMode:void 0}e:{var $u="",Zu=function(){var e=zu();return Yu?/rv:([^\);]+)(\)|;)/.exec(e):Wu?/Edge\/([\d\.]+)/.exec(e):Hu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Xu?/WebKit\/(\S+)/.exec(e):Ku?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Zu&&($u=Zu?Zu[1]:""),Hu){var eh=Ju();if(null!=eh&&eh>parseFloat($u)){qu=String(eh);break e}}qu=$u}if(ku.document&&Hu){var th=Ju();Gu=th||(parseInt(qu,10)||void 0)}else Gu=void 0;var nh=Gu;function rh(e,t){if(Fu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Yu){e:{try{Bu(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ih[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&rh.$.h.call(this)}}Pu(rh,Fu);var ih={2:"touch",3:"pen",4:"mouse"};rh.prototype.h=function(){rh.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var sh="closure_listenable_"+(1e6*Math.random()|0),ah=0;function oh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ah,this.fa=this.ia=!1}function ch(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function lh(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function uh(e){const t={};for(const n in e)t[n]=e[n];return t}const hh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dh(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<hh.length;t++)n=hh[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function fh(e){this.src=e,this.g={},this.h=0}function ph(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Du(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ch(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function mh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}fh.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=mh(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new oh(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var gh="closure_lm_"+(1e6*Math.random()|0),vh={};function yh(e,t,n,r,i){if(r&&r.once)return wh(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)yh(e,t[s],n,r,i);return null}return n=Ch(n),e&&e[sh]?e.O(t,n,Tu(r)?!!r.capture:!!r,i):bh(e,t,n,!1,r,i)}function bh(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Tu(i)?!!i.capture:!!i,o=Th(e);if(o||(e[gh]=o=new fh(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Eh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Uu||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(kh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function wh(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)wh(e,t[s],n,r,i);return null}return n=Ch(n),e&&e[sh]?e.P(t,n,Tu(r)?!!r.capture:!!r,i):bh(e,t,n,!0,r,i)}function _h(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)_h(e,t[s],n,r,i);else r=Tu(r)?!!r.capture:!!r,n=Ch(n),e&&e[sh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=mh(s=e.g[t],n,r,i))&&(ch(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Th(e))&&(t=e.g[t.toString()],e=-1,t&&(e=mh(t,n,r,i)),(n=-1<e?t[e]:null)&&Ih(n))}function Ih(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[sh])ph(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(kh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Th(t))?(ph(n,e),0==n.h&&(n.src=null,t[gh]=null)):ch(e)}}}function kh(e){return e in vh?vh[e]:vh[e]="on"+e}function Eh(e,t){if(e.fa)e=!0;else{t=new rh(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ih(e),e=n.call(r,t)}return e}function Th(e){return(e=e[gh])instanceof fh?e:null}var Sh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ch(e){return"function"===typeof e?e:(e[Sh]||(e[Sh]=function(t){return e.handleEvent(t)}),e[Sh])}function xh(){Ou.call(this),this.i=new fh(this),this.S=this,this.J=null}function Nh(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Fu(t,e);else if(t instanceof Fu)t.target=t.target||e;else{var i=t;dh(t=new Fu(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Ah(a,r,!0,t)&&i}if(i=Ah(a=t.g=e,r,!0,t)&&i,i=Ah(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ah(a=t.g=n[s],r,!1,t)&&i}function Ah(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,c=a.la||a.src;a.ia&&ph(e.i,a),i=!1!==o.call(c,r)&&i}}return i&&!r.defaultPrevented}Pu(xh,Ou),xh.prototype[sh]=!0,xh.prototype.removeEventListener=function(e,t,n,r){_h(this,e,t,n,r)},xh.prototype.N=function(){if(xh.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ch(n[r]);delete t.g[e],t.h--}}this.J=null},xh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},xh.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Rh=ku.JSON.stringify;function Ph(){var e=Vh;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Oh=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Dh),(e=>e.reset()));class Dh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Lh(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Mh(e){ku.setTimeout((()=>{throw e}),0)}let Fh,Uh=!1,Vh=new class{constructor(){this.h=this.g=null}add(e,t){const n=Oh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},zh=()=>{const e=ku.Promise.resolve(void 0);Fh=()=>{e.then(jh)}};var jh=()=>{for(var e;e=Ph();){try{e.h.call(e.g)}catch(Gx){Mh(Gx)}var t=Oh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Uh=!1};function Bh(e,t){xh.call(this),this.h=e||1,this.g=t||ku,this.j=Au(this.qb,this),this.l=Date.now()}function qh(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Gh(e,t,n){if("function"===typeof e)n&&(e=Au(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Au(e.handleEvent,e)}return 2147483647<Number(t)?-1:ku.setTimeout(e,t||0)}function Kh(e){e.g=Gh((()=>{e.g=null,e.i&&(e.i=!1,Kh(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Pu(Bh,xh),(bu=Bh.prototype).ga=!1,bu.T=null,bu.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Nh(this,"tick"),this.ga&&(qh(this),this.start()))}},bu.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bu.N=function(){Bh.$.N.call(this),qh(this),delete this.g};class Hh extends Ou{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Kh(this)}N(){super.N(),this.g&&(ku.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wh(e){Ou.call(this),this.h=e,this.g={}}Pu(Wh,Ou);var Qh=[];function Yh(e,t,n,r){Array.isArray(n)||(n&&(Qh[0]=n.toString()),n=Qh);for(var i=0;i<n.length;i++){var s=yh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Xh(e){lh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ih(e)}),e),e.g={}}function Jh(){this.g=!0}function $h(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Rh(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}Wh.prototype.N=function(){Wh.$.N.call(this),Xh(this)},Wh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jh.prototype.Ea=function(){this.g=!1},Jh.prototype.info=function(){};var Zh={},ed=null;function td(){return ed=ed||new xh}function nd(e){Fu.call(this,Zh.Ta,e)}function rd(e){const t=td();Nh(t,new nd(t))}function id(e,t){Fu.call(this,Zh.STAT_EVENT,e),this.stat=t}function sd(e){const t=td();Nh(t,new id(t,e))}function ad(e,t){Fu.call(this,Zh.Ua,e),this.size=t}function od(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ku.setTimeout((function(){e()}),t)}Zh.Ta="serverreachability",Pu(nd,Fu),Zh.STAT_EVENT="statevent",Pu(id,Fu),Zh.Ua="timingevent",Pu(ad,Fu);var cd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ld={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ud(){}function hd(e){return e.h||(e.h=e.i())}function dd(){}ud.prototype.h=null;var fd,pd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function md(){Fu.call(this,"d")}function gd(){Fu.call(this,"c")}function vd(){}function yd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Wh(this),this.P=wd,e=Qu?125:void 0,this.V=new Bh(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bd}function bd(){this.i=null,this.g="",this.h=!1}Pu(md,Fu),Pu(gd,Fu),Pu(vd,ud),vd.prototype.g=function(){return new XMLHttpRequest},vd.prototype.i=function(){return{}},fd=new vd;var wd=45e3,_d={},Id={};function kd(e,t,n){e.L=1,e.A=Bd(Fd(t)),e.u=n,e.S=!0,Ed(e,null)}function Ed(e,t){e.G=Date.now(),xd(e),e.B=Fd(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),tf(n.i,"t",r),e.o=0,n=e.l.J,e.h=new bd,e.g=rp(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Hh(Au(e.Pa,e,e.g),e.O)),Yh(e.U,e.g,"readystatechange",e.nb),t=e.I?uh(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),rd(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),c=0;c<o.length;c++){var l=o[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+l+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Td(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Sd(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Cd(e,n),r==Id){4==t&&(e.s=4,sd(14),i=!1),$h(e.j,e.m,null,"[Incomplete Response]");break}if(r==_d){e.s=4,sd(15),$h(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}$h(e.j,e.m,r,null),Od(e,r)}Td(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,sd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yf(t),t.M=!0,sd(11))):($h(e.j,e.m,n,"[Invalid Chunked Response]"),Pd(e),Rd(e))}function Cd(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Id:(n=Number(t.substring(n,r)),isNaN(n)?_d:(r+=1)+n>t.length?Id:(t=t.slice(r,r+n),e.o=r+n,t))}function xd(e){e.Y=Date.now()+e.P,Nd(e,e.P)}function Nd(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=od(Au(e.lb,e),t)}function Ad(e){e.C&&(ku.clearTimeout(e.C),e.C=null)}function Rd(e){0==e.l.H||e.J||$f(e.l,e)}function Pd(e){Ad(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,qh(e.V),Xh(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Od(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||lf(n.i,e)))if(!e.K&&lf(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(Qx){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Jf(n),jf(n)}Qf(n),sd(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=od(Au(n.ib,n),6e3));if(1>=cf(n.i)&&n.oa){try{n.oa()}catch(Qx){}n.oa=void 0}}else ep(n,11)}else if((e.K||n.g==e)&&Jf(n),!Vu(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(uf(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,jd(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=np(r,r.J?r.pa:null,r.Y),a.K){hf(r.i,a);var o=a,c=r.L;c&&o.setTimeout(c),o.C&&(Ad(o),xd(o)),r.g=a}else Wf(r);0<n.j.length&&qf(n)}else"stop"!=l[0]&&"close"!=l[0]||ep(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?ep(n,7):zf(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}rd()}catch(Qx){}}function Dd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Eu(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Eu(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Eu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(bu=yd.prototype).setTimeout=function(e){this.P=e},bu.nb=function(e){e=e.target;const t=this.M;t&&3==Df(e)?t.l():this.Pa(e)},bu.Pa=function(e){try{if(e==this.g)e:{const u=Df(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Qu||this.g&&(this.h.h||this.g.ja()||Lf(this.g)))){this.J||4!=u||7==t||rd(),Ad(this);var n=this.g.da();this.ca=n;t:if(Td(this)){var r=Lf(this.g);e="";var i=r.length,s=4==Df(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Pd(this),Rd(this);var a="";break t}this.h.i=new ku.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,c=this.g;if((o=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vu(o)){var l=o;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,sd(12),Pd(this),Rd(this);break e}$h(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Od(this,n)}this.S?(Sd(this,u,a),Qu&&this.i&&3==u&&(Yh(this.U,this.V,"tick",this.mb),this.V.start())):($h(this.j,this.m,a,null),Od(this,a)),4==u&&Pd(this),this.i&&!this.J&&(4==u?$f(this.l,this):(this.i=!1,xd(this)))}else(function(e){const t={};e=(e.g&&2<=Df(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Vu(e[r]))continue;var n=Lh(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,sd(12)):(this.s=0,sd(13)),Pd(this),Rd(this)}}}catch(Hx){}},bu.mb=function(){if(this.g){var e=Df(this.g),t=this.g.ja();this.o<t.length&&(Ad(this),Sd(this,e,t),this.i&&4!=e&&xd(this))}},bu.cancel=function(){this.J=!0,Pd(this)},bu.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(rd(),sd(17)),Pd(this),this.s=2,Rd(this)):Nd(this,this.Y-e)};var Ld=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Md(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Md){this.h=e.h,Ud(this,e.j),this.s=e.s,this.g=e.g,Vd(this,e.m),this.l=e.l;var t=e.i,n=new Jd;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),zd(this,n),this.o=e.o}else e&&(t=String(e).match(Ld))?(this.h=!1,Ud(this,t[1]||"",!0),this.s=qd(t[2]||""),this.g=qd(t[3]||"",!0),Vd(this,t[4]),this.l=qd(t[5]||"",!0),zd(this,t[6]||"",!0),this.o=qd(t[7]||"")):(this.h=!1,this.i=new Jd(null,this.h))}function Fd(e){return new Md(e)}function Ud(e,t,n){e.j=n?qd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function zd(e,t,n){t instanceof Jd?(e.i=t,function(e,t){t&&!e.j&&($d(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zd(this,t),tf(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Gd(t,Yd)),e.i=new Jd(t,e.h))}function jd(e,t,n){e.i.set(t,n)}function Bd(e){return jd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Kd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Md.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Gd(t,Hd,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Gd(t,Hd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gd(n,"/"==n.charAt(0)?Qd:Wd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Gd(n,Xd)),e.join("")};var Hd=/[#\/\?@]/g,Wd=/[#\?:]/g,Qd=/[#\?]/g,Yd=/[#\?@]/g,Xd=/#/g;function Jd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function $d(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zd(e,t){$d(e),t=nf(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ef(e,t){return $d(e),t=nf(e,t),e.g.has(t)}function tf(e,t,n){Zd(e,t),0<n.length&&(e.i=null,e.g.set(nf(e,t),Lu(n)),e.h+=n.length)}function nf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(bu=Jd.prototype).add=function(e,t){$d(this),this.i=null,e=nf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},bu.forEach=function(e,t){$d(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},bu.ta=function(){$d(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},bu.Z=function(e){$d(this);let t=[];if("string"===typeof e)ef(this,e)&&(t=t.concat(this.g.get(nf(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},bu.set=function(e,t){return $d(this),this.i=null,ef(this,e=nf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},bu.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},bu.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var rf=class{constructor(e,t){this.g=e,this.map=t}};function sf(e){this.l=e||af,ku.PerformanceNavigationTiming?e=0<(e=ku.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ku.g&&ku.g.Ka&&ku.g.Ka()&&ku.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var af=10;function of(e){return!!e.h||!!e.g&&e.g.size>=e.j}function cf(e){return e.h?1:e.g?e.g.size:0}function lf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function uf(e,t){e.g?e.g.add(t):e.h=t}function hf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function df(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Lu(e.i)}sf.prototype.cancel=function(){if(this.i=df(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ff,pf=class{stringify(e){return ku.JSON.stringify(e,void 0)}parse(e){return ku.JSON.parse(e,void 0)}};function mf(){this.g=new pf}function gf(e,t,n){const r=n||"";try{Dd(e,(function(e,n){let i=e;Tu(e)&&(i=Rh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(TN){throw t.push(r+"type="+encodeURIComponent("_badmap")),TN}}function vf(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function yf(e){this.l=e.ec||null,this.j=e.ob||!1}function bf(e,t){xh.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=wf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pu(yf,ud),yf.prototype.g=function(){return new bf(this.l,this.j)},yf.prototype.i=(ff={},function(){return ff}),Pu(bf,xh);var wf=0;function _f(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function If(e){e.readyState=4,e.l=null,e.j=null,e.A=null,kf(e)}function kf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(bu=bf.prototype).open=function(e,t){if(this.readyState!=wf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,kf(this)},bu.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ku).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},bu.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,If(this)),this.readyState=wf},bu.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,kf(this)),this.g&&(this.readyState=3,kf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ku.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_f(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},bu.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?If(this):kf(this),3==this.readyState&&_f(this)}},bu.Za=function(e){this.g&&(this.response=this.responseText=e,If(this))},bu.Ya=function(e){this.g&&(this.response=e,If(this))},bu.ka=function(){this.g&&If(this)},bu.setRequestHeader=function(e,t){this.v.append(e,t)},bu.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},bu.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(bf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ef=ku.JSON.parse;function Tf(e){xh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Sf,this.L=this.M=!1}Pu(Tf,xh);var Sf="",Cf=/^https?$/i,xf=["POST","PUT"];function Nf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Af(e),Pf(e)}function Af(e){e.F||(e.F=!0,Nh(e,"complete"),Nh(e,"error"))}function Rf(e){if(e.h&&"undefined"!=typeof Iu&&(!e.C[1]||4!=Df(e)||2!=e.da()))if(e.v&&4==Df(e))Gh(e.La,0,e);else if(Nh(e,"readystatechange"),4==Df(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(Ld)[1]||null;!i&&ku.self&&ku.self.location&&(i=ku.self.location.protocol.slice(0,-1)),r=!Cf.test(i?i.toLowerCase():"")}n=r}if(n)Nh(e,"complete"),Nh(e,"success");else{e.m=6;try{var s=2<Df(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",Af(e)}}finally{Pf(e)}}}function Pf(e,t){if(e.g){Of(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Nh(e,"ready");try{n.onreadystatechange=r}catch(TN){}}}function Of(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ku.clearTimeout(e.A),e.A=null)}function Df(e){return e.g?e.g.readyState:0}function Lf(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Sf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Bp){return null}}function Mf(e){let t="";return lh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ff(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mf(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):jd(e,t,n))}function Uf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vf(e){this.Ga=0,this.j=[],this.l=new Jh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Uf("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Uf("baseRetryDelayMs",5e3,e),this.hb=Uf("retryDelaySeedMs",1e4,e),this.eb=Uf("forwardChannelMaxRetries",2,e),this.xa=Uf("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new sf(e&&e.concurrentRequestLimit),this.Ja=new mf,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function zf(e){if(Bf(e),3==e.H){var t=e.W++,n=Fd(e.I);if(jd(n,"SID",e.K),jd(n,"RID",t),jd(n,"TYPE","terminate"),Kf(e,n),(t=new yd(e,e.l,t)).L=2,t.A=Bd(Fd(n)),n=!1,ku.navigator&&ku.navigator.sendBeacon)try{n=ku.navigator.sendBeacon(t.A.toString(),"")}catch(ge){}!n&&ku.Image&&((new Image).src=t.A,n=!0),n||(t.g=rp(t.l,null),t.g.ha(t.A)),t.G=Date.now(),xd(t)}tp(e)}function jf(e){e.g&&(Yf(e),e.g.cancel(),e.g=null)}function Bf(e){jf(e),e.u&&(ku.clearTimeout(e.u),e.u=null),Jf(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ku.clearTimeout(e.m),e.m=null)}function qf(e){if(!of(e.i)&&!e.m){e.m=!0;var t=e.Na;Fh||zh(),Uh||(Fh(),Uh=!0),Vh.add(t,e),e.C=0}}function Gf(e,t){var n;n=t?t.m:e.W++;const r=Fd(e.I);jd(r,"SID",e.K),jd(r,"RID",n),jd(r,"AID",e.V),Kf(e,r),e.o&&e.s&&Ff(r,e.o,e.s),n=new yd(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Hf(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),uf(e.i,n),kd(n,r,t)}function Kf(e,t){e.na&&lh(e.na,(function(e,n){jd(t,n,e)})),e.h&&Dd({},(function(e,n){jd(t,n,e)}))}function Hf(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Au(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{gf(o,e,"req"+n+"_")}catch(sg){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Wf(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Fh||zh(),Uh||(Fh(),Uh=!0),Vh.add(t,e),e.A=0}}function Qf(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=od(Au(e.Ma,e),Zf(e,e.A)),e.A++,!0)}function Yf(e){null!=e.B&&(ku.clearTimeout(e.B),e.B=null)}function Xf(e){e.g=new yd(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Fd(e.wa);jd(t,"RID","rpc"),jd(t,"SID",e.K),jd(t,"AID",e.V),jd(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&jd(t,"TO",e.qa),jd(t,"TYPE","xmlhttp"),Kf(e,t),e.o&&e.s&&Ff(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Bd(Fd(t)),n.u=null,n.S=!0,Ed(n,e)}function Jf(e){null!=e.v&&(ku.clearTimeout(e.v),e.v=null)}function $f(e,t){var n=null;if(e.g==t){Jf(e),Yf(e),e.g=null;var r=2}else{if(!lf(e.i,t))return;n=t.F,hf(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Nh(r=td(),new ad(r,n)),qf(e)}else Wf(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(cf(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=od(Au(e.Na,e,t),Zf(e,e.C)),e.C++,!0))}(e,t)||2==r&&Qf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ep(e,5);break;case 4:ep(e,10);break;case 3:ep(e,6);break;default:ep(e,2)}}function Zf(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ep(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Au(e.pb,e);n||(n=new Md("//www.google.com/images/cleardot.gif"),ku.location&&"http"==ku.location.protocol||Ud(n,"https"),Bd(n)),function(e,t){const n=new Jh;if(ku.Image){const r=new Image;r.onload=Ru(vf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ru(vf,n,r,"TestLoadImage: error",!1,t),r.onabort=Ru(vf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ru(vf,n,r,"TestLoadImage: timeout",!1,t),ku.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else sd(2);e.H=0,e.h&&e.h.za(t),tp(e),Bf(e)}function tp(e){if(e.H=0,e.ma=[],e.h){const t=df(e.i);0==t.length&&0==e.j.length||(Mu(e.ma,t),Mu(e.ma,e.j),e.i.i.length=0,Lu(e.j),e.j.length=0),e.h.ya()}}function np(e,t,n){var r=n instanceof Md?Fd(n):new Md(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Vd(r,r.m);else{var i=ku.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Md(null);r&&Ud(s,r),t&&(s.g=t),i&&Vd(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&jd(r,n,t),jd(r,"VER",e.ra),Kf(e,r),r}function rp(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Tf(new yf({ob:n})):new Tf(e.va)).Oa(e.J),t}function ip(){}function sp(){if(Hu&&!(10<=Number(nh)))throw Error("Environmental error: no available transport.")}function ap(e,t){xh.call(this),this.g=new Vf(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Vu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Vu(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new lp(this)}function op(e){md.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function cp(){gd.call(this),this.status=1}function lp(e){this.g=e}function up(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hp(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function dp(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(bu=Tf.prototype).Oa=function(e){this.M=e},bu.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fd.g(),this.C=this.u?hd(this.u):hd(fd),this.g.onreadystatechange=Au(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Nf(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=ku.FormData&&e instanceof ku.FormData,!(0<=Du(xf,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Of(this),0<this.B&&((this.L=function(e){return Hu&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Au(this.ua,this)):this.A=Gh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Nf(this,s)}},bu.ua=function(){"undefined"!=typeof Iu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nh(this,"timeout"),this.abort(8))},bu.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Nh(this,"complete"),Nh(this,"abort"),Pf(this))},bu.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pf(this,!0)),Tf.$.N.call(this)},bu.La=function(){this.s||(this.G||this.v||this.l?Rf(this):this.kb())},bu.kb=function(){Rf(this)},bu.isActive=function(){return!!this.g},bu.da=function(){try{return 2<Df(this)?this.g.status:-1}catch(ff){return-1}},bu.ja=function(){try{return this.g?this.g.responseText:""}catch(ff){return""}},bu.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ef(t)}},bu.Ia=function(){return this.m},bu.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(bu=Vf.prototype).ra=8,bu.H=1,bu.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new yd(this,this.l,e);let s=this.s;if(this.U&&(s?(s=uh(s),dh(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Hf(this,i,t),jd(n=Fd(this.I),"RID",e),jd(n,"CVER",22),this.F&&jd(n,"X-HTTP-Session-Id",this.F),Kf(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Mf(s)))+"&"+t:this.o&&Ff(n,this.o,s)),uf(this.i,i),this.bb&&jd(n,"TYPE","init"),this.P?(jd(n,"$req",t),jd(n,"SID","null"),i.aa=!0,kd(i,n,null)):kd(i,n,t),this.H=2}}else 3==this.H&&(e?Gf(this,e):0==this.j.length||of(this.i)||Gf(this))},bu.Ma=function(){if(this.u=null,Xf(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=od(Au(this.jb,this),e)}},bu.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sd(10),jf(this),Xf(this))},bu.ib=function(){null!=this.v&&(this.v=null,jf(this),Qf(this),sd(19))},bu.pb=function(e){e?(this.l.info("Successfully pinged google.com"),sd(2)):(this.l.info("Failed to ping google.com"),sd(1))},bu.isActive=function(){return!!this.h&&this.h.isActive(this)},(bu=ip.prototype).Ba=function(){},bu.Aa=function(){},bu.za=function(){},bu.ya=function(){},bu.isActive=function(){return!0},bu.Va=function(){},sp.prototype.g=function(e,t){return new ap(e,t)},Pu(ap,xh),ap.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;sd(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=np(e,null,e.Y),qf(e)},ap.prototype.close=function(){zf(this.g)},ap.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Rh(e),e=n);t.j.push(new rf(t.fb++,e)),3==t.H&&qf(t)},ap.prototype.N=function(){this.g.h=null,delete this.j,zf(this.g),delete this.g,ap.$.N.call(this)},Pu(op,md),Pu(cp,gd),Pu(lp,ip),lp.prototype.Ba=function(){Nh(this.g,"a")},lp.prototype.Aa=function(e){Nh(this.g,new op(e))},lp.prototype.za=function(e){Nh(this.g,new cp)},lp.prototype.ya=function(){Nh(this.g,"b")},Pu(up,(function(){this.blockSize=-1})),up.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},up.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)hp(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){hp(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){hp(this,r),i=0;break}}this.h=i,this.i+=t},up.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var fp={};function pp(e){return-128<=e&&128>e?function(e,t){var n=fp;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new dp([0|e],0>e?-1:0)})):new dp([0|e],0>e?-1:0)}function mp(e){if(isNaN(e)||!isFinite(e))return vp;if(0>e)return Ip(mp(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=gp;return new dp(t,0)}var gp=4294967296,vp=pp(0),yp=pp(1),bp=pp(16777216);function wp(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function _p(e){return-1==e.h}function Ip(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new dp(n,~e.h).add(yp)}function kp(e,t){return e.add(Ip(t))}function Ep(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Tp(e,t){this.g=e,this.h=t}function Sp(e,t){if(wp(t))throw Error("division by zero");if(wp(e))return new Tp(vp,vp);if(_p(e))return t=Sp(Ip(e),t),new Tp(Ip(t.g),Ip(t.h));if(_p(t))return t=Sp(e,Ip(t)),new Tp(Ip(t.g),t.h);if(30<e.g.length){if(_p(e)||_p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=yp,r=t;0>=r.X(e);)n=Cp(n),r=Cp(r);var i=xp(n,1),s=xp(r,1);for(r=xp(r,2),n=xp(n,2);!wp(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=xp(r,1),n=xp(n,1)}return t=kp(e,i.R(t)),new Tp(i,t)}for(i=vp;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=mp(n)).R(t);_p(a)||0<a.X(e);)a=(s=mp(n-=r)).R(t);wp(s)&&(s=yp),i=i.add(s),e=kp(e,a)}return new Tp(i,e)}function Cp(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new dp(n,e.h)}function xp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new dp(i,e.h)}(bu=dp.prototype).ea=function(){if(_p(this))return-Ip(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:gp+r)*t,t*=gp}return e},bu.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(wp(this))return"0";if(_p(this))return"-"+Ip(this).toString(e);for(var t=mp(Math.pow(e,6)),n=this,r="";;){var i=Sp(n,t).g,s=((0<(n=kp(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(wp(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},bu.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},bu.X=function(e){return _p(e=kp(this,e))?-1:wp(e)?0:1},bu.abs=function(){return _p(this)?Ip(this):this},bu.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new dp(n,-2147483648&n[n.length-1]?-1:0)},bu.R=function(e){if(wp(this)||wp(e))return vp;if(_p(this))return _p(e)?Ip(this).R(Ip(e)):Ip(Ip(this).R(e));if(_p(e))return Ip(this.R(Ip(e)));if(0>this.X(bp)&&0>e.X(bp))return mp(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=a*c,Ep(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Ep(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,Ep(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,Ep(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new dp(n,0)},bu.gb=function(e){return Sp(this,e).h},bu.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new dp(n,this.h&e.h)},bu.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new dp(n,this.h|e.h)},bu.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new dp(n,this.h^e.h)},sp.prototype.createWebChannel=sp.prototype.g,ap.prototype.send=ap.prototype.u,ap.prototype.open=ap.prototype.m,ap.prototype.close=ap.prototype.close,cd.NO_ERROR=0,cd.TIMEOUT=8,cd.HTTP_ERROR=6,ld.COMPLETE="complete",dd.EventType=pd,pd.OPEN="a",pd.CLOSE="b",pd.ERROR="c",pd.MESSAGE="d",xh.prototype.listen=xh.prototype.O,Tf.prototype.listenOnce=Tf.prototype.P,Tf.prototype.getLastError=Tf.prototype.Sa,Tf.prototype.getLastErrorCode=Tf.prototype.Ia,Tf.prototype.getStatus=Tf.prototype.da,Tf.prototype.getResponseJson=Tf.prototype.Wa,Tf.prototype.getResponseText=Tf.prototype.ja,Tf.prototype.send=Tf.prototype.ha,Tf.prototype.setWithCredentials=Tf.prototype.Oa,up.prototype.digest=up.prototype.l,up.prototype.reset=up.prototype.reset,up.prototype.update=up.prototype.j,dp.prototype.add=dp.prototype.add,dp.prototype.multiply=dp.prototype.R,dp.prototype.modulo=dp.prototype.gb,dp.prototype.compare=dp.prototype.X,dp.prototype.toNumber=dp.prototype.ea,dp.prototype.toString=dp.prototype.toString,dp.prototype.getBits=dp.prototype.D,dp.fromNumber=mp,dp.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ip(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=mp(Math.pow(n,8)),i=vp,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=mp(Math.pow(n,a)),i=i.R(a).add(mp(o))):i=(i=i.R(r)).add(mp(o))}return i};var Np=_u.createWebChannelTransport=function(){return new sp},Ap=_u.getStatEventTarget=function(){return td()},Rp=_u.ErrorCode=cd,Pp=_u.EventType=ld,Op=_u.Event=Zh,Dp=_u.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Lp=(_u.FetchXmlHttpFactory=yf,_u.WebChannel=dd),Mp=_u.XhrIo=Tf,Fp=_u.Md5=up,Up=_u.Integer=dp;const Vp="@firebase/firestore";class zp{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zp.UNAUTHENTICATED=new zp(null),zp.GOOGLE_CREDENTIALS=new zp("google-credentials-uid"),zp.FIRST_PARTY=new zp("first-party-uid"),zp.MOCK_USER=new zp("mock-user");let jp="10.8.0";const Bp=new li("@firebase/firestore");function qp(){return Bp.logLevel}function Gp(e){if(Bp.logLevel<=ii.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Wp);Bp.debug("Firestore (".concat(jp,"): ").concat(e),...i)}}function Kp(e){if(Bp.logLevel<=ii.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Wp);Bp.error("Firestore (".concat(jp,"): ").concat(e),...i)}}function Hp(e){if(Bp.logLevel<=ii.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Wp);Bp.warn("Firestore (".concat(jp,"): ").concat(e),...i)}}function Wp(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Qp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(jp,") INTERNAL ASSERTION FAILED: ")+e;throw Kp(t),new Error(t)}function Yp(e,t){e||Qp()}function Xp(e,t){return e}const Jp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $p extends zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Zp{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class em{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class tm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zp.UNAUTHENTICATED)))}shutdown(){}}class nm{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class rm{constructor(e){this.t=e,this.currentUser=zp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Zp;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Zp,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Gp("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Gp("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Zp)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Gp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Yp("string"==typeof t.accessToken),new em(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Yp(null===e||"string"==typeof e),new zp(e)}}class im{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=zp.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sm{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new im(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(zp.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class am{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class om{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Gp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Gp("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Gp("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Gp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Yp("string"==typeof e.token),this.R=e.token,new am(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function cm(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class lm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=cm(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function um(e,t){return e<t?-1:e>t?1:0}function hm(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function dm(e){return e+"\0"}class fm{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $p(Jp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $p(Jp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $p(Jp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $p(Jp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return fm.fromMillis(Date.now())}static fromDate(e){return fm.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new fm(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?um(this.nanoseconds,e.nanoseconds):um(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pm{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pm(e)}static min(){return new pm(new fm(0,0))}static max(){return new pm(new fm(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mm{constructor(e,t,n){void 0===t?t=0:t>e.length&&Qp(),void 0===n?n=e.length-t:n>e.length-t&&Qp(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===mm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mm?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gm extends mm{construct(e,t,n){return new gm(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new $p(Jp.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new gm(e)}static emptyPath(){return new gm([])}}const vm=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ym extends mm{construct(e,t,n){return new ym(e,t,n)}static isValidIdentifier(e){return vm.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ym.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ym(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new $p(Jp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new $p(Jp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new $p(Jp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new $p(Jp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ym(t)}static emptyPath(){return new ym([])}}class bm{constructor(e){this.path=e}static fromPath(e){return new bm(gm.fromString(e))}static fromName(e){return new bm(gm.fromString(e).popFirst(5))}static empty(){return new bm(gm.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gm.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gm.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bm(new gm(e.slice()))}}class wm{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function _m(e){return e.fields.find((e=>2===e.kind))}function Im(e){return e.fields.filter((e=>2!==e.kind))}wm.UNKNOWN_ID=-1;class km{constructor(e,t){this.fieldPath=e,this.kind=t}}class Em{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Em(0,Cm.min())}}function Tm(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=pm.fromTimestamp(1e9===r?new fm(n+1,0):new fm(n,r));return new Cm(i,bm.empty(),t)}function Sm(e){return new Cm(e.readTime,e.key,-1)}class Cm{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Cm(pm.min(),bm.empty(),-1)}static max(){return new Cm(pm.max(),bm.empty(),-1)}}function xm(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=bm.comparator(e.documentKey,t.documentKey),0!==n?n:um(e.largestBatchId,t.largestBatchId))}const Nm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Am{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Rm(e){if(e.code!==Jp.FAILED_PRECONDITION||e.message!==Nm)throw e;Gp("LocalStore","Unexpectedly lost primary lease")}class Pm{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pm(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Pm?t:Pm.resolve(t)}catch(e){return Pm.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Pm.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Pm.reject(t)}static resolve(e){return new Pm(((t,n)=>{t(e)}))}static reject(e){return new Pm(((t,n)=>{n(e)}))}static waitFor(e){return new Pm(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Pm.resolve(!1);for(const n of e)t=t.next((e=>e?Pm.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Pm(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const c=o;t(e[c]).next((e=>{s[c]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Pm(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Om{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Zp,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Mm(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=jm(t.target.error);this.V.reject(new Mm(e,n))}}static open(e,t,n,r){try{return new Om(t,e.transaction(r,n))}catch(e){throw new Mm(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Gp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Um(t)}}class Dm{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Dm.S(Or())&&Kp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Gp("SimpleDb","Removing database:",e),Vm(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Vr())return!1;if(Dm.C())return!0;const e=Or(),t=Dm.S(e),n=0<t&&t<10,r=Dm.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Gp("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Mm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new $p(Jp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new $p(Jp.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Mm(e,r))},r.onupgradeneeded=e=>{Gp("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Gp("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Om.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Pm.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Gp("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Lm{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Vm(this.k.delete())}}class Mm extends $p{constructor(e,t){super(Jp.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Fm(e){return"IndexedDbTransactionError"===e.name}class Um{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Gp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Gp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Vm(n)}add(e){return Gp("SimpleDb","ADD",this.store.name,e,e),Vm(this.store.add(e))}get(e){return Vm(this.store.get(e)).next((t=>(void 0===t&&(t=null),Gp("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Gp("SimpleDb","DELETE",this.store.name,e),Vm(this.store.delete(e))}count(){return Gp("SimpleDb","COUNT",this.store.name),Vm(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Pm(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Pm(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Gp("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Pm(((n,r)=>{t.onerror=e=>{const t=jm(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Pm(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Lm(i),a=t(i.primaryKey,i.value,s);if(a instanceof Pm){const e=a.catch((e=>(s.done(),Pm.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>Pm.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Vm(e){return new Pm(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=jm(e.target.error);n(t)}}))}let zm=!1;function jm(e){const t=Dm.S(Or());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new $p("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return zm||(zm=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Bm{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Gp("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Gp("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){Fm(e)?Gp("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Rm(e)}await this.ee(6e4)}))}}class qm{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Pm.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Gp("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Gp("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Sm(t);xm(r,n)>0&&(n=r)})),new Cm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Gm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Km(e){return null==e}function Hm(e){return 0===e&&1/e==-1/0}function Wm(e){return"number"==typeof e&&Number.isInteger(e)&&!Hm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Qm(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Xm(t)),t=Ym(e.get(n),t);return Xm(t)}function Ym(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Xm(e){return e+"\x01\x01"}function Jm(e){const t=e.length;if(Yp(t>=2),2===t)return Yp("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),gm.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Qp(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Qp()}s=t+2}return new gm(r)}Gm._e=-1;const $m=["userId","batchId"];function Zm(e,t){return[e,Qm(t)]}function eg(e,t,n){return[e,Qm(t),n]}const tg={},ng=["prefixPath","collectionGroup","readTime","documentId"],rg=["prefixPath","collectionGroup","documentId"],ig=["collectionGroup","readTime","prefixPath","documentId"],sg=["canonicalId","targetId"],ag=["targetId","path"],og=["path","targetId"],cg=["collectionId","parent"],lg=["indexId","uid"],ug=["uid","sequenceNumber"],hg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dg=["indexId","uid","orderedDocumentKey"],fg=["userId","collectionPath","documentId"],pg=["userId","collectionPath","largestBatchId"],mg=["userId","collectionGroup","largestBatchId"],gg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vg=[...gg,"documentOverlays"],yg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bg=yg,wg=[...bg,"indexConfiguration","indexState","indexEntries"];class _g extends Am{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Ig(e,t){const n=Xp(e);return Dm.M(n.ae,t)}function kg(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Eg(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Tg(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Sg{constructor(e,t){this.comparator=e,this.root=t||xg.EMPTY}insert(e,t){return new Sg(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xg.BLACK,null,null))}remove(e){return new Sg(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xg.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cg(this.root,e,this.comparator,!0)}}class Cg{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xg{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:xg.RED,this.left=null!=r?r:xg.EMPTY,this.right=null!=i?i:xg.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new xg(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return xg.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return xg.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xg.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xg.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qp();if(this.right.isRed())throw Qp();const e=this.left.check();if(e!==this.right.check())throw Qp();return e+(this.isRed()?0:1)}}xg.EMPTY=null,xg.RED=!0,xg.BLACK=!1,xg.EMPTY=new class{constructor(){this.size=0}get key(){throw Qp()}get value(){throw Qp()}get color(){throw Qp()}get left(){throw Qp()}get right(){throw Qp()}copy(e,t,n,r,i){return this}insert(e,t,n){return new xg(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ng{constructor(e){this.comparator=e,this.data=new Sg(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ag(this.data.getIterator())}getIteratorFrom(e){return new Ag(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ng))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ng(this.comparator);return t.data=e,t}}class Ag{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Rg(e){return e.hasNext()?e.getNext():void 0}class Pg{constructor(e){this.fields=e,e.sort(ym.comparator)}static empty(){return new Pg([])}unionWith(e){let t=new Ng(ym.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Pg(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hm(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Og extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dg{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Og("Invalid base64 string: "+e):e}}(e);return new Dg(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Dg(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return um(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dg.EMPTY_BYTE_STRING=new Dg("");const Lg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mg(e){if(Yp(!!e),"string"==typeof e){let t=0;const n=Lg.exec(e);if(Yp(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Fg(e.seconds),nanos:Fg(e.nanos)}}function Fg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ug(e){return"string"==typeof e?Dg.fromBase64String(e):Dg.fromUint8Array(e)}function Vg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zg(e){const t=e.mapValue.fields.__previous_value__;return Vg(t)?zg(t):t}function jg(e){const t=Mg(e.mapValue.fields.__local_write_time__.timestampValue);return new fm(t.seconds,t.nanos)}class Bg{constructor(e,t,n,r,i,s,a,o,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=c}}class qg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new qg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qg&&e.projectId===this.projectId&&e.database===this.database}}const Gg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Kg={nullValue:"NULL_VALUE"};function Hg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vg(e)?4:av(e)?9007199254740991:10:Qp()}function Wg(e,t){if(e===t)return!0;const n=Hg(e);if(n!==Hg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jg(e).isEqual(jg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Mg(e.timestampValue),r=Mg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ug(e.bytesValue).isEqual(Ug(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Fg(e.geoPointValue.latitude)===Fg(t.geoPointValue.latitude)&&Fg(e.geoPointValue.longitude)===Fg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Fg(e.integerValue)===Fg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Fg(e.doubleValue),r=Fg(t.doubleValue);return n===r?Hm(n)===Hm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return hm(e.arrayValue.values||[],t.arrayValue.values||[],Wg);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(kg(n)!==kg(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Wg(n[i],r[i])))return!1;return!0}(e,t);default:return Qp()}}function Qg(e,t){return void 0!==(e.values||[]).find((e=>Wg(e,t)))}function Yg(e,t){if(e===t)return 0;const n=Hg(e),r=Hg(t);if(n!==r)return um(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return um(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Fg(e.integerValue||e.doubleValue),r=Fg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Xg(e.timestampValue,t.timestampValue);case 4:return Xg(jg(e),jg(t));case 5:return um(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ug(e),r=Ug(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=um(n[i],r[i]);if(0!==e)return e}return um(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=um(Fg(e.latitude),Fg(t.latitude));return 0!==n?n:um(Fg(e.longitude),Fg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Yg(n[i],r[i]);if(e)return e}return um(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Gg.mapValue&&t===Gg.mapValue)return 0;if(e===Gg.mapValue)return 1;if(t===Gg.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=um(r[a],s[a]);if(0!==e)return e;const t=Yg(n[r[a]],i[s[a]]);if(0!==t)return t}return um(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Qp()}}function Xg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return um(e,t);const n=Mg(e),r=Mg(t),i=um(n.seconds,r.seconds);return 0!==i?i:um(n.nanos,r.nanos)}function Jg(e){return $g(e)}function $g(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Mg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ug(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return bm.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=$g(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat($g(e.fields[i]));return n+"}"}(e.mapValue):Qp()}function Zg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ev(e){return!!e&&"integerValue"in e}function tv(e){return!!e&&"arrayValue"in e}function nv(e){return!!e&&"nullValue"in e}function rv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function iv(e){return!!e&&"mapValue"in e}function sv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Eg(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=sv(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=sv(e.arrayValue.values[n]);return t}return Object.assign({},e)}function av(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ov(e){return"nullValue"in e?Kg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Zg(qg.empty(),bm.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Qp()}function cv(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Zg(qg.empty(),bm.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Gg:Qp()}function lv(e,t){const n=Yg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function uv(e,t){const n=Yg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class hv{constructor(e){this.value=e}static empty(){return new hv({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!iv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sv(t)}setAll(e){let t=ym.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=sv(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());iv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wg(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];iv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Eg(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new hv(sv(this.value))}}function dv(e){const t=[];return Eg(e.fields,((e,n)=>{const r=new ym([e]);if(iv(n)){const e=dv(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Pg(t)}class fv{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new fv(e,0,pm.min(),pm.min(),pm.min(),hv.empty(),0)}static newFoundDocument(e,t,n,r){return new fv(e,1,t,pm.min(),n,r,0)}static newNoDocument(e,t){return new fv(e,2,t,pm.min(),pm.min(),hv.empty(),0)}static newUnknownDocument(e,t){return new fv(e,3,t,pm.min(),pm.min(),hv.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pm.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hv.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hv.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pm.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fv&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fv(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class pv{constructor(e,t){this.position=e,this.inclusive=t}}function mv(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?bm.comparator(bm.fromName(a.referenceValue),n.key):Yg(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function gv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Wg(e.position[n],t.position[n]))return!1;return!0}class vv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function yv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class bv{}class wv extends bv{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Av(e,t,n):"array-contains"===t?new Dv(e,n):"in"===t?new Lv(e,n):"not-in"===t?new Mv(e,n):"array-contains-any"===t?new Fv(e,n):new wv(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Rv(e,n):new Pv(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yg(t,this.value)):null!==t&&Hg(this.value)===Hg(t)&&this.matchesComparison(Yg(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qp()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _v extends bv{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new _v(e,t)}matches(e){return Iv(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Iv(e){return"and"===e.op}function kv(e){return"or"===e.op}function Ev(e){return Tv(e)&&Iv(e)}function Tv(e){for(const t of e.filters)if(t instanceof _v)return!1;return!0}function Sv(e){if(e instanceof wv)return e.field.canonicalString()+e.op.toString()+Jg(e.value);if(Ev(e))return e.filters.map((e=>Sv(e))).join(",");{const t=e.filters.map((e=>Sv(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Cv(e,t){return e instanceof wv?function(e,t){return t instanceof wv&&e.op===t.op&&e.field.isEqual(t.field)&&Wg(e.value,t.value)}(e,t):e instanceof _v?function(e,t){return t instanceof _v&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Cv(n,t.filters[r])),!0)}(e,t):void Qp()}function xv(e,t){const n=e.filters.concat(t);return _v.create(n,e.op)}function Nv(e){return e instanceof wv?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Jg(e.value))}(e):e instanceof _v?function(e){return e.op.toString()+" {"+e.getFilters().map(Nv).join(" ,")+"}"}(e):"Filter"}class Av extends wv{constructor(e,t,n){super(e,t,n),this.key=bm.fromName(n.referenceValue)}matches(e){const t=bm.comparator(e.key,this.key);return this.matchesComparison(t)}}class Rv extends wv{constructor(e,t){super(e,"in",t),this.keys=Ov("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Pv extends wv{constructor(e,t){super(e,"not-in",t),this.keys=Ov("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ov(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>bm.fromName(e.referenceValue)))}class Dv extends wv{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tv(t)&&Qg(t.arrayValue,this.value)}}class Lv extends wv{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qg(this.value.arrayValue,t)}}class Mv extends wv{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qg(this.value.arrayValue,t)}}class Fv extends wv{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Qg(this.value.arrayValue,e)))}}class Uv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ce=null}}function Vv(e){return new Uv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function zv(e){const t=Xp(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Sv(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Km(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Jg(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Jg(e))).join(",")),t.ce=e}return t.ce}function jv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!yv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Cv(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gv(e.startAt,t.startAt)&&gv(e.endAt,t.endAt)}function Bv(e){return bm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function qv(e,t){return e.filters.filter((e=>e instanceof wv&&e.field.isEqual(t)))}function Gv(e,t,n){let r=Kg,i=!0;for(const s of qv(e,t)){let e=Kg,t=!0;switch(s.op){case"<":case"<=":e=ov(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Kg}lv({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];lv({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Kv(e,t,n){let r=Gg,i=!0;for(const s of qv(e,t)){let e=Gg,t=!0;switch(s.op){case">=":case">":e=cv(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Gg}uv({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];uv({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Hv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Wv(e,t,n,r,i,s,a,o){return new Hv(e,t,n,r,i,s,a,o)}function Qv(e){return new Hv(e)}function Yv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Xv(e){return null!==e.collectionGroup}function Jv(e){const t=Xp(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ng(ym.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new vv(r,n))})),e.has(ym.keyField().canonicalString())||t.le.push(new vv(ym.keyField(),n))}return t.le}function $v(e){const t=Xp(e);return t.he||(t.he=Zv(t,Jv(e))),t.he}function Zv(e,t){if("F"===e.limitType)return Vv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new vv(e.field,t)}));const n=e.endAt?new pv(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new pv(e.startAt.position,e.startAt.inclusive):null;return Vv(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ey(e,t){const n=e.filters.concat([t]);return new Hv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ty(e,t,n){return new Hv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ny(e,t){return jv($v(e),$v(t))&&e.limitType===t.limitType}function ry(e){return"".concat(zv($v(e)),"|lt:").concat(e.limitType)}function iy(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Nv(e))).join(", "),"]")),Km(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Jg(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Jg(e))).join(",")),"Target(".concat(t,")")}($v(e)),"; limitType=").concat(e.limitType,")")}function sy(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):bm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Jv(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=mv(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Jv(e),t))&&!(e.endAt&&!function(e,t,n){const r=mv(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Jv(e),t))}(e,t)}function ay(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function oy(e){return(t,n)=>{let r=!1;for(const i of Jv(e)){const e=cy(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function cy(e,t,n){const r=e.field.isKeyField()?bm.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Yg(r,i):Qp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Qp()}}class ly{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Eg(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Tg(this.inner)}size(){return this.innerSize}}const uy=new Sg(bm.comparator);function hy(){return uy}const dy=new Sg(bm.comparator);function fy(){let e=dy;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function py(e){let t=dy;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function my(){return vy()}function gy(){return vy()}function vy(){return new ly((e=>e.toString()),((e,t)=>e.isEqual(t)))}const yy=new Sg(bm.comparator),by=new Ng(bm.comparator);function wy(){let e=by;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const _y=new Ng(um);function Iy(){return _y}function ky(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hm(t)?"-0":t}}function Ey(e){return{integerValue:""+e}}function Ty(e,t){return Wm(t)?Ey(t):ky(e,t)}class Sy{constructor(){this._=void 0}}function Cy(e,t,n){return e instanceof Ay?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Vg(t)&&(t=zg(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ry?Py(e,t):e instanceof Oy?Dy(e,t):function(e,t){const n=Ny(e,t),r=My(n)+My(e.Ie);return ev(n)&&ev(e.Ie)?Ey(r):ky(e.serializer,r)}(e,t)}function xy(e,t,n){return e instanceof Ry?Py(e,t):e instanceof Oy?Dy(e,t):n}function Ny(e,t){return e instanceof Ly?function(e){return ev(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ay extends Sy{}class Ry extends Sy{constructor(e){super(),this.elements=e}}function Py(e,t){const n=Fy(t);for(const r of e.elements)n.some((e=>Wg(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Oy extends Sy{constructor(e){super(),this.elements=e}}function Dy(e,t){let n=Fy(t);for(const r of e.elements)n=n.filter((e=>!Wg(e,r)));return{arrayValue:{values:n}}}class Ly extends Sy{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function My(e){return Fg(e.integerValue||e.doubleValue)}function Fy(e){return tv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Uy{constructor(e,t){this.field=e,this.transform=t}}class Vy{constructor(e,t){this.version=e,this.transformResults=t}}class zy{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zy}static exists(e){return new zy(void 0,e)}static updateTime(e){return new zy(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class By{}function qy(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Zy(e.key,zy.none()):new Qy(e.key,e.data,zy.none());{const n=e.data,r=hv.empty();let i=new Ng(ym.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Yy(e.key,r,new Pg(i.toArray()),zy.none())}}function Gy(e,t,n){e instanceof Qy?function(e,t,n){const r=e.value.clone(),i=Jy(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Yy?function(e,t,n){if(!jy(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Jy(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Xy(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ky(e,t,n,r){return e instanceof Qy?function(e,t,n,r){if(!jy(e.precondition,t))return n;const i=e.value.clone(),s=$y(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Yy?function(e,t,n,r){if(!jy(e.precondition,t))return n;const i=$y(e.fieldTransforms,r,t),s=t.data;return s.setAll(Xy(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return jy(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Hy(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ny(r.transform,e||null);null!=i&&(null===n&&(n=hv.empty()),n.set(r.field,i))}return n||null}function Wy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&hm(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ry&&t instanceof Ry||e instanceof Oy&&t instanceof Oy?hm(e.elements,t.elements,Wg):e instanceof Ly&&t instanceof Ly?Wg(e.Ie,t.Ie):e instanceof Ay&&t instanceof Ay}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Qy extends By{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Yy extends By{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Xy(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Jy(e,t,n){const r=new Map;Yp(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,xy(a,o,n[i]))}return r}function $y(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Cy(e,s,t))}return r}class Zy extends By{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eb extends By{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tb{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Gy(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ky(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ky(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=gy();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=qy(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(pm.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),wy())}isEqual(e){return this.batchId===e.batchId&&hm(this.mutations,e.mutations,((e,t)=>Wy(e,t)))&&hm(this.baseMutations,e.baseMutations,((e,t)=>Wy(e,t)))}}class nb{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Yp(e.mutations.length===n.length);let r=yy;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new nb(e,t,n,r)}}class rb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ib{constructor(e,t){this.count=e,this.unchangedNames=t}}var sb,ab;function ob(e){switch(e){default:return Qp();case Jp.CANCELLED:case Jp.UNKNOWN:case Jp.DEADLINE_EXCEEDED:case Jp.RESOURCE_EXHAUSTED:case Jp.INTERNAL:case Jp.UNAVAILABLE:case Jp.UNAUTHENTICATED:return!1;case Jp.INVALID_ARGUMENT:case Jp.NOT_FOUND:case Jp.ALREADY_EXISTS:case Jp.PERMISSION_DENIED:case Jp.FAILED_PRECONDITION:case Jp.ABORTED:case Jp.OUT_OF_RANGE:case Jp.UNIMPLEMENTED:case Jp.DATA_LOSS:return!0}}function cb(e){if(void 0===e)return Kp("GRPC error has no .code"),Jp.UNKNOWN;switch(e){case sb.OK:return Jp.OK;case sb.CANCELLED:return Jp.CANCELLED;case sb.UNKNOWN:return Jp.UNKNOWN;case sb.DEADLINE_EXCEEDED:return Jp.DEADLINE_EXCEEDED;case sb.RESOURCE_EXHAUSTED:return Jp.RESOURCE_EXHAUSTED;case sb.INTERNAL:return Jp.INTERNAL;case sb.UNAVAILABLE:return Jp.UNAVAILABLE;case sb.UNAUTHENTICATED:return Jp.UNAUTHENTICATED;case sb.INVALID_ARGUMENT:return Jp.INVALID_ARGUMENT;case sb.NOT_FOUND:return Jp.NOT_FOUND;case sb.ALREADY_EXISTS:return Jp.ALREADY_EXISTS;case sb.PERMISSION_DENIED:return Jp.PERMISSION_DENIED;case sb.FAILED_PRECONDITION:return Jp.FAILED_PRECONDITION;case sb.ABORTED:return Jp.ABORTED;case sb.OUT_OF_RANGE:return Jp.OUT_OF_RANGE;case sb.UNIMPLEMENTED:return Jp.UNIMPLEMENTED;case sb.DATA_LOSS:return Jp.DATA_LOSS;default:return Qp()}}(ab=sb||(sb={}))[ab.OK=0]="OK",ab[ab.CANCELLED=1]="CANCELLED",ab[ab.UNKNOWN=2]="UNKNOWN",ab[ab.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ab[ab.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ab[ab.NOT_FOUND=5]="NOT_FOUND",ab[ab.ALREADY_EXISTS=6]="ALREADY_EXISTS",ab[ab.PERMISSION_DENIED=7]="PERMISSION_DENIED",ab[ab.UNAUTHENTICATED=16]="UNAUTHENTICATED",ab[ab.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ab[ab.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ab[ab.ABORTED=10]="ABORTED",ab[ab.OUT_OF_RANGE=11]="OUT_OF_RANGE",ab[ab.UNIMPLEMENTED=12]="UNIMPLEMENTED",ab[ab.INTERNAL=13]="INTERNAL",ab[ab.UNAVAILABLE=14]="UNAVAILABLE",ab[ab.DATA_LOSS=15]="DATA_LOSS";let lb=null;function ub(){return new TextEncoder}const hb=new Up([4294967295,4294967295],0);function db(e){const t=ub().encode(e),n=new Fp;return n.update(t),new Uint8Array(n.digest())}function fb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Up([n,r],0),new Up([i,s],0)]}class pb{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new mb("Invalid padding: ".concat(t));if(n<0)throw new mb("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new mb("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new mb("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Up.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Up.fromNumber(n)));return 1===r.compare(hb)&&(r=new Up([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=db(e),[n,r]=fb(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new pb(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=db(e),[n,r]=fb(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class mb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gb{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,vb.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new gb(pm.min(),r,new Sg(um),hy(),wy())}}class vb{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new vb(n,t,wy(),wy(),wy())}}class yb{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class bb{constructor(e,t){this.targetId=e,this.fe=t}}class wb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dg.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class _b{constructor(){this.ge=0,this.pe=Eb(),this.ye=Dg.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=wy(),t=wy(),n=wy();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Qp()}})),new vb(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Eb()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Yp(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Ib{constructor(e){this.Le=e,this.ke=new Map,this.qe=hy(),this.Qe=kb(),this.Ke=new Sg(um)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Qp()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Bv(i))if(0===n){const e=new bm(i.path);this.We(t,e,fv.newNoDocument(e,pm.min()))}else Yp(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==lb||lb.tt(function(e,t,n,r,i){var s,a,o,c,l,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(c=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Ug(n).toUint8Array()}catch(e){if(e instanceof Og)return Hp("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new pb(s,r,i)}catch(e){return Hp(e instanceof mb?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Bv(i.target)){const t=new bm(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,fv.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=wy();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new gb(e,t,this.Ke,this.qe,n);return this.qe=hy(),this.Qe=kb(),this.Ke=new Sg(um),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new _b,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Ng(um),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Gp("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new _b),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function kb(){return new Sg(bm.comparator)}function Eb(){return new Sg(bm.comparator)}const Tb={asc:"ASCENDING",desc:"DESCENDING"},Sb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cb={and:"AND",or:"OR"};class xb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Nb(e,t){return e.useProto3Json||Km(t)?t:{value:t}}function Ab(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Rb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Pb(e,t){return Ab(e,t.toTimestamp())}function Ob(e){return Yp(!!e),pm.fromTimestamp(function(e){const t=Mg(e);return new fm(t.seconds,t.nanos)}(e))}function Db(e,t){return Lb(e,t).canonicalString()}function Lb(e,t){const n=function(e){return new gm(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Mb(e){const t=gm.fromString(e);return Yp(iw(t)),t}function Fb(e,t){return Db(e.databaseId,t.path)}function Ub(e,t){const n=Mb(t);if(n.get(1)!==e.databaseId.projectId)throw new $p(Jp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new $p(Jp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new bm(Bb(n))}function Vb(e,t){return Db(e.databaseId,t)}function zb(e){const t=Mb(e);return 4===t.length?gm.emptyPath():Bb(t)}function jb(e){return new gm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Bb(e){return Yp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function qb(e,t,n){return{name:Fb(e,t),fields:n.value.mapValue.fields}}function Gb(e,t,n){const r=Ub(e,t.name),i=Ob(t.updateTime),s=t.createTime?Ob(t.createTime):pm.min(),a=new hv({mapValue:{fields:t.fields}}),o=fv.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Kb(e,t){let n;if(t instanceof Qy)n={update:qb(e,t.key,t.value)};else if(t instanceof Zy)n={delete:Fb(e,t.key)};else if(t instanceof Yy)n={update:qb(e,t.key,t.data),updateMask:rw(t.fieldMask)};else{if(!(t instanceof eb))return Qp();n={verify:Fb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ay)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ry)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Oy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ly)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Qp()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Pb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Qp()}(e,t.precondition)),n}function Hb(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?zy.updateTime(Ob(e.updateTime)):void 0!==e.exists?zy.exists(e.exists):zy.none()}(t.currentDocument):zy.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Yp("REQUEST_TIME"===t.setToServerValue),n=new Ay;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ry(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Oy(e)}else"increment"in t?n=new Ly(e,t.increment):Qp();const r=ym.fromServerFormat(t.fieldPath);return new Uy(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Ub(e,t.update.name),s=new hv({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Pg(t.map((e=>ym.fromServerFormat(e))))}(t.updateMask);return new Yy(i,s,e,n,r)}return new Qy(i,s,n,r)}if(t.delete){const r=Ub(e,t.delete);return new Zy(r,n)}if(t.verify){const r=Ub(e,t.verify);return new eb(r,n)}return Qp()}function Wb(e,t){return{documents:[Vb(e,t.path)]}}function Qb(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Vb(e,i);const s=function(e){if(0!==e.length)return nw(_v.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ew(e.field),direction:Jb(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Nb(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function Yb(e){let t=zb(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Yp(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Xb(e);return t instanceof _v&&Ev(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new vv(tw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Km(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new pv(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new pv(n,t)}(n.endAt)),Wv(t,i,a,s,o,"F",c,l)}function Xb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=tw(e.unaryFilter.field);return wv.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=tw(e.unaryFilter.field);return wv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=tw(e.unaryFilter.field);return wv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=tw(e.unaryFilter.field);return wv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Qp()}}(e):void 0!==e.fieldFilter?function(e){return wv.create(tw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qp()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return _v.create(e.compositeFilter.filters.map((e=>Xb(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Qp()}}(e.compositeFilter.op))}(e):Qp()}function Jb(e){return Tb[e]}function $b(e){return Sb[e]}function Zb(e){return Cb[e]}function ew(e){return{fieldPath:e.canonicalString()}}function tw(e){return ym.fromServerFormat(e.fieldPath)}function nw(e){return e instanceof wv?function(e){if("=="===e.op){if(rv(e.value))return{unaryFilter:{field:ew(e.field),op:"IS_NAN"}};if(nv(e.value))return{unaryFilter:{field:ew(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rv(e.value))return{unaryFilter:{field:ew(e.field),op:"IS_NOT_NAN"}};if(nv(e.value))return{unaryFilter:{field:ew(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ew(e.field),op:$b(e.op),value:e.value}}}(e):e instanceof _v?function(e){const t=e.getFilters().map((e=>nw(e)));return 1===t.length?t[0]:{compositeFilter:{op:Zb(e.op),filters:t}}}(e):Qp()}function rw(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function iw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class sw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pm.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:pm.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Dg.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new sw(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new sw(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sw(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sw(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aw{constructor(e){this.ct=e}}function ow(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:cw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Fb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ab(e,t.version.toTimestamp()),createTime:Ab(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:lw(t.version)};else{if(!t.isUnknownDocument())return Qp();r.unknownDocument={path:n.path.toArray(),version:lw(t.version)}}return r}function cw(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function lw(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function uw(e){const t=new fm(e.seconds,e.nanoseconds);return pm.fromTimestamp(t)}function hw(e,t){const n=(t.baseMutations||[]).map((t=>Hb(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Hb(e.ct,t))),i=fm.fromMillis(t.localWriteTimeMs);return new tb(t.batchId,i,n,r)}function dw(e){const t=uw(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?uw(e.lastLimboFreeSnapshotVersion):pm.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Yp(1===e.documents.length),$v(Qv(zb(e.documents[0])))}(e.query):function(e){return $v(Yb(e))}(e.query),new sw(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Dg.fromBase64String(e.resumeToken))}function fw(e,t){const n=lw(t.snapshotVersion),r=lw(t.lastLimboFreeSnapshotVersion);let i;i=Bv(t.target)?Wb(e.ct,t.target):Qb(e.ct,t.target).ut;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:zv(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function pw(e){const t=Yb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ty(t,t.limit,"L"):t}function mw(e,t){return new rb(t.largestBatchId,Hb(e.ct,t.overlayMutation))}function gw(e,t){const n=t.path.lastSegment();return[e,Qm(t.path.popLast()),n]}function vw(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:lw(r.readTime),documentKey:Qm(r.documentKey.path),largestBatchId:r.largestBatchId}}class yw{getBundleMetadata(e,t){return bw(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:uw(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return bw(e).put(function(e){return{bundleId:e.id,createTime:lw(Ob(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return ww(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:pw(e.bundledQuery),readTime:uw(e.readTime)}}(e)}))}saveNamedQuery(e,t){return ww(e).put(function(e){return{name:e.name,readTime:lw(Ob(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function bw(e){return Ig(e,"bundles")}function ww(e){return Ig(e,"namedQueries")}class _w{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new _w(e,n)}getOverlay(e,t){return Iw(e).get(gw(this.userId,t)).next((e=>e?mw(this.serializer,e):null))}getOverlays(e,t){const n=my();return Pm.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new rb(t,i);r.push(this.ht(e,s))})),Pm.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Qm(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Iw(e).H("collectionPathOverlayIndex",r))})),Pm.waitFor(i)}getOverlaysForCollection(e,t,n){const r=my(),i=Qm(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Iw(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=mw(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=my();let s;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Iw(e).Y({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=mw(this.serializer,t);i.size()<r||a.largestBatchId===s?(i.set(a.getKey(),a),s=a.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return Iw(e).put(function(e,t,n){const[r,i,s]=gw(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Kb(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function Iw(e){return Ig(e,"documentOverlays")}class kw{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Fg(e.integerValue));else if("doubleValue"in e){const n=Fg(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Hm(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Ug(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?av(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Qp()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),bm.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function Ew(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Tw(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Ew(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}kw.bt=new kw;class Sw{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Bt(e){const t=this.Lt(e),n=Tw(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Lt(e),n=Tw(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Cw{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class xw{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Nw{constructor(){this.Gt=new Sw,this.zt=new Cw(this.Gt),this.jt=new xw(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Aw{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Aw(this.indexId,this.documentKey,this.arrayValue,n)}}function Rw(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Pw(e.arrayValue,t.arrayValue),0!==n?n:(n=Pw(e.directionalValue,t.directionalValue),0!==n?n:bm.comparator(e.documentKey,t.documentKey)))}function Pw(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Ow{constructor(e){this.Yt=new Ng(((e,t)=>ym.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(Yp(e.collectionGroup===this.collectionId),this.en)return!1;const t=_m(e);if(void 0!==t&&!this.nn(t))return!1;const n=Im(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new Ng(ym.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new km(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new km(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new km(n.field,"asc"===n.dir?0:1)));return new wm(wm.UNKNOWN_ID,this.collectionId,t,Em.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Dw(e){var t,n;if(Yp(e instanceof wv||e instanceof _v),e instanceof wv){if(e instanceof Lv){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>wv.create(e.field,"==",t))))||[];return _v.create(r,"or")}return e}const r=e.filters.map((e=>Dw(e)));return _v.create(r,e.op)}function Lw(e){if(0===e.getFilters().length)return[];const t=Vw(Dw(e));return Yp(Uw(t)),Mw(t)||Fw(t)?[t]:t.getFilters()}function Mw(e){return e instanceof wv}function Fw(e){return e instanceof _v&&Ev(e)}function Uw(e){return Mw(e)||Fw(e)||function(e){if(e instanceof _v&&kv(e)){for(const t of e.getFilters())if(!Mw(t)&&!Fw(t))return!1;return!0}return!1}(e)}function Vw(e){if(Yp(e instanceof wv||e instanceof _v),e instanceof wv)return e;if(1===e.filters.length)return Vw(e.filters[0]);const t=e.filters.map((e=>Vw(e)));let n=_v.create(t,e.op);return n=Bw(n),Uw(n)?n:(Yp(n instanceof _v),Yp(Iv(n)),Yp(n.filters.length>1),n.filters.reduce(((e,t)=>zw(e,t))))}function zw(e,t){let n;return Yp(e instanceof wv||e instanceof _v),Yp(t instanceof wv||t instanceof _v),n=e instanceof wv?t instanceof wv?function(e,t){return _v.create([e,t],"and")}(e,t):jw(e,t):t instanceof wv?jw(t,e):function(e,t){if(Yp(e.filters.length>0&&t.filters.length>0),Iv(e)&&Iv(t))return xv(e,t.getFilters());const n=kv(e)?e:t,r=kv(e)?t:e,i=n.filters.map((e=>zw(e,r)));return _v.create(i,"or")}(e,t),Bw(n)}function jw(e,t){if(Iv(t))return xv(t,e.getFilters());{const n=t.filters.map((t=>zw(e,t)));return _v.create(n,"or")}}function Bw(e){if(Yp(e instanceof wv||e instanceof _v),e instanceof wv)return e;const t=e.getFilters();if(1===t.length)return Bw(t[0]);if(Tv(e))return e;const n=t.map((e=>Bw(e))),r=[];return n.forEach((t=>{t instanceof wv?r.push(t):t instanceof _v&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:_v.create(r,e.op)}class qw{constructor(){this._n=new Gw}addToCollectionParentIndex(e,t){return this._n.add(t),Pm.resolve()}getCollectionParents(e,t){return Pm.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Pm.resolve()}deleteFieldIndex(e,t){return Pm.resolve()}deleteAllFieldIndexes(e){return Pm.resolve()}createTargetIndexes(e,t){return Pm.resolve()}getDocumentsMatchingTarget(e,t){return Pm.resolve(null)}getIndexType(e,t){return Pm.resolve(0)}getFieldIndexes(e,t){return Pm.resolve([])}getNextCollectionGroupToUpdate(e){return Pm.resolve(null)}getMinOffset(e,t){return Pm.resolve(Cm.min())}getMinOffsetFromCollectionGroup(e,t){return Pm.resolve(Cm.min())}updateCollectionGroup(e,t,n){return Pm.resolve()}updateIndexEntries(e,t){return Pm.resolve()}}class Gw{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ng(gm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ng(gm.comparator)).toArray()}}const Kw=new Uint8Array(0);class Hw{constructor(e,t){this.databaseId=t,this.an=new Gw,this.un=new ly((e=>zv(e)),((e,t)=>jv(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:Qm(r)};return Ww(e).put(i)}return Pm.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[dm(t),""],!1,!0);return Ww(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Jm(r.parent))}return n}))}addFieldIndex(e,t){const n=Yw(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Xw(e);return i.next((e=>{n.put(vw(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Yw(e),r=Xw(e),i=Qw(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Yw(e),n=Qw(e),r=Xw(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Pm.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Ow(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Qw(e);let r=!0;const i=new Map;return Pm.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=wy();const r=[];return Pm.forEach(i,((i,s)=>{Gp("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(zv(t)));const a=function(e,t){const n=_m(t);if(void 0===n)return null;for(const r of qv(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),o=function(e,t){const n=new Map;for(const r of Im(t))for(const t of qv(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of Im(t)){const t=0===i.kind?Gv(e,i.fieldPath,e.startAt):Kv(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new pv(n,r)}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of Im(t)){const t=0===i.kind?Kv(e,i.fieldPath,e.endAt):Gv(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new pv(n,r)}(s,i),u=this.hn(i,s,c),h=this.hn(i,s,l),d=this.Pn(i,s,o),f=this.In(i.indexId,a,u,c.inclusive,h,l.inclusive,d);return Pm.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=bm.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Pm.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Lw(_v.create(e.filters,"and")).map((t=>Vv(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,a){const o=(null!=t?t.length:1)*Math.max(n.length,i.length),c=o/(null!=t?t.length:1),l=[];for(let u=0;u<o;++u){const o=t?this.Tn(t[u/c]):Kw,h=this.En(e,o,n[u%c],r),d=this.dn(e,o,i[u%c],s),f=a.map((t=>this.En(e,o,t,!0)));l.push(...this.createRange(h,d,f))}return l}En(e,t,n,r){const i=new Aw(e,bm.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new Aw(e,bm.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new Ow(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Pm.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Ng(ym.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new Nw;for(const r of Im(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);kw.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new Nw;return kw.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new Nw;return kw.bt.Pt(Zg(this.databaseId,t),n.Ht(function(e){const t=Im(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new Nw);let i=0;for(const s of Im(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&tv(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);kw.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Nw;n.seed(e.Wt()),kw.bt.Pt(s,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof wv&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Yw(e),r=Xw(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Pm.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Em(t.sequenceNumber,new Cm(uw(t.readTime),new bm(Jm(t.documentKey)),t.largestBatchId)):Em.empty(),r=e.fields.map((e=>{let[t,n]=e;return new km(ym.fromServerFormat(t),n)}));return new wm(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:um(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Yw(e),i=Xw(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Pm.forEach(t,(t=>i.put(vw(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Pm.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Pm.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Pm.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?Pm.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return Qw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return Qw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=Qw(e);let i=new Ng(Rw);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new Aw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new Ng(Rw);const r=this.An(t,e);if(null==r)return n;const i=_m(t);if(null!=i){const s=e.data.field(i.fieldPath);if(tv(s))for(const i of s.arrayValue.values||[])n=n.add(new Aw(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new Aw(t.indexId,e.key,Kw,r));return n}wn(e,t,n,r,i){Gp("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),a=t.getIterator();let o=Rg(s),c=Rg(a);for(;o||c;){let e=!1,t=!1;if(o&&c){const r=n(o,c);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(c),c=Rg(a)):t?(i(o),o=Rg(s)):(o=Rg(s),c=Rg(a))}}(r,i,Rw,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),Pm.waitFor(s)}gn(e){let t=1;return Xw(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Rw(e,t))).filter(((e,t,n)=>!t||0!==Rw(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=Rw(s,e),i=Rw(s,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(s),r.push(s.Jt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Kw,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Kw,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return Rw(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Jw)}getMinOffset(e,t){return Pm.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||Qp())))).next(Jw)}}function Ww(e){return Ig(e,"collectionParents")}function Qw(e){return Ig(e,"indexEntries")}function Yw(e){return Ig(e,"indexConfiguration")}function Xw(e){return Ig(e,"indexState")}function Jw(e){Yp(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;xm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Cm(t.readTime,t.documentKey,n)}const $w={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zw{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Zw(e,Zw.DEFAULT_COLLECTION_PERCENTILE,Zw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function e_(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const c=r.Y({range:a},((e,t,n)=>(o++,n.delete())));s.push(c.next((()=>{Yp(1===o)})));const l=[];for(const u of n.mutations){const e=eg(t,u.key.path,n.batchId);s.push(i.delete(e)),l.push(u.key)}return Pm.waitFor(s).next((()=>l))}function t_(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Qp();t=e.noDocument}return JSON.stringify(t).length}Zw.DEFAULT_COLLECTION_PERCENTILE=10,Zw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zw.DEFAULT=new Zw(41943040,Zw.DEFAULT_COLLECTION_PERCENTILE,Zw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zw.DISABLED=new Zw(-1,0,0);class n_{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){Yp(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new n_(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return i_(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=s_(e),s=i_(e);return s.add({}).next((a=>{Yp("number"==typeof a);const o=new tb(a,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>Kb(e.ct,t))),i=n.mutations.map((t=>Kb(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,o),l=[];let u=new Ng(((e,t)=>um(e.canonicalString(),t.canonicalString())));for(const e of r){const t=eg(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),l.push(s.put(c)),l.push(i.put(t,tg))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[a]=o.keys()})),Pm.waitFor(l).next((()=>o))}))}lookupMutationBatch(e,t){return i_(e).get(t).next((e=>e?(Yp(e.userId===this.userId),hw(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?Pm.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return i_(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Yp(t.batchId>=n),i=hw(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return i_(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return i_(e).W("userMutationsIndex",t).next((e=>e.map((e=>hw(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Zm(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return s_(e).Y({range:r},((n,r,s)=>{const[a,o,c]=n,l=Jm(o);if(a===this.userId&&t.path.isEqual(l))return i_(e).get(c).next((e=>{if(!e)throw Qp();Yp(e.userId===this.userId),i.push(hw(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ng(um);const r=[];return t.forEach((t=>{const i=Zm(this.userId,t.path),s=IDBKeyRange.lowerBound(i),a=s_(e).Y({range:s},((e,r,i)=>{const[s,a,o]=e,c=Jm(a);s===this.userId&&t.path.isEqual(c)?n=n.add(o):i.done()}));r.push(a)})),Pm.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Zm(this.userId,n),s=IDBKeyRange.lowerBound(i);let a=new Ng(um);return s_(e).Y({range:s},((e,t,i)=>{const[s,o,c]=e,l=Jm(o);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(a=a.add(c)):i.done()})).next((()=>this.Fn(e,a)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(i_(e).get(t).next((e=>{if(null===e)throw Qp();Yp(e.userId===this.userId),n.push(hw(this.serializer,e))})))})),Pm.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return e_(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),Pm.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Pm.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return s_(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Jm(e[1]);r.push(t)}else n.done()})).next((()=>{Yp(0===r.length)}))}))}containsKey(e,t){return r_(e,this.userId,t)}xn(e){return a_(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function r_(e,t,n){const r=Zm(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return s_(e).Y({range:s,J:!0},((e,n,r)=>{const[s,o,c]=e;s===t&&o===i&&(a=!0),r.done()})).next((()=>a))}function i_(e){return Ig(e,"mutations")}function s_(e){return Ig(e,"documentMutations")}function a_(e){return Ig(e,"mutationQueues")}class o_{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new o_(0)}static Bn(){return new o_(-1)}}class c_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new o_(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>pm.fromTimestamp(new fm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>l_(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(Yp(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return l_(e).Y(((s,a)=>{const o=dw(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))})).next((()=>Pm.waitFor(i))).next((()=>r))}forEachTarget(e,t){return l_(e).Y(((e,n)=>{const r=dw(n);t(r)}))}Ln(e){return u_(e).get("targetGlobalKey").next((e=>(Yp(null!==e),e)))}kn(e,t){return u_(e).put("targetGlobalKey",t)}qn(e,t){return l_(e).put(fw(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=zv(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return l_(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=dw(n);jv(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=h_(e);return t.forEach((t=>{const s=Qm(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),Pm.waitFor(r)}removeMatchingKeys(e,t,n){const r=h_(e);return Pm.forEach(t,(t=>{const i=Qm(t.path);return Pm.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=h_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=h_(e);let i=wy();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Jm(e[1]),s=new bm(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Qm(t.path),r=IDBKeyRange.bound([n],[dm(n)],!1,!0);let i=0;return h_(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return l_(e).get(t).next((e=>e?dw(e):null))}}function l_(e){return Ig(e,"targets")}function u_(e){return Ig(e,"targetGlobal")}function h_(e){return Ig(e,"targetDocuments")}function d_(e,t){let[n,r]=e,[i,s]=t;const a=um(n,i);return 0===a?um(r,s):a}class f_{constructor(e){this.Kn=e,this.buffer=new Ng(d_),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();d_(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class p_{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){Gp("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fm(e)?Gp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Rm(e)}await this.zn(3e5)}))}}class m_{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Pm.resolve(Gm._e);const n=new f_(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Gp("LruGarbageCollector","Garbage collection skipped; disabled"),Pm.resolve($w)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Gp("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),$w):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,s,a,o,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Gp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),qp()<=ii.DEBUG&&Gp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-o)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),Pm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function g_(e,t){return new m_(e,t)}class v_{constructor(e,t){this.db=e,this.garbageCollector=g_(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return y_(e,n)}removeReference(e,t,n){return y_(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return y_(e,t)}er(e,t){return function(e,t){let n=!1;return a_(e).Z((r=>r_(e,r,t).next((e=>(e&&(n=!0),Pm.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,a)=>{if(a<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,pm.min()),h_(e).delete(function(e){return[0,Qm(e.path)]}(s)))))}));r.push(t)}})).next((()=>Pm.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return y_(e,t)}Xn(e,t){const n=h_(e);let r,i=Gm._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,a]=e,{path:o,sequenceNumber:c}=n;0===s?(i!==Gm._e&&t(new bm(Jm(r)),i),i=c,r=o):i=Gm._e})).next((()=>{i!==Gm._e&&t(new bm(Jm(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function y_(e,t){return h_(e).put(function(e,t){return{targetId:0,path:Qm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class b_{constructor(){this.changes=new ly((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fv.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Pm.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class w_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return E_(e).put(n)}removeEntry(e,t,n){return E_(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],cw(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=fv.newInvalidDocument(t);return E_(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(T_(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:fv.newInvalidDocument(t)};return E_(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(T_(t))},((e,r)=>{n={document:this.nr(t,r),size:t_(r)}})).next((()=>n))}getEntries(e,t){let n=hy();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=hy(),r=new Sg(bm.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,t_(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return Pm.resolve();let r=new Ng(C_);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(T_(r.first()),T_(r.last())),s=r.getIterator();let a=s.getNext();return E_(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=bm.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&C_(a,i)<0;)n(a,null),a=s.getNext();a&&a.isEqual(i)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?r.U(T_(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),cw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return E_(e).W(IDBKeyRange.bound(a,o,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=hy();for(const i of e){const e=this.nr(bm.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(sy(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=hy();const s=S_(t,n),a=S_(t,Cm.max());return E_(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},((e,t,n)=>{const s=this.nr(bm.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new I_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return k_(e).get("remoteDocumentGlobalKey").next((e=>(Yp(!!e),e)))}tr(e,t){return k_(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Gb(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=bm.fromSegments(t.noDocument.path),r=uw(t.noDocument.readTime);n=fv.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Qp();{const e=bm.fromSegments(t.unknownDocument.path),r=uw(t.unknownDocument.version);n=fv.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new fm(e[0],e[1]);return pm.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(pm.min()))return e}return fv.newInvalidDocument(e)}}function __(e){return new w_(e)}class I_ extends b_{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new ly((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Ng(((e,t)=>um(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const a=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,a.readTime)),s.isValidDocument()){const o=ow(this.ar.serializer,s);r=r.add(i.path.popLast());const c=t_(o);n+=c-a.size,t.push(this.ar.addEntry(e,i,o))}else if(n-=a.size,this.trackRemovals){const n=ow(this.ar.serializer,s.convertToNoDocument(pm.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),Pm.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function k_(e){return Ig(e,"remoteDocumentGlobal")}function E_(e){return Ig(e,"remoteDocumentsV14")}function T_(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function S_(e,t){const n=t.documentKey.path.toArray();return[e,cw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function C_(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=um(n[s],r[s]),i)return i;return i=um(n.length,r.length),i||(i=um(n[n.length-2],r[r.length-2]),i||um(n[n.length-1],r[r.length-1]))}class x_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class N_{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Ky(n.mutation,e,Pg.empty(),fm.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,wy()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wy();const r=my();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=fy();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=my();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,wy())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=hy();const s=vy(),a=vy();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Yy)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Ky(a.mutation,t,a.mutation.getFieldMask(),fm.now())):s.set(t.key,Pg.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new x_(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=vy();let r=new Sg(((e,t)=>e-t)),i=wy();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Pg.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||wy()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,c=r.value,l=gy();c.forEach((e=>{if(!i.has(e)){const r=qy(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,l))}return Pm.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return bm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Xv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Pm.resolve(my());let a=-1,o=i;return s.next((t=>Pm.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Pm.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,wy()))).next((e=>({batchId:a,changes:py(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new bm(t)).next((e=>{let t=fy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=fy();return this.indexManager.getCollectionParents(e,i).next((a=>Pm.forEach(a,(a=>{const o=function(e,t){return new Hv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,fv.newInvalidDocument(r)))}));let n=fy();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Ky(s.mutation,r,Pg.empty(),fm.now()),sy(t,r)&&(n=n.insert(e,r))})),n}))}}class A_{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Pm.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ob(e.createTime)}}(t)),Pm.resolve()}getNamedQuery(e,t){return Pm.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:pw(e.bundledQuery),readTime:Ob(e.readTime)}}(t)),Pm.resolve()}}class R_{constructor(){this.overlays=new Sg(bm.comparator),this.hr=new Map}getOverlay(e,t){return Pm.resolve(this.overlays.get(t))}getOverlays(e,t){const n=my();return Pm.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Pm.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Pm.resolve()}getOverlaysForCollection(e,t,n){const r=my(),i=t.length+1,s=new bm(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Pm.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Sg(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=my(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=my(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Pm.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new rb(t,n));let i=this.hr.get(t);void 0===i&&(i=wy(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class P_{constructor(){this.Pr=new Ng(O_.Ir),this.Tr=new Ng(O_.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new O_(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new O_(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new bm(new gm([])),n=new O_(t,e),r=new O_(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new bm(new gm([])),n=new O_(t,e),r=new O_(t,e+1);let i=wy();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new O_(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class O_{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return bm.comparator(e.key,t.key)||um(e.pr,t.pr)}static Er(e,t){return um(e.pr,t.pr)||bm.comparator(e.key,t.key)}}class D_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Ng(O_.Ir)}checkEmpty(e){return Pm.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new tb(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.wr=this.wr.add(new O_(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Pm.resolve(s)}lookupMutationBatch(e,t){return Pm.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Pm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Pm.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Pm.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new O_(t,0),r=new O_(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Pm.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ng(um);return t.forEach((e=>{const t=new O_(e,0),r=new O_(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Pm.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;bm.isDocumentKey(i)||(i=i.child(""));const s=new O_(new bm(i),0);let a=new Ng(um);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.pr)),!0)}),s),Pm.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Yp(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Pm.forEach(t.mutations,(r=>{const i=new O_(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new O_(t,0),r=this.wr.firstAfterOrEqual(n);return Pm.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pm.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class L_{constructor(e){this.vr=e,this.docs=new Sg(bm.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Pm.resolve(n?n.document.mutableCopy():fv.newInvalidDocument(t))}getEntries(e,t){let n=hy();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():fv.newInvalidDocument(e))})),Pm.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=hy();const s=t.path,a=new bm(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||xm(Sm(a),n)<=0||(r.has(a.key)||sy(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Pm.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Qp()}Fr(e,t){return Pm.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new M_(this)}getSize(e){return Pm.resolve(this.size)}}class M_ extends b_{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Pm.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class F_{constructor(e){this.persistence=e,this.Mr=new ly((e=>zv(e)),jv),this.lastRemoteSnapshotVersion=pm.min(),this.highestTargetId=0,this.Or=0,this.Nr=new P_,this.targetCount=0,this.Br=o_.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Pm.resolve()}getLastRemoteSnapshotVersion(e){return Pm.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pm.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Pm.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Pm.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new o_(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Pm.resolve()}updateTargetData(e,t){return this.qn(t),Pm.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Pm.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Pm.waitFor(i).next((()=>r))}getTargetCount(e){return Pm.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Pm.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Pm.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Pm.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Pm.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Pm.resolve(n)}containsKey(e,t){return Pm.resolve(this.Nr.containsKey(t))}}class U_{constructor(e,t){this.Lr={},this.overlays={},this.kr=new Gm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new F_(this),this.indexManager=new qw,this.remoteDocumentCache=function(e){return new L_(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new aw(t),this.$r=new A_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new R_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new D_(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Gp("MemoryPersistence","Starting transaction:",e);const r=new V_(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Pm.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class V_ extends Am{constructor(e){super(),this.currentSequenceNumber=e}}class z_{constructor(e){this.persistence=e,this.zr=new P_,this.jr=null}static Hr(e){return new z_(e)}get Jr(){if(this.jr)return this.jr;throw Qp()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Pm.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Pm.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Pm.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pm.forEach(this.Jr,(n=>{const r=bm.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,pm.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Pm.or([()=>Pm.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class j_{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Om("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$m,{unique:!0}),e.createObjectStore("documentMutations")}(e),B_(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Pm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),B_(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$m,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Pm.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:fg});t.createIndex("collectionPathOverlayIndex",pg,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",mg,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:ng});t.createIndex("documentKeyIndex",rg),t.createIndex("collectionGroupIndex",ig)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:lg}).createIndex("sequenceNumberIndex",ug,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:hg}).createIndex("documentKeyIndex",dg,{unique:!1})}(e)))),s}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=t_(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Pm.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Pm.forEach(n,(n=>{Yp(n.userId===t.userId);const r=hw(this.serializer,n);return e_(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new gm(n),a=function(e){return[0,Qm(e)]}(s);r.push(t.get(a).next((n=>n?Pm.resolve():(n=>t.put({targetId:0,path:Qm(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Pm.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:cg});const n=t.store("collectionParents"),r=new Gw,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Qm(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new gm(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const a=Jm(r);return i(a.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=dw(n),i=fw(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new bm(gm.fromString(e.document.name).popFirst(5)):e.noDocument?bm.fromSegments(e.noDocument.path):e.unknownDocument?bm.fromSegments(e.unknownDocument.path):Qp()}(n).path.toArray(),a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>Pm.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=__(this.serializer),i=new U_(z_.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:wy();hw(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Pm.forEach(n,((e,n)=>{const s=new zp(n),a=_w.lt(this.serializer,s),o=i.getIndexManager(s),c=n_.lt(s,this.serializer,o,i.referenceDelegate);return new N_(r,c,a,o).recalculateAndSaveOverlaysForDocumentKeys(new _g(t,Gm._e),e).next()}))}))}}function B_(e){e.createObjectStore("targetDocuments",{keyPath:ag}).createIndex("documentTargetsIndex",og,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sg,{unique:!0}),e.createObjectStore("targetGlobal")}const q_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class G_{constructor(e,t,n,r,i,s,a,o,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=a,this._i=c,this.ai=l,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!G_.D())throw new $p(Jp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new v_(this,r),this.Ti=t+"main",this.serializer=new aw(o),this.Ei=new Dm(this.Ti,this.ui,new j_(this.serializer)),this.Qr=new c_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=__(this.serializer),this.$r=new yw,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===l&&Kp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $p(Jp.FAILED_PRECONDITION,q_);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new Gm(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>H_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(Fm(e))return Gp("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Gp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return K_(e).get("owner").next((e=>Pm.resolve(this.Si(e))))}bi(e){return H_(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Ig(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Pm.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Pm.resolve(!0):K_(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new $p(Jp.FAILED_PRECONDITION,q_);return!1}}return!(!this.networkEnabled||!this.inForeground)||H_(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Gp("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new _g(e,Gm._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Bi()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>H_(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return n_.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Hw(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return _w.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){Gp("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?wg:14===e?bg:13===e?yg:12===e?vg:11===e?gg:void Qp()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new _g(r,this.kr?this.kr.next():Gm._e),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw Kp("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new $p(Jp.FAILED_PRECONDITION,Nm);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return K_(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new $p(Jp.FAILED_PRECONDITION,q_)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return K_(e).put("owner",t)}static D(){return Dm.D()}yi(e){const t=K_(e);return t.get("owner").next((e=>this.Si(e)?(Gp("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Pm.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Kp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;Ur()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Gp("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Kp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(TN){Kp("Failed to set zombie client id.",TN)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(TN){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function K_(e){return Ig(e,"owner")}function H_(e){return Ig(e,"clientMetadata")}function W_(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Q_{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=wy(),r=wy();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Q_(e,t.fromCache,n,r)}}class Y_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class X_{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Ur()?8:Dm.v(Or())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Y_;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(qp()<=ii.DEBUG&&Gp("QueryEngine","SDK will not create cache indexes for query:",iy(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Pm.resolve()):(qp()<=ii.DEBUG&&Gp("QueryEngine","Query:",iy(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(qp()<=ii.DEBUG&&Gp("QueryEngine","The SDK decides to create cache indexes for query:",iy(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$v(t))):Pm.resolve())}ji(e,t){if(Yv(t))return Pm.resolve(null);let n=$v(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=ty(t,null,"F"),n=$v(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=wy(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,ty(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return Yv(t)||r.isEqual(pm.min())?Pm.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?Pm.resolve(null):(qp()<=ii.DEBUG&&Gp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),iy(t)),this.es(e,s,t,Tm(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Ng(oy(e));return t.forEach(((t,r)=>{sy(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return qp()<=ii.DEBUG&&Gp("QueryEngine","Using full collection scan to execute query:",iy(t)),this.zi.getDocumentsMatchingQuery(e,t,Cm.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class J_{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Sg(um),this.rs=new ly((e=>zv(e)),jv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function $_(e,t,n,r){return new J_(e,t,n,r)}async function Z_(e,t){const n=Xp(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=wy();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function eI(e){const t=Xp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function tI(e,t,n){let r=wy(),i=wy();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=hy();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(pm.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Gp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function nI(e,t){const n=Xp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function rI(e,t){const n=Xp(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Pm.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new sw(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function iI(e,t,n){const r=Xp(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Fm(e))throw e;Gp("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function sI(e,t,n){const r=Xp(e);let i=pm.min(),s=wy();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Xp(e),i=r.rs.get(n);return void 0!==i?Pm.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,$v(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:pm.min(),n?s:wy()))).next((e=>(cI(r,ay(t),e),{documents:e,hs:s})))))}function aI(e,t){const n=Xp(e),r=Xp(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function oI(e,t){const n=Xp(e),r=n.ss.get(t)||pm.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,Tm(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(cI(n,t,e),e)))}function cI(e,t,n){let r=e.ss.get(t)||pm.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function lI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wy();const r=await rI(e,$v(pw(t.bundledQuery))),i=Xp(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Ob(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const a=r.withResumeToken(Dg.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(e,a).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function uI(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function hI(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function dI(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class fI{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new $p(r.error.code,r.error.message))),s?new fI(e,t,r.state,i):(Kp("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pI{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new $p(n.error.code,n.error.message))),i?new pI(e,n.state,r):(Kp("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Iy();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Wm(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new mI(e,i):(Kp("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class gI{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gI(t.clientId,t.onlineState):(Kp("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class vI{constructor(){this.activeTargetIds=Iy()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yI{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Sg(um),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=uI(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new vI),this.bs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(uI(this.persistenceKey,n));if(e){const t=mI.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,t,n){this.Bs(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(dI(this.persistenceKey,e));if(n){const r=pI.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dI(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Gp("SharedClientState","READ",e,t),t}setItem(e,t){Gp("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Gp("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(Gp("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void Kp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=Gm._e;if(null!=e)try{const n=JSON.parse(e);Yp("number"==typeof n),t=n}catch(e){Kp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Gm._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,t,n){const r=new fI(this.currentUser,e,t,n),i=hI(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Ls(e){const t=hI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=dI(this.persistenceKey,e),i=new pI(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return mI.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return fI.Es(new zp(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return pI.Es(r,t)}xs(e){return gI.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);Gp("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],a=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.eo(s,a).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=Iy();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class bI{constructor(){this.no=new vI,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new vI,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wI{io(e){}shutdown(){}}class _I{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Gp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Gp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let II=null;function kI(){return null===II?II=268435456+Math.round(2147483648*Math.random()):II++,"0x"+II.toString(16)}const EI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TI{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const SI="WebChannelConnection";class CI extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=kI(),a=this.bo(e,t.toUriEncodedString());Gp("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(o,r,i),this.Co(e,a,o,n).then((t=>(Gp("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Hp("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+jp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=EI[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=kI();return new Promise(((s,a)=>{const o=new Mp;o.setWithCredentials(!0),o.listenOnce(Pp.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Rp.NO_ERROR:const t=o.getResponseJson();Gp(SI,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Rp.TIMEOUT:Gp(SI,"RPC '".concat(e,"' ").concat(i," timed out")),a(new $p(Jp.DEADLINE_EXCEEDED,"Request time out"));break;case Rp.HTTP_ERROR:const n=o.getStatus();if(Gp(SI,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Jp).indexOf(t)>=0?t:Jp.UNKNOWN}(t.status);a(new $p(e,t.message))}else a(new $p(Jp.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new $p(Jp.UNAVAILABLE,"Connection failed."));break;default:Qp()}}finally{Gp(SI,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);Gp(SI,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",c,n,15)}))}Fo(e,t,n){const r=kI(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Np(),a=Ap(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(o.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const l=i.join("");Gp(SI,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),o);const u=s.createWebChannel(l,o);let h=!1,d=!1;const f=new TI({lo:t=>{d?Gp(SI,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Gp(SI,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Gp(SI,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Lp.EventType.OPEN,(()=>{d||Gp(SI,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Lp.EventType.CLOSE,(()=>{d||(d=!0,Gp(SI,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,Lp.EventType.ERROR,(t=>{d||(d=!0,Hp(SI,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new $p(Jp.UNAVAILABLE,"The operation could not be completed")))})),p(u,Lp.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Yp(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Gp(SI,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=sb[e];if(void 0!==t)return cb(t)}(t),i=a.message;void 0===n&&(n=Jp.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.Vo(new $p(n,i)),u.close()}else Gp(SI,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(a,Op.STAT_EVENT,(t=>{t.stat===Dp.PROXY?Gp(SI,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Dp.NOPROXY&&Gp(SI,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function xI(){return"undefined"!=typeof window?window:null}function NI(){return"undefined"!=typeof document?document:null}function AI(e){return new xb(e,!0)}class RI{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&Gp("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class PI{constructor(e,t,n,r,i,s,a,o){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new RI(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Jp.RESOURCE_EXHAUSTED?(Kp(t.toString()),Kp("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Jp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new $p(Jp.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Gp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Gp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OI extends PI{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Qp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Yp(void 0===t||"string"==typeof t),Dg.fromBase64String(t||"")):(Yp(void 0===t||t instanceof Uint8Array),Dg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Jp.UNKNOWN:cb(e.code);return new $p(t,e.message||"")}(a);n=new wb(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ub(e,r.document.name),s=Ob(r.document.updateTime),a=r.document.createTime?Ob(r.document.createTime):pm.min(),o=new hv({mapValue:{fields:r.document.fields}}),c=fv.newFoundDocument(i,s,a,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new yb(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ub(e,r.document),s=r.readTime?Ob(r.readTime):pm.min(),a=fv.newNoDocument(i,s),o=r.removedTargetIds||[];n=new yb([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ub(e,r.document),s=r.removedTargetIds||[];n=new yb([],s,i,null)}else{if(!("filter"in t))return Qp();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new ib(r,i),a=e.targetId;n=new bb(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return pm.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?pm.min():t.readTime?Ob(t.readTime):pm.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=jb(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Bv(r)?{documents:Wb(e,r)}:{query:Qb(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Rb(e,t.resumeToken);const r=Nb(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(pm.min())>0){n.readTime=Ab(e,t.snapshotVersion.toTimestamp());const r=Nb(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qp()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=jb(this.serializer),t.removeTarget=e,this.t_(t)}}class DI extends PI{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Yp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(Yp(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ob(e.updateTime):Ob(t);return n.isEqual(pm.min())&&(n=Ob(t)),new Vy(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ob(e.commitTime);return this.listener.T_(n,t)}return Yp(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=jb(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Kb(this.serializer,e)))};this.t_(t)}}class LI extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new $p(Jp.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.So(e,Lb(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Jp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new $p(Jp.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.vo(e,Lb(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Jp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new $p(Jp.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class MI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Kp(t),this.g_=!1):Gp("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class FI{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{HI(this)&&(Gp("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Xp(e);t.v_.add(4),await VI(t),t.x_.set("Unknown"),t.v_.delete(4),await UI(t)}(this))}))})),this.x_=new MI(n,r)}}async function UI(e){if(HI(e))for(const t of e.F_)await t(!0)}async function VI(e){for(const t of e.F_)await t(!1)}function zI(e,t){const n=Xp(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),KI(n)?GI(n):uk(n).Jo()&&BI(n,t))}function jI(e,t){const n=Xp(e),r=uk(n);n.C_.delete(t),r.Jo()&&qI(n,t),0===n.C_.size&&(r.Jo()?r.Xo():HI(n)&&n.x_.set("Unknown"))}function BI(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pm.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}uk(e).c_(t)}function qI(e,t){e.O_.Oe(t),uk(e).l_(t)}function GI(e){e.O_=new Ib({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),uk(e).start(),e.x_.p_()}function KI(e){return HI(e)&&!uk(e).Ho()&&e.C_.size>0}function HI(e){return 0===Xp(e).v_.size}function WI(e){e.O_=void 0}async function QI(e){e.C_.forEach(((t,n)=>{BI(e,t)}))}async function YI(e,t){WI(e),KI(e)?(e.x_.S_(t),GI(e)):e.x_.set("Unknown")}async function XI(e,t,n){if(e.x_.set("Online"),t instanceof wb&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Gp("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await JI(e,n)}else if(t instanceof yb?e.O_.$e(t):t instanceof bb?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(pm.min()))try{const t=await eI(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Dg.EMPTY_BYTE_STRING,r.snapshotVersion)),qI(e,t);const i=new sw(r.target,t,n,r.sequenceNumber);BI(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Gp("RemoteStore","Failed to raise snapshot:",t),await JI(e,t)}}async function JI(e,t,n){if(!Fm(t))throw t;e.v_.add(1),await VI(e),e.x_.set("Offline"),n||(n=()=>eI(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Gp("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await UI(e)}))}function $I(e,t){return t().catch((n=>JI(e,n,t)))}async function ZI(e){const t=Xp(e),n=hk(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;ek(t);)try{const e=await nI(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,tk(t,e)}catch(e){await JI(t,e)}nk(t)&&rk(t)}function ek(e){return HI(e)&&e.D_.length<10}function tk(e,t){e.D_.push(t);const n=hk(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function nk(e){return HI(e)&&!hk(e).Ho()&&e.D_.length>0}function rk(e){hk(e).start()}async function ik(e){hk(e).d_()}async function sk(e){const t=hk(e);for(const n of e.D_)t.I_(n.mutations)}async function ak(e,t,n){const r=e.D_.shift(),i=nb.from(r,t,n);await $I(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ZI(e)}async function ok(e,t){t&&hk(e).P_&&await async function(e,t){if(function(e){return ob(e)&&e!==Jp.ABORTED}(t.code)){const n=e.D_.shift();hk(e).Zo(),await $I(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ZI(e)}}(e,t),nk(e)&&rk(e)}async function ck(e,t){const n=Xp(e);n.asyncQueue.verifyOperationInProgress(),Gp("RemoteStore","RemoteStore received new credentials");const r=HI(n);n.v_.add(3),await VI(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await UI(n)}async function lk(e,t){const n=Xp(e);t?(n.v_.delete(2),await UI(n)):t||(n.v_.add(2),await VI(n),n.x_.set("Unknown"))}function uk(e){return e.N_||(e.N_=function(e,t,n){const r=Xp(e);return r.R_(),new OI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:QI.bind(null,e),To:YI.bind(null,e),u_:XI.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),KI(e)?GI(e):e.x_.set("Unknown")):(await e.N_.stop(),WI(e))}))),e.N_}function hk(e){return e.B_||(e.B_=function(e,t,n){const r=Xp(e);return r.R_(),new DI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:ik.bind(null,e),To:ok.bind(null,e),E_:sk.bind(null,e),T_:ak.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await ZI(e)):(await e.B_.stop(),e.D_.length>0&&(Gp("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class dk{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Zp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new dk(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $p(Jp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fk(e,t){if(Kp("AsyncQueue","".concat(t,": ").concat(e)),Fm(e))return new $p(Jp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class pk{constructor(e){this.comparator=e?(t,n)=>e(t,n)||bm.comparator(t.key,n.key):(e,t)=>bm.comparator(e.key,t.key),this.keyedMap=fy(),this.sortedSet=new Sg(this.comparator)}static emptySet(e){return new pk(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pk))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new pk;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class mk{constructor(){this.L_=new Sg(bm.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):Qp():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class gk{constructor(e,t,n,r,i,s,a,o,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new gk(e,t,pk.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ny(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class vk{constructor(){this.q_=void 0,this.Q_=[]}}class yk{constructor(){this.queries=new ly((e=>ry(e)),ny),this.onlineState="Unknown",this.K_=new Set}}async function bk(e,t){const n=Xp(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new vk),i)try{s.q_=await n.onListen(r)}catch(e){const n=fk(e,"Initialization of query '".concat(iy(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&kk(n)}async function wk(e,t){const n=Xp(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),i=0===s.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function _k(e,t){const n=Xp(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&kk(n)}function Ik(e,t,n){const r=Xp(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function kk(e){e.K_.forEach((e=>{e.next()}))}class Ek{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new gk(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=gk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class Tk{constructor(e,t){this.X_=e,this.byteLength=t}ea(){return"metadata"in this.X_}}class Sk{constructor(e){this.serializer=e}Ps(e){return Ub(this.serializer,e)}Is(e){return e.metadata.exists?Gb(this.serializer,e.document,!1):fv.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Ob(e)}}class Ck{constructor(e,t,n){this.ta=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=xk(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;const n=gm.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ra(e){const t=new Map,n=new Sk(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||wy()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Xp(e);let s=wy(),a=hy();for(const l of n){const e=t.Ps(l.metadata.name);l.document&&(s=s.add(e));const n=t.Is(l);n.setReadTime(t.Ts(l.metadata.readTime)),a=a.insert(e,n)}const o=i.os.newChangeBuffer({trackRemovals:!0}),c=await rI(i,function(e){return $v(Qv(gm.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>tI(e,o,a).next((t=>(o.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Qr.addMatchingKeys(e,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new Sk(this.serializer),this.documents,this.ta.id),t=this.ra(this.documents);for(const n of this.queries)await lI(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function xk(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Nk{constructor(e){this.key=e}}class Ak{constructor(e){this.key=e}}class Rk{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=wy(),this.mutatedKeys=wy(),this.ua=oy(e),this.ca=new pk(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new mk,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=sy(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ia(l,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ua(u,o)>0||c&&this.ua(u,c)<0)&&(a=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(o||c)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:s,Pa:n,Xi:a,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qp()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const a=t&&!r?this.Ea():[],o=0===this.aa.size&&this.current&&!r?1:0,c=o!==this._a;return this._a=o,0!==s.length||c?{snapshot:new gk(this.query,e.ca,i,s,e.mutatedKeys,0===o,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new mk,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=wy(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new Ak(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new Nk(n))})),t}Ra(e){this.oa=e.hs,this.aa=wy();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return gk.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class Pk{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Ok{constructor(e){this.key=e,this.ma=!1}}class Dk{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new ly((e=>ry(e)),ny),this.pa=new Map,this.ya=new Set,this.wa=new Sg(bm.comparator),this.Sa=new Map,this.ba=new P_,this.Da={},this.Ca=new Map,this.va=o_.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function Lk(e,t){const n=oE(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const e=await rI(n.localStore,$v(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Mk(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&zI(n.remoteStore,e)}return i}async function Mk(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await sI(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Wk(e,t.targetId,o.da),o.snapshot}(e,t,n,r);const s=await sI(e.localStore,t,!0),a=new Rk(t,s.hs),o=a.ha(s.documents),c=vb.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=a.applyChanges(o,e.isPrimaryClient,c);Wk(e,n,l.da);const u=new Pk(t,n,a);return e.ga.set(t,u),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),l.snapshot}async function Fk(e,t){const n=Xp(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!ny(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await iI(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),jI(n.remoteStore,r.targetId),Kk(n,r.targetId)})).catch(Rm)):(Kk(n,r.targetId),await iI(n.localStore,r.targetId,!0))}async function Uk(e,t){const n=Xp(e);try{const e=await function(e,t){const n=Xp(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach(((s,o)=>{const c=i.get(o);if(!c)return;a.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,o))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?l=l.withResumeToken(Dg.EMPTY_BYTE_STRING,pm.min()).withLastLimboFreeSnapshotVersion(pm.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(o,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,s)&&a.push(n.Qr.updateTargetData(e,l))}));let o=hy(),c=wy();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(tI(e,s,t.documentUpdates).next((e=>{o=e.cs,c=e.ls}))),!r.isEqual(pm.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Pm.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,c))).next((()=>o))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(Yp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?Yp(r.ma):e.removedDocuments.size>0&&(Yp(r.ma),r.ma=!1))})),await Xk(n,e,t)}catch(e){await Rm(e)}}function Vk(e,t,n){const r=Xp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Xp(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&kk(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function zk(e,t,n){const r=Xp(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let e=new Sg(bm.comparator);e=e.insert(s,fv.newNoDocument(s,pm.min()));const n=wy().add(s),i=new gb(pm.min(),new Map,new Sg(um),e,n);await Uk(r,i),r.wa=r.wa.remove(s),r.Sa.delete(t),Yk(r)}else await iI(r.localStore,t,!1).then((()=>Kk(r,t,n))).catch(Rm)}async function jk(e,t){const n=Xp(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Xp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Pm.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Yp(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=wy();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Gk(n,r,null),qk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xk(n,e)}catch(e){await Rm(e)}}async function Bk(e,t,n){const r=Xp(e);try{const e=await function(e,t){const n=Xp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Yp(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Gk(r,t,n),qk(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Xk(r,e)}catch(n){await Rm(n)}}function qk(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function Gk(e,t,n){const r=Xp(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Kk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||Hk(e,t)}))}function Hk(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(jI(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),Yk(e))}function Wk(e,t,n){for(const r of n)r instanceof Nk?(e.ba.addReference(r.key,t),Qk(e,r)):r instanceof Ak?(Gp("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||Hk(e,r.key)):Qp()}function Qk(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Gp("SyncEngine","New document in limbo: "+n),e.ya.add(r),Yk(e))}function Yk(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new bm(gm.fromString(t)),r=e.va.next();e.Sa.set(r,new Ok(n)),e.wa=e.wa.insert(n,r),zI(e.remoteStore,new sw($v(Qv(n.path)),r,"TargetPurposeLimboResolution",Gm._e))}}async function Xk(e,t,n){const r=Xp(e),i=[],s=[],a=[];r.ga.isEmpty()||(r.ga.forEach(((e,o)=>{a.push(r.Ma(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Q_.Ki(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.fa.u_(i),await async function(e,t){const n=Xp(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Pm.forEach(t,(t=>Pm.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Pm.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Fm(e))throw e;Gp("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function Jk(e,t){const n=Xp(e);if(!n.currentUser.isEqual(t)){Gp("SyncEngine","User change. New user:",t.toKey());const e=await Z_(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new $p(Jp.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Xk(n,e.us)}}function $k(e,t){const n=Xp(e),r=n.Sa.get(t);if(r&&r.ma)return wy().add(r.key);{let e=wy();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}async function Zk(e,t){const n=Xp(e),r=await sI(n.localStore,t.query,!0),i=t.view.Ra(r);return n.isPrimaryClient&&Wk(n,t.targetId,i.da),i}async function eE(e,t){const n=Xp(e);return oI(n.localStore,t).then((e=>Xk(n,e)))}async function tE(e,t,n,r){const i=Xp(e),s=await function(e,t){const n=Xp(e),r=Xp(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Pm.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await ZI(i.remoteStore):"acknowledged"===n||"rejected"===n?(Gk(i,t,r||null),qk(i,t),function(e,t){Xp(Xp(e).mutationQueue).Mn(t)}(i.localStore,t)):Qp(),await Xk(i,s)):Gp("SyncEngine","Cannot apply mutation batch with id: "+t)}async function nE(e,t,n){const r=Xp(e),i=[],s=[];for(const a of t){let e;const t=r.pa.get(a);if(t&&0!==t.length){e=await rI(r.localStore,$v(t[0]));for(const e of t){const t=r.ga.get(e),n=await Zk(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await aI(r.localStore,a);e=await rI(r.localStore,t),await Mk(r,rE(t),a,!1,e.resumeToken)}i.push(e)}return r.fa.u_(s),i}function rE(e){return Wv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function iE(e){return function(e){return Xp(Xp(e).persistence).Li()}(Xp(e).localStore)}async function sE(e,t,n,r){const i=Xp(e);if(i.Fa)return void Gp("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await oI(i.localStore,ay(s[0])),r=gb.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Dg.EMPTY_BYTE_STRING);await Xk(i,e,r);break}case"rejected":await iI(i.localStore,t,!0),Kk(i,t,r);break;default:Qp()}}async function aE(e,t,n){const r=oE(e);if(r.Fa){for(const e of t){if(r.pa.has(e)){Gp("SyncEngine","Adding an already active target "+e);continue}const t=await aI(r.localStore,e),n=await rI(r.localStore,t);await Mk(r,rE(t),n.targetId,!1,n.resumeToken),zI(r.remoteStore,n)}for(const e of n)r.pa.has(e)&&await iI(r.localStore,e,!1).then((()=>{jI(r.remoteStore,e),Kk(r,e)})).catch(Rm)}}function oE(e){const t=Xp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Uk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$k.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zk.bind(null,t),t.fa.u_=_k.bind(null,t.eventManager),t.fa.xa=Ik.bind(null,t.eventManager),t}function cE(e){const t=Xp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Bk.bind(null,t),t}class lE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=AI(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return $_(this.persistence,new X_,e.initialUser,this.serializer)}createPersistence(e){return new U_(z_.Hr,this.serializer)}createSharedClientState(e){return new bI}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class uE extends lE{constructor(e,t,n){super(),this.Na=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await cE(this.Na.syncEngine),await ZI(this.Na.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return $_(this.persistence,new X_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new p_(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new qm(t,this.persistence);return new Bm(e.asyncQueue,n)}createPersistence(e){const t=W_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Zw.withCacheSize(this.cacheSizeBytes):Zw.DEFAULT;return new G_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,xI(),NI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new bI}}class hE extends uE{constructor(e,t){super(e,t,!1),this.Na=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Na.syncEngine;this.sharedClientState instanceof yI&&(this.sharedClientState.syncEngine={Zs:tE.bind(null,t),Xs:sE.bind(null,t),eo:aE.bind(null,t),Li:iE.bind(null,t),Ys:eE.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=Xp(e);if(oE(n),cE(n),!0===t&&!0!==n.Fa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await nE(n,e.toArray());n.Fa=!0,await lk(n.remoteStore,!0);for(const r of t)zI(n.remoteStore,r)}else if(!1===t&&!1!==n.Fa){const e=[];let t=Promise.resolve();n.pa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Kk(n,i),iI(n.localStore,i,!0)))),jI(n.remoteStore,i)})),await t,await nE(n,e),function(e){const t=Xp(e);t.Sa.forEach(((e,n)=>{jI(t.remoteStore,n)})),t.ba.mr(),t.Sa=new Map,t.wa=new Sg(bm.comparator)}(n),n.Fa=!1,await lk(n.remoteStore,!1)}}(this.Na.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=xI();if(!yI.D(t))throw new $p(Jp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=W_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yI(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class dE{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Vk(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jk.bind(null,this.syncEngine),await lk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new yk}createDatastore(e){const t=AI(e.databaseInfo.databaseId),n=function(e){return new CI(e)}(e.databaseInfo);return function(e,t,n,r){return new LI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new FI(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Vk(this.syncEngine,e,0)),_I.D()?new _I:new wI)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Dk(e,t,n,r,i,s);return a&&(o.Fa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Xp(e);Gp("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await VI(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function fE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class pE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Kp("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class mE{constructor(e,t){this.ka=e,this.serializer=t,this.metadata=new Zp,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then((e=>{e&&e.ea()?this.metadata.resolve(e.X_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))}),(e=>this.metadata.reject(e)))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(null===e)return null;const t=this.qa.decode(e),n=Number(t);isNaN(n)&&this.$a("length string (".concat(t,") is not valid number"));const r=await this.Ua(n);return new Tk(JSON.parse(r),e.length+n)}Wa(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(0===this.buffer.length)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const t=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}$a(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ga(){const e=await this.ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class gE{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new $p(Jp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Xp(e),r={documents:t.map((e=>Fb(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,gm.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Yp(!!t.found),t.found.name,t.found.updateTime;const n=Ub(e,t.found.name),r=Ob(t.found.updateTime),i=t.found.createTime?Ob(t.found.createTime):pm.min(),s=new hv({mapValue:{fields:t.found.fields}});return fv.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Yp(!!t.missing),Yp(!!t.readTime);const n=Ub(e,t.missing),r=Ob(t.readTime);return fv.newNoDocument(n,r)}(e,t):Qp()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());Yp(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Zy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=bm.fromPath(t);this.mutations.push(new eb(n,this.precondition(n)))})),await async function(e,t){const n=Xp(e),r={writes:t.map((e=>Kb(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,gm.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Qp();t=pm.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new $p(Jp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(pm.min())?zy.exists(!1):zy.updateTime(t):zy.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(pm.min()))throw new $p(Jp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zy.updateTime(t)}return zy.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vE{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.za=n.maxAttempts,this.jo=new RI(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){this.jo.qo((async()=>{const e=new gE(this.datastore),t=this.Ja(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Ya(e)}))))})).catch((e=>{this.Ya(e)}))}))}Ja(e){try{const t=this.updateFunction(e);return!Km(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ha(),Promise.resolve())))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ob(t)}return!1}}class yE{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=zp.UNAUTHENTICATED,this.clientId=lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Gp("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Gp("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $p(Jp.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=fk(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function bE(e,t){e.asyncQueue.verifyOperationInProgress(),Gp("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Z_(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function wE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await IE(e);Gp("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ck(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ck(t.remoteStore,n))),e._onlineComponents=t}function _E(e){return"FirebaseError"===e.name?e.code===Jp.FAILED_PRECONDITION||e.code===Jp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function IE(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Gp("FirestoreClient","Using user provided OfflineComponentProvider");try{await bE(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!_E(n))throw n;Hp("Error using user provided cache. Falling back to memory cache: "+n),await bE(e,new lE)}}else Gp("FirestoreClient","Using default OfflineComponentProvider"),await bE(e,new lE);return e._offlineComponents}async function kE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Gp("FirestoreClient","Using user provided OnlineComponentProvider"),await wE(e,e._uninitializedComponentsProvider._online)):(Gp("FirestoreClient","Using default OnlineComponentProvider"),await wE(e,new dE))),e._onlineComponents}function EE(e){return IE(e).then((e=>e.persistence))}function TE(e){return IE(e).then((e=>e.localStore))}function SE(e){return kE(e).then((e=>e.remoteStore))}function CE(e){return kE(e).then((e=>e.syncEngine))}function xE(e){return kE(e).then((e=>e.datastore))}async function NE(e){const t=await kE(e),n=t.eventManager;return n.onListen=Lk.bind(null,t.syncEngine),n.onUnlisten=Fk.bind(null,t.syncEngine),n}function AE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Zp;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new pE({next:s=>{t.enqueueAndForget((()=>wk(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new $p(Jp.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new $p(Jp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new Ek(Qv(n.path),s,{includeMetadataChanges:!0,Z_:!0});return bk(e,a)}(await NE(e),e.asyncQueue,t,n,r))),r.promise}function RE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Zp;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new pE({next:n=>{t.enqueueAndForget((()=>wk(e,a))),n.fromCache&&"server"===r.source?i.reject(new $p(Jp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Ek(n,s,{includeMetadataChanges:!0,Z_:!0});return bk(e,a)}(await NE(e),e.asyncQueue,t,n,r))),r.promise}function PE(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?ub().encode(e):e,function(e,t){return new mE(e,t)}(function(e,t){if(e instanceof Uint8Array)return fE(e,t);if(e instanceof ArrayBuffer)return fE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,AI(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Xp(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Xp(e),r=Ob(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(xk(r));const i=new Ck(r,e.localStore,t.serializer);let s=await t.Oa();for(;s;){const e=await i.na(s);e&&n._updateProgress(e),s=await t.Oa()}const a=await i.complete();return await Xk(e,a.sa,void 0),await function(e,t){const n=Xp(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.ia)}catch(e){return Hp("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await CE(e),i,r)}))}function OE(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const DE=new Map;function LE(e,t,n){if(!n)throw new $p(Jp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ME(e,t,n,r){if(!0===t&&!0===r)throw new $p(Jp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function FE(e){if(!bm.isDocumentKey(e))throw new $p(Jp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function UE(e){if(bm.isDocumentKey(e))throw new $p(Jp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function VE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Qp()}function zE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $p(Jp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=VE(e);throw new $p(Jp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function jE(e,t){if(t<=0)throw new $p(Jp.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class BE{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new $p(Jp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $p(Jp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ME("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OE(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new $p(Jp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new $p(Jp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new $p(Jp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qE{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $p(Jp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $p(Jp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new tm;switch(e.type){case"firstParty":return new sm(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new $p(Jp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=DE.get(e);t&&(Gp("ComponentProvider","Removing Datastore"),DE.delete(e),t.terminate())}(this),Promise.resolve()}}function GE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=zE(e,qE))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&Hp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=zp.MOCK_USER;else{t=Pr(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new $p(Jp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new zp(s)}e._authCredentials=new nm(new em(t,n))}}class KE{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new KE(this.firestore,e,this._query)}}class HE{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new WE(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new HE(this.firestore,e,this._key)}}class WE extends KE{constructor(e,t,n){super(e,t,Qv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new HE(this.firestore,null,new bm(e))}withConverter(e){return new WE(this.firestore,e,this._path)}}function QE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=$r(e),LE("collection","path",t),e instanceof qE){const n=gm.fromString(t,...r);return UE(n),new WE(e,null,n)}{if(!(e instanceof HE||e instanceof WE))throw new $p(Jp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(gm.fromString(t,...r));return UE(n),new WE(e.firestore,null,n)}}function YE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=$r(e),1===arguments.length&&(t=lm.newId()),LE("doc","path",t),e instanceof qE){const n=gm.fromString(t,...r);return FE(n),new HE(e,null,new bm(n))}{if(!(e instanceof HE||e instanceof WE))throw new $p(Jp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(gm.fromString(t,...r));return FE(n),new HE(e.firestore,e instanceof WE?e.converter:null,new bm(n))}}function XE(e,t){return e=$r(e),t=$r(t),(e instanceof HE||e instanceof WE)&&(t instanceof HE||t instanceof WE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function JE(e,t){return e=$r(e),t=$r(t),e instanceof KE&&t instanceof KE&&e.firestore===t.firestore&&ny(e._query,t._query)&&e.converter===t.converter}class $E{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new RI(this,"async_queue_retry"),this._u=()=>{const e=NI();e&&Gp("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=NI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=NI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new Zp;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(TN){if(!Fm(TN))throw TN;Gp("AsyncQueue","Operation failed with retryable error: "+TN)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Kp("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=dk.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&Qp()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function ZE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class eT{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class tT extends qE{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new $E,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rT(this),this._firestoreClient.terminate()}}function nT(e){return e._firestoreClient||rT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rT(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Bg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,OE(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new yE(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function iT(e,t,n){const r=new Zp;return e.asyncQueue.enqueue((async()=>{try{await bE(e,n),await wE(e,t),r.resolve()}catch(e){const n=e;if(!_E(n))throw n;Hp("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function sT(e){return function(e){const t=new Zp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Xp(e);HI(n.remoteStore)||Gp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Xp(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ca.get(e)||[];r.push(t),n.Ca.set(e,r)}catch(e){const n=fk(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await CE(e),t))),t.promise}(nT(e=zE(e,tT)))}function aT(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await EE(e),n=await SE(e);return t.setNetworkEnabled(!0),function(e){const t=Xp(e);return t.v_.delete(0),UI(t)}(n)}))}(nT(e=zE(e,tT)))}function oT(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await EE(e),n=await SE(e);return t.setNetworkEnabled(!1),async function(e){const t=Xp(e);t.v_.add(0),await VI(t),t.x_.set("Offline")}(n)}))}(nT(e=zE(e,tT)))}function cT(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Xp(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await TE(e),t)))}(nT(e=zE(e,tT)),t).then((t=>t?new KE(e,null,t.query):null))}function lT(e){if(e._initialized||e._terminated)throw new $p(Jp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uT{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uT(Dg.fromBase64String(e))}catch(e){throw new $p(Jp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new uT(Dg.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hT{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new $p(Jp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ym(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dT{constructor(e){this._methodName=e}}class fT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $p(Jp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $p(Jp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return um(this._lat,e._lat)||um(this._long,e._long)}}const pT=/^__.*__$/;class mT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Yy(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qy(e,this.data,t,this.fieldTransforms)}}class gT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Yy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qp()}}class yT{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new yT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return UT(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(vT(this.du)&&pT.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class bT{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||AI(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new yT({du:e,methodName:t,wu:n,path:ym.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wT(e){const t=e._freezeSettings(),n=AI(e._databaseId);return new bT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _T(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Su(s.merge||s.mergeFields?2:0,t,n,i);DT("Data must be an object, but it was:",a,r);const o=PT(r,a);let c,l;if(s.merge)c=new Pg(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=LT(t,r,n);if(!a.contains(i))throw new $p(Jp.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));VT(e,i)||e.push(i)}c=new Pg(e),l=a.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=a.fieldTransforms;return new mT(new hv(o),c,l)}class IT extends dT{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof IT}}function kT(e,t,n){return new yT({du:3,wu:t.settings.wu,methodName:e._methodName,Vu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ET extends dT{_toFieldTransform(e){return new Uy(e.path,new Ay)}isEqual(e){return e instanceof ET}}class TT extends dT{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=kT(this,e,!0),n=this.bu.map((e=>RT(e,t))),r=new Ry(n);return new Uy(e.path,r)}isEqual(e){return e instanceof TT&&Gr(this.bu,e.bu)}}class ST extends dT{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=kT(this,e,!0),n=this.bu.map((e=>RT(e,t))),r=new Oy(n);return new Uy(e.path,r)}isEqual(e){return e instanceof ST&&Gr(this.bu,e.bu)}}class CT extends dT{constructor(e,t){super(e),this.Du=t}_toFieldTransform(e){const t=new Ly(e.serializer,Ty(e.serializer,this.Du));return new Uy(e.path,t)}isEqual(e){return e instanceof CT&&this.Du===e.Du}}function xT(e,t,n,r){const i=e.Su(1,t,n);DT("Data must be an object, but it was:",i,r);const s=[],a=hv.empty();Eg(r,((e,r)=>{const o=FT(t,e,n);r=$r(r);const c=i.fu(o);if(r instanceof IT)s.push(o);else{const e=RT(r,c);null!=e&&(s.push(o),a.set(o,e))}}));const o=new Pg(s);return new gT(a,o,i.fieldTransforms)}function NT(e,t,n,r,i,s){const a=e.Su(1,t,n),o=[LT(t,r,n)],c=[i];if(s.length%2!=0)throw new $p(Jp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(LT(t,s[d])),c.push(s[d+1]);const l=[],u=hv.empty();for(let d=o.length-1;d>=0;--d)if(!VT(l,o[d])){const e=o[d];let t=c[d];t=$r(t);const n=a.fu(e);if(t instanceof IT)l.push(e);else{const r=RT(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new Pg(l);return new gT(u,h,a.fieldTransforms)}function AT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return RT(n,e.Su(r?4:3,t))}function RT(e,t){if(OT(e=$r(e)))return DT("Unsupported field value:",t,e),PT(e,t);if(e instanceof dT)return function(e,t){if(!vT(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=RT(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=$r(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ty(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=fm.fromDate(e);return{timestampValue:Ab(t.serializer,n)}}if(e instanceof fm){const n=new fm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ab(t.serializer,n)}}if(e instanceof fT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uT)return{bytesValue:Rb(t.serializer,e._byteString)};if(e instanceof HE){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Db(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(VE(e)))}(e,t)}function PT(e,t){const n={};return Tg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Eg(e,((e,r)=>{const i=RT(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function OT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof fm||e instanceof fT||e instanceof uT||e instanceof HE||e instanceof dT)}function DT(e,t,n){if(!OT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=VE(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function LT(e,t,n){if((t=$r(t))instanceof hT)return t._internalPath;if("string"==typeof t)return FT(e,t);throw UT("Field path arguments must be of type string or ",e,!1,void 0,n)}const MT=new RegExp("[~\\*/\\[\\]]");function FT(e,t,n){if(t.search(MT)>=0)throw UT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new hT(...t.split("."))._internalPath}catch(Pu){throw UT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function UT(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=" in field ".concat(r)),a&&(c+=" in document ".concat(i)),c+=")"),new $p(Jp.INVALID_ARGUMENT,o+e+c)}function VT(e,t){return e.some((e=>e.isEqual(t)))}class zT{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new HE(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(BT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jT extends zT{data(){return super.data()}}function BT(e,t){return"string"==typeof t?FT(e,t):t instanceof hT?t._internalPath:t._delegate._internalPath}function qT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new $p(Jp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GT{}class KT extends GT{}function HT(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof GT&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof QT)).length,n=e.filter((e=>e instanceof WT)).length;if(t>1||t>0&&n>0)throw new $p(Jp.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class WT extends KT{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new WT(e,t,n)}_apply(e){const t=this._parse(e);return nS(e._query,t),new KE(e.firestore,e.converter,ey(e._query,t))}_parse(e){const t=wT(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new $p(Jp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){tS(a,s);const t=[];for(const n of a)t.push(eS(r,e,n));o={arrayValue:{values:t}}}else o=eS(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||tS(a,s),o=AT(n,t,a,"in"===s||"not-in"===s);return wv.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class QT extends GT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new QT(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:_v.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)nS(n,i),n=ey(n,i)}(e._query,t),new KE(e.firestore,e.converter,ey(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class YT extends KT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new YT(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new $p(Jp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new $p(Jp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vv(t,n)}(e._query,this._field,this._direction);return new KE(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Hv(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class XT extends KT{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new XT(e,t,n)}_apply(e){return new KE(e.firestore,e.converter,ty(e._query,this._limit,this._limitType))}}class JT extends KT{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new JT(e,t,n)}_apply(e){const t=ZT(e,this.type,this._docOrFields,this._inclusive);return new KE(e.firestore,e.converter,function(e,t){return new Hv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class $T extends KT{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new $T(e,t,n)}_apply(e){const t=ZT(e,this.type,this._docOrFields,this._inclusive);return new KE(e.firestore,e.converter,function(e,t){return new Hv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function ZT(e,t,n,r){if(n[0]=$r(n[0]),n[0]instanceof zT)return function(e,t,n,r,i){if(!r)throw new $p(Jp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const a of Jv(e))if(a.field.isKeyField())s.push(Zg(t,r.key));else{const e=r.data.field(a.field);if(Vg(e))throw new $p(Jp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new $p(Jp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new pv(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=wT(e.firestore);return function(e,t,n,r,i,s){const a=e.explicitOrderBy;if(i.length>a.length)throw new $p(Jp.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const o=[];for(let c=0;c<i.length;c++){const s=i[c];if(a[c].field.isKeyField()){if("string"!=typeof s)throw new $p(Jp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Xv(e)&&-1!==s.indexOf("/"))throw new $p(Jp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(gm.fromString(s));if(!bm.isDocumentKey(n))throw new $p(Jp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new bm(n);o.push(Zg(t,i))}else{const e=AT(n,r,s);o.push(e)}}return new pv(o,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function eS(e,t,n){if("string"==typeof(n=$r(n))){if(""===n)throw new $p(Jp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xv(t)&&-1!==n.indexOf("/"))throw new $p(Jp.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(gm.fromString(n));if(!bm.isDocumentKey(r))throw new $p(Jp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Zg(e,new bm(r))}if(n instanceof HE)return Zg(e,n._key);throw new $p(Jp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(VE(n),"."))}function tS(e,t){if(!Array.isArray(e)||0===e.length)throw new $p(Jp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function nS(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new $p(Jp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new $p(Jp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class rS{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Hg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ug(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Qp()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Eg(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new fT(Fg(e.latitude),Fg(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=zg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jg(e));default:return null}}convertTimestamp(e){const t=Mg(e);return new fm(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=gm.fromString(e);Yp(iw(n));const r=new qg(n.get(1),n.get(3)),i=new bm(n.popFirst(5));return r.isEqual(t)||Kp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function iS(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class sS extends rS{constructor(e){super(),this.firestore=e}convertBytes(e){return new uT(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new HE(this.firestore,null,t)}}class aS{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oS extends zT{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new cS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(BT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class cS extends oS{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class lS{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new aS(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new cS(this._firestore,this._userDataWriter,n.key,n,new aS(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new $p(Jp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new cS(e._firestore,e._userDataWriter,n.doc.key,n.doc,new aS(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new cS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new aS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:uS(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function uS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qp()}}function hS(e,t){return e instanceof oS&&t instanceof oS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof lS&&t instanceof lS&&e._firestore===t._firestore&&JE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class dS extends rS{constructor(e){super(),this.firestore=e}convertBytes(e){return new uT(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new HE(this.firestore,null,t)}}function fS(e){e=zE(e,HE);const t=zE(e.firestore,tT),n=nT(t),r=new dS(t);return function(e,t){const n=new Zp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Xp(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new $p(Jp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=fk(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await TE(e),t,n))),n.promise}(n,e._key).then((n=>new oS(t,r,e._key,n,new aS(null!==n&&n.hasLocalMutations,!0),e.converter)))}function pS(e){e=zE(e,KE);const t=zE(e.firestore,tT),n=nT(t),r=new dS(t);return function(e,t){const n=new Zp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await sI(e,t,!0),i=new Rk(t,r.hs),s=i.ha(r.documents),a=i.applyChanges(s,!1);n.resolve(a.snapshot)}catch(e){const r=fk(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await TE(e),t,n))),n.promise}(n,e._query).then((n=>new lS(t,r,e,n)))}function mS(e,t,n){e=zE(e,HE);const r=zE(e.firestore,tT),i=iS(e.converter,t,n);return bS(r,[_T(wT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,zy.none())])}function gS(e,t,n){e=zE(e,HE);const r=zE(e.firestore,tT),i=wT(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),c=3;c<a;c++)o[c-3]=arguments[c];return s="string"==typeof(t=$r(t))||t instanceof hT?NT(i,"updateDoc",e._key,t,n,o):xT(i,"updateDoc",e._key,t),bS(r,[s.toMutation(e._key,zy.exists(!0))])}function vS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=$r(e);let o={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||ZE(n[c])||(o=n[c],c++);const l={includeMetadataChanges:o.includeMetadataChanges};if(ZE(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[c+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,h,d;if(e instanceof HE)h=zE(e.firestore,tT),d=Qv(e._key.path),u={next:t=>{n[c]&&n[c](wS(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=zE(e,KE);h=zE(t.firestore,tT),d=t._query;const r=new dS(h);u={next:e=>{n[c]&&n[c](new lS(h,r,t,e))},error:n[c+1],complete:n[c+2]},qT(e._query)}return function(e,t,n,r){const i=new pE(r),s=new Ek(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>bk(await NE(e),s))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>wk(await NE(e),s)))}}(nT(h),d,l,u)}function yS(e,t){return function(e,t){const n=new pE(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Xp(e).K_.add(t),t.next()}(await NE(e),n))),()=>{n.La(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Xp(e).K_.delete(t)}(await NE(e),n)))}}(nT(e=zE(e,tT)),ZE(t)?t:{next:t})}function bS(e,t){return function(e,t){const n=new Zp;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=cE(e);try{const e=await function(e,t){const n=Xp(e),r=fm.now(),i=t.reduce(((e,t)=>e.add(t.key)),wy());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=hy(),c=wy();return n.os.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=Hy(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Yy(e.key,t,dv(t.value.mapValue),zy.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:py(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new Sg(um)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await Xk(r,e.changes),await ZI(r.remoteStore)}catch(e){const t=fk(e,"Failed to persist write");n.reject(t)}}(await CE(e),t,n))),n.promise}(nT(e),t)}function wS(e,t,n){const r=n.docs.get(t._key),i=new dS(e);return new oS(e,i,t._key,r,new aS(n.hasPendingWrites,n.fromCache),t.converter)}const _S={maxAttempts:5};class IS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wT(e)}set(e,t,n){this._verifyNotCommitted();const r=kS(e,this._firestore),i=iS(r.converter,t,n),s=_T(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,zy.none())),this}update(e,t,n){this._verifyNotCommitted();const r=kS(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=$r(t))||t instanceof hT?NT(this._dataReader,"WriteBatch.update",r._key,t,n,a):xT(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,zy.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=kS(e,this._firestore);return this._mutations=this._mutations.concat(new Zy(t._key,zy.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $p(Jp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kS(e,t){if((e=$r(e)).firestore!==t)throw new $p(Jp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class ES extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wT(e)}get(e){const t=kS(e,this._firestore),n=new sS(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Qp();const r=e[0];if(r.isFoundDocument())return new zT(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new zT(this._firestore,n,t._key,null,t.converter);throw Qp()}))}set(e,t,n){const r=kS(e,this._firestore),i=iS(r.converter,t,n),s=_T(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=kS(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=$r(t))||t instanceof hT?NT(this._dataReader,"Transaction.update",r._key,t,n,a):xT(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=kS(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=kS(e,this._firestore),n=new dS(this._firestore);return super.get(e).then((e=>new oS(this._firestore,n,t._key,e._document,new aS(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){jp=e}(qi),Fi(new Zr("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new tT(new rm(e.getProvider("auth-internal")),new om(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new $p(Jp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qg(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Qi(Vp,"4.4.2",e),Qi(Vp,"4.4.2","esm2017")}();function TS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new $p("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function SS(){if("undefined"===typeof Uint8Array)throw new $p("unimplemented","Uint8Arrays are not available in this environment.")}function CS(){if("undefined"==typeof atob)throw new $p("unimplemented","Blobs are unavailable in Firestore in this environment.")}class xS{constructor(e){this._delegate=e}static fromBase64String(e){return CS(),new xS(uT.fromBase64String(e))}static fromUint8Array(e){return SS(),new xS(uT.fromUint8Array(e))}toBase64(){return CS(),this._delegate.toBase64()}toUint8Array(){return SS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function NS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class AS{enableIndexedDbPersistence(e,t){return function(e,t){lT(e=zE(e,tT));const n=nT(e);if(n._uninitializedComponentsProvider)throw new $p(Jp.FAILED_PRECONDITION,"SDK cache is already specified.");Hp("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new dE;return iT(n,i,new uE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){lT(e=zE(e,tT));const t=nT(e);if(t._uninitializedComponentsProvider)throw new $p(Jp.FAILED_PRECONDITION,"SDK cache is already specified.");Hp("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new dE;return iT(t,r,new hE(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new $p(Jp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Zp;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Dm.D())return Promise.resolve();const t=e+"main";await Dm.delete(t)}(W_(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class RS{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof qg||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Hp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};GE(this._delegate,e,t,n)}enableNetwork(){return aT(this._delegate)}disableNetwork(){return oT(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,ME("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return sT(this._delegate)}onSnapshotsInSync(e){return yS(this._delegate,e)}get app(){if(!this._appCompat)throw new $p("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new KS(this,QE(this._delegate,e))}catch(TN){throw FS(TN,"collection()","Firestore.collection()")}}doc(e){try{return new MS(this,YE(this._delegate,e))}catch(TN){throw FS(TN,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new BS(this,function(e,t){if(e=zE(e,qE),LE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new $p(Jp.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new KE(e,null,function(e){return new Hv(gm.emptyPath(),e)}(t))}(this._delegate,e))}catch(TN){throw FS(TN,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=zE(e,tT);const r=Object.assign(Object.assign({},_S),n);return function(e){if(e.maxAttempts<1)throw new $p(Jp.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Zp;return e.asyncQueue.enqueueAndForget((async()=>{const i=await xE(e);new vE(e.asyncQueue,i,n,t,r).ja()})),r.promise}(nT(e),(n=>t(new ES(e,n))),r)}(this._delegate,(t=>e(new OS(this,t))))}batch(){return nT(this._delegate),new DS(new IS(this._delegate,(e=>bS(this._delegate,e))))}loadBundle(e){return function(e,t){const n=nT(e=zE(e,tT)),r=new eT;return PE(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return cT(this._delegate,e).then((e=>e?new BS(this,e):null))}}class PS extends rS{constructor(e){super(),this.firestore=e}convertBytes(e){return new xS(new uT(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return MS.forKey(t,this.firestore,null)}}class OS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new PS(e)}get(e){const t=HS(e);return this._delegate.get(t).then((e=>new zS(this._firestore,new oS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=HS(e);return n?(TS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=HS(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=HS(e);return this._delegate.delete(t),this}}class DS{constructor(e){this._delegate=e}set(e,t,n){const r=HS(e);return n?(TS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=HS(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=HS(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class LS{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new cS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jS(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=LS.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new LS(e,new PS(e),t),r.set(t,i)),i}}LS.INSTANCES=new WeakMap;class MS{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new PS(e)}static forPath(e,t,n){if(e.length%2!==0)throw new $p("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new MS(t,new HE(t._delegate,n,new bm(e)))}static forKey(e,t,n){return new MS(t,new HE(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new KS(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new KS(this.firestore,QE(this._delegate,e))}catch(TN){throw FS(TN,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=$r(e))instanceof HE&&XE(this._delegate,e)}set(e,t){t=TS("DocumentReference.set",t);try{return t?mS(this._delegate,e,t):mS(this._delegate,e)}catch(TN){throw FS(TN,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?gS(this._delegate,e):gS(this._delegate,e,t,...r)}catch(TN){throw FS(TN,"updateDoc()","DocumentReference.update()")}}delete(){return bS(zE((e=this._delegate).firestore,tT),[new Zy(e._key,zy.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=US(t),i=VS(t,(e=>new zS(this.firestore,new oS(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return vS(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?fS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zE(e,HE);const t=zE(e.firestore,tT);return AE(nT(t),e._key,{source:"server"}).then((n=>wS(t,e,n)))}(this._delegate):function(e){e=zE(e,HE);const t=zE(e.firestore,tT);return AE(nT(t),e._key).then((n=>wS(t,e,n)))}(this._delegate),t.then((e=>new zS(this.firestore,new oS(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new MS(this.firestore,e?this._delegate.withConverter(LS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function FS(e,t,n){return e.message=e.message.replace(t,n),e}function US(e){for(const t of e)if("object"===typeof t&&!NS(t))return t;return{}}function VS(e,t){var n,r;let i;return i=NS(e[0])?e[0]:NS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class zS{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new MS(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return hS(this._delegate,e._delegate)}}class jS extends zS{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Qp(),t}}class BS{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new PS(e)}where(e,t,n){try{return new BS(this.firestore,HT(this._delegate,function(e,t,n){const r=t,i=BT("where",e);return WT._create(i,r,n)}(e,t,n)))}catch(TN){throw FS(TN,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new BS(this.firestore,HT(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=BT("orderBy",e);return YT._create(n,t)}(e,t)))}catch(TN){throw FS(TN,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new BS(this.firestore,HT(this._delegate,(jE("limit",t=e),XT._create("limit",t,"F"))))}catch(t){throw FS(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new BS(this.firestore,HT(this._delegate,(jE("limitToLast",t=e),XT._create("limitToLast",t,"L"))))}catch(t){throw FS(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new BS(this.firestore,HT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JT._create("startAt",t,!0)}(...arguments)))}catch(TN){throw FS(TN,"startAt()","Query.startAt()")}}startAfter(){try{return new BS(this.firestore,HT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JT._create("startAfter",t,!1)}(...arguments)))}catch(TN){throw FS(TN,"startAfter()","Query.startAfter()")}}endBefore(){try{return new BS(this.firestore,HT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $T._create("endBefore",t,!1)}(...arguments)))}catch(TN){throw FS(TN,"endBefore()","Query.endBefore()")}}endAt(){try{return new BS(this.firestore,HT(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $T._create("endAt",t,!0)}(...arguments)))}catch(TN){throw FS(TN,"endAt()","Query.endAt()")}}isEqual(e){return JE(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?pS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zE(e,KE);const t=zE(e.firestore,tT),n=nT(t),r=new dS(t);return RE(n,e._query,{source:"server"}).then((n=>new lS(t,r,e,n)))}(this._delegate):function(e){e=zE(e,KE);const t=zE(e.firestore,tT),n=nT(t),r=new dS(t);return qT(e._query),RE(n,e._query).then((n=>new lS(t,r,e,n)))}(this._delegate),t.then((e=>new GS(this.firestore,new lS(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=US(t),i=VS(t,(e=>new GS(this.firestore,new lS(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return vS(this._delegate,r,i)}withConverter(e){return new BS(this.firestore,e?this._delegate.withConverter(LS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class qS{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new jS(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class GS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new BS(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new jS(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new qS(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new jS(this._firestore,n))}))}isEqual(e){return hS(this._delegate,e._delegate)}}class KS extends BS{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new MS(this.firestore,e):null}doc(e){try{return new MS(this.firestore,void 0===e?YE(this._delegate):YE(this._delegate,e))}catch(TN){throw FS(TN,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=zE(e.firestore,tT),r=YE(e),i=iS(e.converter,t);return bS(n,[_T(wT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,zy.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new MS(this.firestore,e)))}isEqual(e){return XE(this._delegate,e._delegate)}withConverter(e){return new KS(this.firestore,e?this._delegate.withConverter(LS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function HS(e){return zE(e,HE)}class WS{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new hT(...t)}static documentId(){return new WS(ym.keyField().canonicalString())}isEqual(e){return(e=$r(e))instanceof hT&&this._delegate._internalPath.isEqual(e._internalPath)}}class QS{constructor(e){this._delegate=e}static serverTimestamp(){const e=new ET("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new QS(e)}static delete(){const e=new IT("deleteField");return e._methodName="FieldValue.delete",new QS(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TT("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new QS(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ST("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new QS(e)}static increment(e){const t=new CT("increment",e);return t._methodName="FieldValue.increment",new QS(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const YS={Firestore:RS,GeoPoint:fT,Timestamp:fm,Blob:xS,Transaction:OS,WriteBatch:DS,DocumentReference:MS,DocumentSnapshot:zS,Query:BS,QueryDocumentSnapshot:jS,QuerySnapshot:GS,CollectionReference:KS,FieldPath:WS,FieldValue:QS,setLogLevel:function(e){var t;t=e,Bp.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Zr("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},YS)))}(e,((e,t)=>new RS(e,t,new AS))),e.registerVersion("@firebase/firestore-compat","0.3.25")}(fs);const XS="firebasestorage.googleapis.com",JS="storageBucket";class $S extends zr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(tC(e),"Firebase Storage: ".concat(t," (").concat(tC(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$S.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var ZS,eC;function tC(e){return"storage/"+e}function nC(){return new $S(ZS.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function rC(){return new $S(ZS.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iC(){return new $S(ZS.CANCELED,"User canceled the upload/download.")}function sC(){return new $S(ZS.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function aC(e){return new $S(ZS.INVALID_ARGUMENT,e)}function oC(){return new $S(ZS.APP_DELETED,"The Firebase app was deleted.")}function cC(e){return new $S(ZS.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lC(e,t){return new $S(ZS.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function uC(e){throw new $S(ZS.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ZS||(ZS={}));class hC{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=hC.makeFromUrl(e,t)}catch(TN){return new hC(e,"")}if(""===n.path)return n;throw r=e,new $S(ZS.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===XS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let c=0;c<o.length;c++){const t=o[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new hC(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new $S(ZS.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class dC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function fC(e){return"string"===typeof e||e instanceof String}function pC(e){return mC()&&e instanceof Blob}function mC(){return"undefined"!==typeof Blob}function gC(e,t,n,r){if(r<t)throw aC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw aC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function vC(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function yC(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function bC(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(eC||(eC={}));class wC{constructor(e,t,n,r,i,s,a,o,c,l,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new _C(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===eC.NO_ERROR,i=n.getStatus();if(!t||bC(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===eC.ABORT;return void e(!1,new _C(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new _C(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(TN){r(TN)}else if(null!==i){const e=nC();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?oC():iC())}else{r(rC())}};this.canceled_?t(0,new _C(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function c(){return 2===o}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,c())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(l)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(c()||a)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),l||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class _C{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function IC(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function kC(){const e=IC();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(mC())return new Blob(n);throw new $S(ZS.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function EC(e){if("undefined"===typeof atob)throw t="base-64",new $S(ZS.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const TC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class SC{constructor(e,t){this.data=e,this.contentType=t||null}}function CC(e,t){switch(e){case TC.RAW:return new SC(xC(t));case TC.BASE64:case TC.BASE64URL:return new SC(NC(e,t));case TC.DATA_URL:return new SC(function(e){const t=new AC(e);return t.base64?NC(TC.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(TN){throw lC(TC.DATA_URL,"Malformed data URL.")}return xC(t)}(t.rest)}(t),new AC(t).contentType)}throw nC()}function xC(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function NC(e,t){switch(e){case TC.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw lC(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case TC.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw lC(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=EC(t)}catch(TN){if(TN.message.includes("polyfill"))throw TN;throw lC(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class AC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw lC(TC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class RC{constructor(e,t){let n=0,r="";pC(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(pC(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new RC(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new RC(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(mC()){const e=t.map((e=>e instanceof RC?e.data_:e));return new RC(kC.apply(null,e))}{const e=t.map((e=>fC(e)?CC(TC.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new RC(r,!0)}}uploadData(){return this.data_}}function PC(e){let t;try{t=JSON.parse(e)}catch(TN){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function OC(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function DC(e,t){return t}class LC{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||DC}}let MC=null;function FC(){if(MC)return MC;const e=[];e.push(new LC("bucket")),e.push(new LC("generation")),e.push(new LC("metageneration")),e.push(new LC("name","fullPath",!0));const t=new LC("name");t.xform=function(e,t){return function(e){return!fC(e)||e.length<2?e:OC(e)}(t)},e.push(t);const n=new LC("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new LC("timeCreated")),e.push(new LC("updated")),e.push(new LC("md5Hash",null,!0)),e.push(new LC("cacheControl",null,!0)),e.push(new LC("contentDisposition",null,!0)),e.push(new LC("contentEncoding",null,!0)),e.push(new LC("contentLanguage",null,!0)),e.push(new LC("contentType",null,!0)),e.push(new LC("metadata","customMetadata",!0)),MC=e,MC}function UC(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new hC(n,r);return t._makeStorageReference(i)}})}(r,e),r}function VC(e,t,n){const r=PC(t);if(null===r)return null;return UC(e,r,n)}function zC(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const jC="prefixes",BC="items";function qC(e,t,n){const r=PC(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[jC])for(const i of n[jC]){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new hC(t,n));r.prefixes.push(s)}if(n[BC])for(const i of n[BC]){const n=e._makeStorageReference(new hC(t,i.name));r.items.push(n)}return r}(e,t,r)}class GC{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function KC(e){if(!e)throw nC()}function HC(e,t){return function(n,r){const i=VC(e,r,t);return KC(null!==i),i}}function WC(e,t){return function(n,r){const i=VC(e,r,t);return KC(null!==i),function(e,t,n,r){const i=PC(t);if(null===i)return null;if(!fC(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return vC("/b/"+a(i)+"/o/"+a(s),n,r)+yC({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function QC(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new $S(ZS.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new $S(ZS.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new $S(ZS.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new $S(ZS.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function YC(e){const t=QC(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new $S(ZS.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function XC(e,t,n){const r=vC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new GC(r,"GET",HC(e,n),i);return s.errorHandler=YC(t),s}function JC(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=vC(t.bucketOnlyServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,c=new GC(a,"GET",function(e,t){return function(n,r){const i=qC(e,t,r);return KC(null!==i),i}}(e,t.bucket),o);return c.urlParams=s,c.errorHandler=QC(t),c}function $C(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ZC(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const c=$C(t,r,i),l="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+zC(c,n)+"\r\n--"+o+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+o+"--",h=RC.getBlob(l,r,u);if(null===h)throw sC();const d={name:c.fullPath},f=vC(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new GC(f,"POST",HC(e,n),p);return m.urlParams=d,m.headers=a,m.body=h.uploadData(),m.errorHandler=QC(t),m}class ex{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function tx(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(TN){KC(!1)}return KC(!!n&&-1!==(t||["active"]).indexOf(n)),n}const nx=262144;function rx(e,t,n,r,i,s,a,o){const c=new ex(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new $S(ZS.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const l=c.total-c.current;let u=l;i>0&&(u=Math.min(u,i));const h=c.current,d=h+u;let f="";f=0===u?"finalize":l===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(c.current)},m=r.slice(h,d);if(null===m)throw sC();const g=t.maxUploadRetryTime,v=new GC(n,"POST",(function(e,n){const i=tx(e,["active","final"]),a=c.current+u,o=r.size();let l;return l="final"===i?HC(t,s)(e,n):null,new ex(a,o,"final"===i,l)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=o||null,v.errorHandler=QC(e),v}const ix={STATE_CHANGED:"state_changed"},sx={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ax(e){switch(e){case"running":case"pausing":case"canceling":return sx.RUNNING;case"paused":return sx.PAUSED;case"success":return sx.SUCCESS;case"canceled":return sx.CANCELED;default:return sx.ERROR}}class ox{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function cx(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let lx=null;class ux{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=eC.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=eC.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=eC.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw uC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw uC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw uC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(TN){return-1}}getResponse(){if(!this.sent_)throw uC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw uC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class hx extends ux{initXhr(){this.xhr_.responseType="text"}}function dx(){return lx?lx():new hx}class fx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=FC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(ZS.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(bC(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=rC()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(ZS.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a=$C(t,r,i),o={name:a.fullPath},c=vC(s,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},u=zC(a,n),h=e.maxUploadRetryTime,d=new GC(c,"POST",(function(e){let t;tx(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(TN){KC(!1)}return KC(fC(t)),t}),h);return d.urlParams=o,d.headers=l,d.body=u,d.errorHandler=QC(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,dx,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new GC(n,"POST",(function(e){const t=tx(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(TN){KC(!1)}n||KC(!1);const i=Number(n);return KC(!isNaN(i)),new ex(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=QC(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,dx,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=nx*this._chunkMultiplier,t=new ex(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=rx(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(TN){return this._error=TN,void this._transition("error")}const a=this._ref.storage._makeRequest(s,dx,r,i,!1);this._request=a,a.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(nx*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=XC(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,dx,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=ZC(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,dx,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=iC(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=ax(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new ox(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(ax(this._state)){case sx.SUCCESS:cx(this._resolve.bind(null,this.snapshot))();break;case sx.CANCELED:case sx.ERROR:cx(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ax(this._state)){case sx.RUNNING:case sx.PAUSED:e.next&&cx(e.next.bind(e,this.snapshot))();break;case sx.SUCCESS:e.complete&&cx(e.complete.bind(e))();break;default:e.error&&cx(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class px{constructor(e,t){this._service=e,this._location=t instanceof hC?t:hC.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new px(e,t)}get root(){const e=new hC(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OC(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new hC(this._location.bucket,e);return new px(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw cC(e)}}function mx(e){const t={prefixes:[],items:[]};return gx(e,t).then((()=>t))}async function gx(e,t,n){const r={pageToken:n},i=await vx(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await gx(e,t,i.nextPageToken)}function vx(e,t){null!=t&&"number"===typeof t.maxResults&&gC("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=JC(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,dx)}function yx(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=vC(t.fullServerUrl(),e.host,e._protocol),s=zC(n,r),a=e.maxOperationRetryTime,o=new GC(i,"PATCH",HC(e,r),a);return o.headers={"Content-Type":"application/json; charset=utf-8"},o.body=s,o.errorHandler=YC(t),o}(e.storage,e._location,t,FC());return e.storage.makeRequestWithTokens(n,dx)}function bx(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=vC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new GC(r,"GET",WC(e,n),i);return s.errorHandler=YC(t),s}(e.storage,e._location,FC());return e.storage.makeRequestWithTokens(t,dx).then((e=>{if(null===e)throw new $S(ZS.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function wx(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=vC(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new GC(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=YC(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,dx)}function _x(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new hC(e._location.bucket,n);return new px(e.storage,r)}function Ix(e,t){if(e instanceof Tx){const n=e;if(null==n._bucket)throw new $S(ZS.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+JS+"' property when initializing the app?");const r=new px(n,n._bucket);return null!=t?Ix(r,t):r}return void 0!==t?_x(e,t):e}function kx(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Tx)return new px(e,t);throw aC("To use ref(service, url), the first argument must be a Storage instance.")}return Ix(e,t)}function Ex(e,t){const n=null===t||void 0===t?void 0:t[JS];return null==n?null:hC.makeFromBucketSpec(n,e)}class Tx{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=XS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?hC.makeFromBucketSpec(r,this._host):Ex(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=hC.makeFromBucketSpec(this._url,e):this._bucket=Ex(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new px(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new dC(oC());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=yC(e.urlParams),c=e.url+o,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new wC(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Sx="@firebase/storage",Cx="0.12.1",xx="storage";function Nx(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new fx(e,new RC(t),n)}(e=$r(e),t,n)}function Ax(e){return function(e){e._throwIfRoot("getMetadata");const t=XC(e.storage,e._location,FC());return e.storage.makeRequestWithTokens(t,dx)}(e=$r(e))}function Rx(e,t){return kx(e=$r(e),t)}function Px(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Pr(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function Ox(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Tx(r,i,s,n,qi)}Fi(new Zr(xx,Ox,"PUBLIC").setMultipleInstances(!0)),Qi(Sx,Cx,""),Qi(Sx,Cx,"esm2017");class Dx{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Lx{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Dx(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new Dx(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new Dx(e,this,this._ref)):{next:t.next?e=>t.next(new Dx(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class Mx{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new Fx(e,this._service)))}get items(){return this._delegate.items.map((e=>new Fx(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Fx{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return _x(e,t)}(this._delegate,e);return new Fx(t,this.storage)}get root(){return new Fx(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Fx(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Lx(Nx(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TC.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=CC(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Lx(new fx(this._delegate,new RC(r.data,!0),i),this)}listAll(){return function(e){return mx(e=$r(e))}(this._delegate).then((e=>new Mx(e,this.storage)))}list(e){return function(e,t){return vx(e=$r(e),t)}(this._delegate,e||void 0).then((e=>new Mx(e,this.storage)))}getMetadata(){return Ax(this._delegate)}updateMetadata(e){return function(e,t){return yx(e=$r(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return bx(e=$r(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return wx(e=$r(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw cC(e)}}class Ux{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Vx(e))throw aC("ref() expected a child path but got a URL, use refFromURL instead.");return new Fx(Rx(this._delegate,e),this)}refFromURL(e){if(!Vx(e))throw aC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{hC.makeFromUrl(e,this._delegate.host)}catch(TN){throw aC("refFromUrl() expected a valid full URL but got an invalid one.")}return new Fx(Rx(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Px(this._delegate,e,t,n)}}function Vx(e){return/^[A-Za-z]+:\/\//.test(e)}function zx(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Ux(r,i)}!function(e){const t={TaskState:sx,TaskEvent:ix,StringFormat:TC,Storage:Ux,Reference:Fx};e.INTERNAL.registerComponent(new Zr("storage-compat",zx,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.4")}(fs);fs.initializeApp({apiKey:"AIzaSyA_7rupLovzkNXCn2Awz2aZP5tFIfnBbqU",authDomain:"github-form.firebaseapp.com",projectId:"github-form",storageBucket:"github-form.appspot.com",messagingSenderId:"305675828847",appId:"1:305675828847:web:aea4dd36d68eaa78e2979a",measurementId:"G-J2BTMS34TN"});fs.auth(),fs.firestore();const jx=fs;function Bx(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Bx(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const qx=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Bx(e))&&(r&&(r+=" "),r+=t);return r},Gx=e=>"number"==typeof e&&!isNaN(e),Kx=e=>"string"==typeof e,Hx=e=>"function"==typeof e,Wx=e=>Kx(e)||Hx(e)?e:null,Qx=e=>(0,t.isValidElement)(e)||Kx(e)||Hx(e)||Gx(e);function Yx(e){let{enter:n,exit:r,appendPosition:i=!1,collapse:s=!0,collapseDuration:a=300}=e;return function(e){let{children:o,position:c,preventExitTransition:l,done:u,nodeRef:h,isIn:d,playToast:f}=e;const p=i?"".concat(n,"--").concat(c):n,m=i?"".concat(r,"--").concat(c):r,g=(0,t.useRef)(0);return(0,t.useLayoutEffect)((()=>{const e=h.current,t=p.split(" "),n=r=>{r.target===h.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,t.useEffect)((()=>{const e=h.current,t=()=>{e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,u,a):u()};d||(l?t():(g.current=1,e.className+=" ".concat(m),e.addEventListener("animationend",t)))}),[d]),t.createElement(t.Fragment,null,o)}}function Xx(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Jx=new Map;let $x=[];const Zx=new Set,eN=e=>Zx.forEach((t=>t(e))),tN=()=>Jx.size>0;function nN(e,t){var n;if(t)return!(null==(n=Jx.get(t))||!n.isToastActive(e));let r=!1;return Jx.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function rN(e,t){Qx(e)&&(tN()||$x.push({content:e,options:t}),Jx.forEach((n=>{n.buildToast(e,t)})))}function iN(e,t){Jx.forEach((n=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===n.id&&n.toggle(e,null==t?void 0:t.id):n.toggle(e,null==t?void 0:t.id)}))}function sN(e){const{subscribe:n,getSnapshot:r,setProps:i}=(0,t.useRef)(function(e){const n=e.containerId||1;return{subscribe(r){const i=function(e,n,r){let i=1,s=0,a=[],o=[],c=[],l=n;const u=new Map,h=new Set,d=()=>{c=Array.from(u.values()),h.forEach((e=>e()))},f=e=>{o=null==e?[]:o.filter((t=>t!==e)),d()},p=e=>{const{toastId:n,onOpen:i,updateId:s,children:a}=e.props,c=null==s;e.staleId&&u.delete(e.staleId),u.set(n,e),o=[...o,e.props.toastId].filter((t=>t!==e.staleId)),d(),r(Xx(e,c?"added":"updated")),c&&Hx(i)&&i((0,t.isValidElement)(a)&&a.props)};return{id:e,props:l,observe:e=>(h.add(e),()=>h.delete(e)),toggle:(e,t)=>{u.forEach((n=>{null!=t&&t!==n.props.toastId||Hx(n.toggle)&&n.toggle(e)}))},removeToast:f,toasts:u,clearQueue:()=>{s-=a.length,a=[]},buildToast:(n,o)=>{if((t=>{let{containerId:n,toastId:r,updateId:i}=t;const s=n?n!==e:1!==e,a=u.has(r)&&null==i;return s||a})(o))return;const{toastId:c,updateId:h,data:m,staleId:g,delay:v}=o,y=()=>{f(c)},b=null==h;b&&s++;const w={...l,style:l.toastStyle,key:i++,...Object.fromEntries(Object.entries(o).filter((e=>{let[t,n]=e;return null!=n}))),toastId:c,updateId:h,data:m,closeToast:y,isIn:!1,className:Wx(o.className||l.toastClassName),bodyClassName:Wx(o.bodyClassName||l.bodyClassName),progressClassName:Wx(o.progressClassName||l.progressClassName),autoClose:!o.isLoading&&(_=o.autoClose,I=l.autoClose,!1===_||Gx(_)&&_>0?_:I),deleteToast(){const e=u.get(c),{onClose:n,children:i}=e.props;Hx(n)&&n((0,t.isValidElement)(i)&&i.props),r(Xx(e,"removed")),u.delete(c),s--,s<0&&(s=0),a.length>0?p(a.shift()):d()}};var _,I;w.closeButton=l.closeButton,!1===o.closeButton||Qx(o.closeButton)?w.closeButton=o.closeButton:!0===o.closeButton&&(w.closeButton=!Qx(l.closeButton)||l.closeButton);let k=n;(0,t.isValidElement)(n)&&!Kx(n.type)?k=(0,t.cloneElement)(n,{closeToast:y,toastProps:w,data:m}):Hx(n)&&(k=n({closeToast:y,toastProps:w,data:m}));const E={content:k,props:w,staleId:g};l.limit&&l.limit>0&&s>l.limit&&b?a.push(E):Gx(v)?setTimeout((()=>{p(E)}),v):p(E)},setProps(e){l=e},setToggle:(e,t)=>{u.get(e).toggle=t},isToastActive:e=>o.some((t=>t===e)),getSnapshot:()=>l.newestOnTop?c.reverse():c}}(n,e,eN);Jx.set(n,i);const s=i.observe(r);return $x.forEach((e=>rN(e.content,e.options))),$x=[],()=>{s(),Jx.delete(n)}},setProps(e){var t;null==(t=Jx.get(n))||t.setProps(e)},getSnapshot(){var e;return null==(e=Jx.get(n))?void 0:e.getSnapshot()}}}(e)).current;i(e);const s=(0,t.useSyncExternalStore)(n,r,r);return{getToastToRender:function(e){if(!s)return[];const t=new Map;return s.forEach((e=>{const{position:n}=e.props;t.has(n)||t.set(n,[]),t.get(n).push(e)})),Array.from(t,(t=>e(t[0],t[1])))},isToastActive:nN,count:null==s?void 0:s.length}}function aN(e){let{delay:n,isRunning:r,closeToast:i,type:s="default",hide:a,className:o,style:c,controlledProgress:l,progress:u,rtl:h,isIn:d,theme:f}=e;const p=a||l&&0===u,m={...c,animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused"};l&&(m.transform="scaleX(".concat(u,")"));const g=qx("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(f),"Toastify__progress-bar--".concat(s),{"Toastify__progress-bar--rtl":h}),v=Hx(o)?o({rtl:h,type:s,defaultClassName:g}):qx(g,o),y={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&i()}};return t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},t.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(f," Toastify__progress-bar--").concat(s)}),t.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:v,style:m,...y}))}let oN=1;const cN=()=>""+oN++;function lN(e){return e&&(Kx(e.toastId)||Gx(e.toastId))?e.toastId:cN()}function uN(e,t){return rN(e,t),t.toastId}function hN(e,t){return{...t,type:t&&t.type||e,toastId:lN(t)}}function dN(e){return(t,n)=>uN(t,hN(e,n))}function fN(e,t){return uN(e,hN("default",t))}fN.loading=(e,t)=>uN(e,hN("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),fN.promise=function(e,t,n){let r,{pending:i,error:s,success:a}=t;i&&(r=Kx(i)?fN.loading(i,n):fN.loading(i.render,{...n,...i}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(e,t,i)=>{if(null==t)return void fN.dismiss(r);const s={type:e,...o,...n,data:i},a=Kx(t)?{render:t}:t;return r?fN.update(r,{...s,...a}):fN(a.render,{...s,...a}),i},l=Hx(e)?e():e;return l.then((e=>c("success",a,e))).catch((e=>c("error",s,e))),l},fN.success=dN("success"),fN.info=dN("info"),fN.error=dN("error"),fN.warning=dN("warning"),fN.warn=fN.warning,fN.dark=(e,t)=>uN(e,hN("default",{theme:"dark",...t})),fN.dismiss=function(e){!function(e){var t;if(tN()){if(null==e||Kx(t=e)||Gx(t))Jx.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){var n;(null==(n=Jx.get(e.containerId))?void 0:n.removeToast(e.id))||Jx.forEach((t=>{t.removeToast(e.id)}))}}else $x=$x.filter((t=>null!=e&&t.options.toastId!==e))}(e)},fN.clearWaitingQueue=function(e){void 0===e&&(e={}),Jx.forEach((t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},fN.isActive=nN,fN.update=function(e,t){void 0===t&&(t={});const n=((e,t)=>{var n;let{containerId:r}=t;return null==(n=Jx.get(r||1))?void 0:n.toasts.get(e)})(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:cN()};s.toastId!==e&&(s.staleId=e);const a=s.render||i;delete s.render,uN(a,s)}},fN.done=e=>{fN.update(e,{progress:1})},fN.onChange=function(e){return Zx.add(e),()=>{Zx.delete(e)}},fN.play=e=>iN(!0,e),fN.pause=e=>iN(!1,e);const pN="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,mN=e=>{let{theme:n,type:r,isLoading:i,...s}=e;return t.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")"),...s})},gN={info:function(e){return t.createElement(mN,{...e},t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(mN,{...e},t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(mN,{...e},t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(mN,{...e},t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}},vN=e=>{const{isRunning:n,preventExitTransition:r,toastRef:i,eventHandlers:s,playToast:a}=function(e){const[n,r]=(0,t.useState)(!1),[i,s]=(0,t.useState)(!1),a=(0,t.useRef)(null),o=(0,t.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:l,closeToast:u,onClick:h,closeOnClick:d}=e;var f,p;function m(){r(!0)}function g(){r(!1)}function v(t){const r=a.current;o.canDrag&&r&&(o.didMove=!0,n&&g(),o.delta="x"===e.draggableDirection?t.clientX-o.start:t.clientY-o.start,o.start!==t.clientX&&(o.canCloseOnClick=!1),r.style.transform="translate3d(".concat("x"===e.draggableDirection?"".concat(o.delta,"px, var(--y)"):"0, calc(".concat(o.delta,"px + var(--y))"),",0)"),r.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function y(){document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",y);const t=a.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(p=Jx.get((f={id:e.toastId,containerId:e.containerId,fn:r}).containerId||1))||p.setToggle(f.id,f.fn),(0,t.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",g)}}),[e.pauseOnFocusLoss]);const b={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){o.didMove=!1,document.addEventListener("pointermove",v),document.addEventListener("pointerup",y);const n=a.current;o.canCloseOnClick=!0,o.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(o.start=t.clientX,o.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(o.start=t.clientY,o.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){const{top:n,bottom:r,left:i,right:s}=a.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=s&&t.clientY>=n&&t.clientY<=r?g():m()}};return c&&l&&(b.onMouseEnter=g,e.stacked||(b.onMouseLeave=m)),d&&(b.onClick=e=>{h&&h(e),o.canCloseOnClick&&u()}),{playToast:m,pauseToast:g,isRunning:n,preventExitTransition:i,toastRef:a,eventHandlers:b}}(e),{closeButton:o,children:c,autoClose:l,onClick:u,type:h,hideProgressBar:d,closeToast:f,transition:p,position:m,className:g,style:v,bodyClassName:y,bodyStyle:b,progressClassName:w,progressStyle:_,updateId:I,role:k,progress:E,rtl:T,toastId:S,deleteToast:C,isIn:x,isLoading:N,closeOnClick:A,theme:R}=e,P=qx("Toastify__toast","Toastify__toast-theme--".concat(R),"Toastify__toast--".concat(h),{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":A}),O=Hx(g)?g({rtl:T,position:m,type:h,defaultClassName:P}):qx(P,g),D=function(e){let{theme:n,type:r,isLoading:i,icon:s}=e,a=null;const o={theme:n,type:r};return!1===s||(Hx(s)?a=s({...o,isLoading:i}):(0,t.isValidElement)(s)?a=(0,t.cloneElement)(s,o):i?a=gN.spinner():(e=>e in gN)(r)&&(a=gN[r](o))),a}(e),L=!!E||!l,M={closeToast:f,type:h,theme:R};let F=null;return!1===o||(F=Hx(o)?o(M):(0,t.isValidElement)(o)?(0,t.cloneElement)(o,M):function(e){let{closeToast:n,theme:r,ariaLabel:i="close"}=e;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:e=>{e.stopPropagation(),n(e)},"aria-label":i},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(M)),t.createElement(p,{isIn:x,done:C,position:m,preventExitTransition:r,nodeRef:i,playToast:a},t.createElement("div",{id:S,onClick:u,"data-in":x,className:O,...s,style:v,ref:i},t.createElement("div",{...x&&{role:k},className:Hx(y)?y({type:h}):qx("Toastify__toast-body",y),style:b},null!=D&&t.createElement("div",{className:qx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},D),t.createElement("div",null,c)),F,t.createElement(aN,{...I&&!L?{key:"pb-".concat(I)}:{},rtl:T,theme:R,delay:l,isRunning:n,isIn:x,closeToast:f,hide:d,type:h,style:_,className:w,controlledProgress:L,progress:E||0})))},yN=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},bN=Yx(yN("bounce",!0)),wN=(Yx(yN("slide",!0)),Yx(yN("zoom")),Yx(yN("flip")),{position:"top-right",transition:bN,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"});function _N(e){let n={...wN,...e};const r=e.stacked,[i,s]=(0,t.useState)(!0),a=(0,t.useRef)(null),{getToastToRender:o,isToastActive:c,count:l}=sN(n),{className:u,style:h,rtl:d,containerId:f}=n;function p(e){const t=qx("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":d});return Hx(u)?u({position:e,rtl:d,defaultClassName:t}):qx(t,Wx(u))}function m(){r&&(s(!0),fN.play())}return pN((()=>{if(r){var e;const t=a.current.querySelectorAll('[data-in="true"]'),r=12,s=null==(e=n.position)?void 0:e.includes("top");let o=0,c=0;Array.from(t).reverse().forEach(((e,t)=>{const n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(i)),n.dataset.pos||(n.dataset.pos=s?"top":"bot");const a=o*(i?.2:1)+(i?0:r*t);n.style.setProperty("--y","".concat(s?a:-1*a,"px")),n.style.setProperty("--g","".concat(r)),n.style.setProperty("--s",""+(1-(i?c:0))),o+=n.offsetHeight,c+=.025}))}}),[i,l,r]),t.createElement("div",{ref:a,className:"Toastify",id:f,onMouseEnter:()=>{r&&(s(!1),fN.pause())},onMouseLeave:m},o(((e,n)=>{const i=n.length?{...h}:{...h,pointerEvents:"none"};return t.createElement("div",{className:p(e),style:i,key:"container-".concat(e)},n.map((e=>{let{content:n,props:i}=e;return t.createElement(vN,{...i,stacked:r,collapseAll:m,isIn:c(i.toastId,i.containerId),style:i.style,key:"toast-".concat(i.key)},n)})))})))}function IN(){const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(!1),[a,o]=(0,t.useState)(""),[c,l]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[d,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[w,_]=(0,t.useState)(!1),I=e=>{const{name:t,value:n}=e.target;switch(t){case"email":(e=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);t?(h(e),l("")):l("Please enter valid email"),m(t)})(n);break;case"password":(e=>{const t=e.length>=8;l(""),e.length<0||e.length<8?(l("Make sure it is at least 8 characters"),v(!1)):e.match(/[A-z]/)?e.match(/[A-Z]/)?e.match(/\d/)?e.match(/\W|_/g)?(v(!0),o(e)):(l("At least one special character"),v(!1)):(l("At least one number"),v(!1)):(l("At least one Capital letter"),v(!1)):(l("At least one letter"),v(!1))})(n);break;case"username":(e=>{const t=e.trim().length>0;t?(b(e),l("")):l("Please enter username"),f(e)})(n)}},k=e=>{const t=e.target;t.classList.add("d-none");const n=t.getAttribute("data-continue-to"),r=document.getElementById(n);console.log(r),r&&r.classList.remove("d-none")},E=e=>{let t=e.target.parentElement;console.log(t);const n=t.querySelector("button.signup-continue-button");document.querySelectorAll("button.signup-continue-button").forEach((e=>{e.classList.add("d-none")})),n&&n.classList.remove("d-none"),e.stopPropagation()};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"row justify-content-center pt-12 ",children:(0,s.jsxs)("div",{className:"col-lg-6",children:[(0,s.jsxs)(_r,{className:"card-bg-color p-4",children:[(0,s.jsxs)("div",{className:"typewriter",children:[(0,s.jsx)("p",{children:"Welcome to GitHub!"}),(0,s.jsx)("p",{onAnimationEnd:()=>{n(!0)},children:" Let\u2019s begin the adventure"})]}),e&&(0,s.jsxs)("form",{className:"form-register",children:[(0,s.jsxs)("div",{id:"email-container",className:"js-continue-step-container signup-continue-step-container mt-4 px-sm-0 px-4","data-step-state":"active",children:[(0,s.jsx)("div",{className:"mb-1",children:(0,s.jsxs)("label",{htmlFor:"email",className:"signup-text-prompt",children:["Enter your email",(0,s.jsx)("sup",{"aria-hidden":"true",children:"*"})]})}),(0,s.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,s.jsx)("span",{className:"text-center",children:(0,s.jsx)(Mn,{icon:p?jn:Vn,className:p?"text-success":""})}),(0,s.jsx)("input",{name:"email",type:"email",id:"email",className:"bg-transparent border-0 w-100",onChange:I,onFocus:E}),(0,s.jsx)("button",{type:"button",className:p?"signup-continue-button confirm-button":"signup-continue-button","data-continue-to":"password-container",disabled:!p,onClick:k,children:"Continue"})]})]}),(0,s.jsxs)("div",{id:"password-container",className:"js-continue-step-container signup-continue-step-container mt-4 px-sm-0 px-4 d-none",children:[(0,s.jsx)("div",{className:"mb-1",children:(0,s.jsxs)("label",{htmlFor:"password",className:"signup-text-prompt",children:["Create a password",(0,s.jsx)("sup",{"aria-hidden":"true",children:"*"})]})}),(0,s.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,s.jsx)("span",{className:"text-center",children:(0,s.jsx)(Mn,{icon:g?jn:Vn,className:g?"text-success":""})}),(0,s.jsx)("input",{name:"password",id:"password",className:"bg-transparent border-0 w-100",type:r?"text":"password",onChange:I,onFocus:E}),(0,s.jsxs)("span",{className:"text-center ",onClick:()=>{i(!r)},children:[" ",(0,s.jsx)(Mn,{icon:r?Un:zn})]}),(0,s.jsx)("button",{type:"button",className:g?"signup-continue-button confirm-button":"signup-continue-button","data-continue-to":"username-container",disabled:!g,onClick:k,children:"Continue"})]})]}),(0,s.jsxs)("div",{id:"username-container",className:"js-continue-step-container signup-continue-step-container mt-4 px-sm-0 px-4 d-none","data-step-state":"active",children:[(0,s.jsx)("div",{className:"mb-1",children:(0,s.jsxs)("label",{htmlFor:"username",className:"signup-text-prompt",children:["Enter a username",(0,s.jsx)("sup",{"aria-hidden":"true",children:"*"})]})}),(0,s.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,s.jsx)("span",{className:"text-center",children:(0,s.jsx)(Mn,{icon:y?jn:Vn,className:y?"text-success":""})}),(0,s.jsx)("input",{name:"username",type:"text",id:"username",className:"bg-transparent border-0 w-100",onChange:I,onFocus:E}),(0,s.jsx)("button",{type:"button",className:y?"signup-continue-button confirm-button":"signup-continue-button","data-continue-to":"create-container",disabled:!y,onClick:k,children:"Continue"})]})]}),(0,s.jsxs)("div",{className:"py-3 text-center d-none",id:"create-container",children:[(0,s.jsx)("button",{type:"button",className:"signup-continue-button1 ",onClick:async()=>{_(!0),await jx.firestore().collection("users").add({username:d,email:u,password:a,timestamp:jx.firestore.FieldValue.serverTimestamp()}).then((function(){fN.success("User Added Successfully"),setTimeout((function(){window.location.reload()}),3e3)}))},children:w?"Loading...":"Create an account"}),(0,s.jsx)(_N,{position:"top-right",autoClose:3e3,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"errorText py-4 text-gray-light-mktg",children:c})})]})})})}const kN=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"signup-space  ",children:[(0,s.jsx)("div",{className:"signup-stars"}),(0,s.jsx)("div",{className:"signup-stars"}),(0,s.jsx)("div",{className:"signup-stars"}),(0,s.jsx)("div",{className:"signup-stars"}),(0,s.jsx)("div",{className:"signup-stars"}),(0,s.jsx)("div",{className:"signup-stars"})]})}),(0,s.jsx)("header",{children:(0,s.jsx)(Bn,{})}),(0,s.jsx)("div",{className:"container",children:(0,s.jsx)(IN,{})}),(0,s.jsx)("footer",{children:(0,s.jsx)(a,{})})]})},EN=e=>{e&&e instanceof Function&&n.e(592).then(n.bind(n,592)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};r.createRoot(document.getElementById("root")).render((0,s.jsx)(t.StrictMode,{children:(0,s.jsx)(kN,{})})),EN()})()})();
//# sourceMappingURL=main.12875cd7.js.map